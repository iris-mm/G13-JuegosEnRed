(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(t=r.currentScript.src),!t)){var a=r.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=a[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=Phaser;var r=e.n(t);const a=e.p+"0952e01942b8b13ffb86.jpeg",n=e.p+"83193810c232969f95f6.png";class s{constructor(e,t,r,a,n,s,o){this.scene=e,this.style={fontFamily:"ButtonsFont",fontSize:"24px",color:"#00ff00"},this.image=e.add.image(0,0,a),this.text=e.add.text(0,0,n,s).setOrigin(.5),this.container=e.add.container(t,r,[this.image,this.text]),this.container.setSize(this.image.width,this.image.height),this.container.setInteractive({useHandCursor:!0}).on("pointerover",()=>this.image.setTint(11184810)).on("pointerout",()=>this.image.clearTint()).on("pointerdown",o)}setText(e){this.text.setText(e)}destroy(){this.container.destroy()}}class o extends r().Scene{constructor(){super("MenuScene")}preload(){this.load.image("menuBackground",a),this.load.image("buttonBackground",n)}create(){this.add.image(400,300,"menuBackground"),this.add.text(400,100,"CREPUSCULONES",{fontSize:"64px",color:"#ffffff"}).setOrigin(.5),document.fonts.ready.then(()=>{new s(this,400,300,"buttonBackground","Jugar",()=>{this.scene.start("GameScene")}),new s(this,400,400,"buttonBackground","Opciones",()=>{console.log("Abrir opciones")}),new s(this,400,500,"buttonBackground","Salir",()=>{console.log("Salir del juego")})})}}const i=e.p+"d8f8bf1a1093ac3d69b0.png",c=e.p+"6ddbdc28fb2e87c2370c.png",d=e.p+"1af89219a86c804731e9.png";class l extends r().Scene{constructor(){super("GameScene")}preload(){this.load.image("floor",i),this.load.image("game_boundary",c),this.load.image("leaves",d)}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3).setDepth(0),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3);this.add.rectangle(81,400,96,96,4079276).setAlpha(.5),this.add.rectangle(1119,400,96,96,10682368).setAlpha(.5)}update(){}}class p extends r().Scene{constructor(){super("PauseScene")}preload(){}create(){}}class g extends r().Scene{constructor(){super("CreditsScene")}preload(){}create(){}}class h extends r().Scene{constructor(){super("ConfigScene")}preload(){}create(){}}const u={type:r().AUTO,width:1200,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[o,l,p,g,h],backgroundColor:"#47ddffff",pixelArt:!0};new(r().Game)(u)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQyxVQUFtQixVQUM1QixXQUFBOUMsR0FDSTJCLE1BQU0sYUFDVixDQUVBLE9BQUFDLEdBRUEsQ0FFQSxNQUFBRSxHQUVBLEVDWEcsTUFBTWlCLFVBQXFCLFVBQzlCLFdBQUEvQyxHQUNJMkIsTUFBTSxlQUNWLENBRUEsT0FBQUMsR0FFQSxDQUVBLE1BQUFFLEdBRUEsRUNYRyxNQUFNa0IsVUFBb0IsVUFDN0IsV0FBQWhELEdBQ0kyQixNQUFNLGNBQ1YsQ0FFQSxPQUFBQyxHQUVBLENBRUEsTUFBQUUsR0FFQSxFQ05KLE1BQU1tQixFQUFTLENBQ1hDLEtBQU0sU0FDTmxDLE1BQU8sS0FDUEMsT0FBUSxJQUNSa0MsT0FBUSxpQkFDUlYsUUFBUyxDQUNMVyxRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFcEQsRUFBRyxFQUFHQyxFQUFHLEdBQ3BCb0QsT0FBTyxJQUdmdEQsTUFBTyxDQUFDeUIsRUFBV1csRUFBV1MsRUFBWUMsRUFBY0MsR0FDeERRLGdCQUFpQixZQUNqQkMsVUFBVSxHQUdELElBQUksVUFBWVIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ByYWN0aWNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ByYWN0aWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wcmFjdGljZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3ByYWN0aWNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJhY3RpY2Uvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvZW50aXRpZXMvQnV0dG9uLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL3NjZW5lcy9Db25maWdTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSwgdGV4dHVyZSwgdGV4dCwgc3R5bGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgICAgICB0aGlzLnN0eWxlID0ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLCBcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JywgICAgICAgICAgICBcclxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBzY2VuZS5hZGQuaW1hZ2UoMCwgMCwgdGV4dHVyZSk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc2NlbmUuYWRkLnRleHQoMCwgMCwgdGV4dCwgc3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHNjZW5lLmFkZC5jb250YWluZXIoeCwgeSwgW3RoaXMuaW1hZ2UsIHRoaXMudGV4dF0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFNpemUodGhpcy5pbWFnZS53aWR0aCwgdGhpcy5pbWFnZS5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5pbWFnZS5zZXRUaW50KDB4YWFhYWFhKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5pbWFnZS5jbGVhclRpbnQoKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUZXh0KG5ld1RleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQuc2V0VGV4dChuZXdUZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgbWVudUJhY2tncm91bmQgZnJvbSAnLi4vLi4vYXNzZXRzL3BhbnRhbGxhX2RlX2luaWNpby5qcGVnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYnV0dG9uQmFja2dyb3VuZCBmcm9tICcuLi8uLi9hc3NldHMvYm90b24gcGllZHJhLnBuZyc7XHJcbi8vaW1wb3J0YXIgY2xhc2VzXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL2VudGl0aWVzL0J1dHRvbi5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWVudUJhY2tncm91bmQnLCBtZW51QmFja2dyb3VuZCk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnV0dG9uQmFja2dyb3VuZCcsIGJ1dHRvbkJhY2tncm91bmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBjZW50cmFkb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnbWVudUJhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdDUkVQVVNDVUxPTkVTJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJvdG9uZXMgdXNhbmRvIGxhIGNsYXNlIEJ1dHRvblxyXG4gICAgICAgIGRvY3VtZW50LmZvbnRzLnJlYWR5LnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5QnV0dG9uID0gbmV3IEJ1dHRvbihcclxuICAgICAgICAgICAgICAgIHRoaXMsIDQwMCwgMzAwLCAnYnV0dG9uQmFja2dyb3VuZCcsICdKdWdhcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzQnV0dG9uID0gbmV3IEJ1dHRvbihcclxuICAgICAgICAgICAgICAgIHRoaXMsIDQwMCwgNDAwLCAnYnV0dG9uQmFja2dyb3VuZCcsICdPcGNpb25lcycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBYnJpciBvcGNpb25lcycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXRCdXR0b24gPSBuZXcgQnV0dG9uKFxyXG4gICAgICAgICAgICAgICAgdGhpcywgNDAwLCA1MDAsICdidXR0b25CYWNrZ3JvdW5kJywgJ1NhbGlyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhbGlyIGRlbCBqdWVnbycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIC8qLy8gQm90w7NuIEp1Z2FyXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzIwLCAnSnVnYXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjN2JmZmMxZmYnIH0pKVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmYwMCcgfSkpXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJykpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gT25saW5lIChubyBkaXNwb25pYmxlKVxyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAzOTAsICdPbmxpbmUgTXVsdGlwbGF5ZXIgKE5vdCBBdmFpbGFibGUpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNhZDMyZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvbmxpbmVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2NhOWVlN2ZmJyB9KSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjYWQzMmZmZmYnIH0pKTsqL1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZmxvb3IgZnJvbSAnLi4vLi4vYXNzZXRzL3N0b25lX3RpbGUucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZ2FtZV9ib3VuZGFyeSBmcm9tICcuLi8uLi9hc3NldHMvZ2FtZV9ib3VuZGFyeS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBsZWF2ZXMgZnJvbSAnLi4vLi4vYXNzZXRzL2xlYXZlc19vdmVybGF5LnBuZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmxvb3InLCBmbG9vcik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdnYW1lX2JvdW5kYXJ5JywgZ2FtZV9ib3VuZGFyeSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsZWF2ZXMnLCBsZWF2ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vRXNjZW5hcmlvXHJcbiAgICAgICAgY29uc3QgZmxvb3IgPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDEyMDAsIDgwMCwgJ2Zsb29yJykgXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApIFxyXG4gICAgICAgIC5zZXRTY2FsZSgzKSBcclxuICAgICAgICAuc2V0RGVwdGgoMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYm91bmRhcnkgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDYwMCwgNDAwLCAnZ2FtZV9ib3VuZGFyeScpIC8vIDEyMDAvMiB5IDgwMC8yIHBhcmEgcXVlIGVzdMOpIGVuIGVsIGNlbnRyb1xyXG4gICAgICAgIC5zZXRTY2FsZSgzKVxyXG4gICAgICAgIC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgLy8gdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIsIGJvdW5kYXJ5KTtcclxuXHJcbiAgICAgICAgY29uc3QgbGVhdmVzID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdsZWF2ZXMnKVxyXG4gICAgICAgIC5zZXRTY2FsZSgzKTtcclxuXHJcbiAgICAgICAgLy9CYXNlcyBkZSBqdWdhZG9yZXMuIEN1YW5kbyBzZSBjb2xpc2lvbmUgY29uIGVsbGFzICsgdGVuZ2FuIGNhcmFtZWxvLCBzZSBoYXLDoSBjYWxsYmFjayFcclxuICAgICAgICAgICAgLy8gQmFzZSBhenVsIGl6cXVpZXJkYSAtIFBMQVlFUiAxXHJcbiAgICAgICAgICAgIC8vIEJhc2Ugcm9qYSBkZXJlY2hhIC0gUExBWUVSIDJcclxuICAgICAgICBjb25zdCBiYXNlX1NJWkUgPSA5NjtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAzMzsgLy9vZmZzZXQgcG9yIGVsIGdhbWVib3VuZGFyeSwgcGFyYSBxdWUgc2FsZ2EgbGEgYmFzZSBlbnRlcmFcclxuXHJcbiAgICAgICAgY29uc3QgYmx1ZUJhc2UgPSB0aGlzLmFkZC5yZWN0YW5nbGUoKGJhc2VfU0laRS8yKSArIG9mZnNldCAsIDQwMCwgYmFzZV9TSVpFLCBiYXNlX1NJWkUsIDB4M2UzZWFjKVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgIGNvbnN0IHJlZEJhc2UgPSB0aGlzLmFkZC5yZWN0YW5nbGUoKDEyMDAgLSBiYXNlX1NJWkUgLyAyKSAtIG9mZnNldCwgNDAwLCBiYXNlX1NJWkUsIGJhc2VfU0laRSwgMHhBMzAwMDApXHJcbiAgICAgICAgLnNldEFscGhhKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEHDsWFkaXIgY29saWRlciBjdWFuZG8gcGxheWVyIGVzdMOpIGhlY2hvIHkgbGEgZnVuY2nDs24gZGUgYcOxYWRpciBwdW50byB0YW1iacOpbiFcclxuICAgICAgICAvLyB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXIxLCBibHVlQmFzZSwgYWRkUG9pbnQpO1xyXG4gICAgICAgIC8vIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcjIsIHJlZEJhc2UsIGFkZFBvaW50KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkKCl7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkKCl7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlnU2NlbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCgpe1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29uZmlnU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25maWdTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMjAwLFxyXG4gICAgaGVpZ2h0OiA4MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtNZW51U2NlbmUsIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBDb25maWdTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDdkZGZmZmYnLFxyXG4gICAgcGl4ZWxBcnQ6IHRydWVcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlBoYXNlciIsIkJ1dHRvbiIsImNvbnN0cnVjdG9yIiwic2NlbmUiLCJ4IiwieSIsInRleHR1cmUiLCJ0ZXh0Iiwic3R5bGUiLCJjYWxsYmFjayIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwiaW1hZ2UiLCJhZGQiLCJzZXRPcmlnaW4iLCJjb250YWluZXIiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNldFRpbnQiLCJjbGVhclRpbnQiLCJzZXRUZXh0IiwibmV3VGV4dCIsImRlc3Ryb3kiLCJNZW51U2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiY3JlYXRlIiwiZm9udHMiLCJyZWFkeSIsInRoZW4iLCJzdGFydCIsImNvbnNvbGUiLCJsb2ciLCJHYW1lU2NlbmUiLCJ0aWxlU3ByaXRlIiwic2V0U2NhbGUiLCJzZXREZXB0aCIsInBoeXNpY3MiLCJzZXRJbW1vdmFibGUiLCJyZWN0YW5nbGUiLCJzZXRBbHBoYSIsInVwZGF0ZSIsIlBhdXNlU2NlbmUiLCJDcmVkaXRzU2NlbmUiLCJDb25maWdTY2VuZSIsImNvbmZpZyIsInR5cGUiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiYmFja2dyb3VuZENvbG9yIiwicGl4ZWxBcnQiXSwic291cmNlUm9vdCI6IiJ9