(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=i[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=Phaser,s={volume:.1,SetVolume(e){this.volume=e},GetVolume(){return this.volume},Play(e,t){t.sound.play(e,{volume:this.volume})}};class i{constructor(e,t,i,a,n,o,r={}){this.scene=i,this.style={fontFamily:"ButtonsFont",fontSize:"29px",color:"#ffffff",...r},this.image=i.add.image(0,0,a),this.text=i.add.text(0,0,n,this.style).setOrigin(.5),this.container=i.add.container(e,t,[this.image,this.text]),this.container.setSize(this.image.width,this.image.height),this.container.setScale(1.5),this.container.setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.image.setTint(16776960),this.text.setColor("#ffffdd"),this.text.setScale(1.2)}).on("pointerout",()=>{this.image.clearTint(),this.text.setColor("#ffffffff"),this.text.setScale(1)}).on("pointerdown",()=>{s.Play("SFX_ButtonPress",this.scene),o()})}setText(e){this.text.setText(e)}setPosition(e,t){this.container.setPosition(e,t)}destroy(){this.container.destroy()}}const a=e.p+"b407307dacd2d4ad4c5d.jpg",n=e.p+"aef8fe9cfb896b6ec2b8.png",o=e.p+"public/assets/music_sounds/ButtonPress.mp3",r=e.p+"public/assets/music_sounds/MainMenu.mp3";class h extends t.Scene{constructor(){super("LoginScene")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",o),this.load.audio("MUSIC_MainMenu",r),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){console.log("LOGIN SCENE CREATE");const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play();let t="",a=!1;this.add.rectangle(600,450,500,350,0,.6).setOrigin(.5);const n=this.add.rectangle(600,420,420,50,16777215).setStrokeStyle(2,0).setInteractive({useHandCursor:!0}),o=this.add.text(402,420,"",{fontFamily:"ButtonsFont",fontSize:"28px",color:"#000000"}).setOrigin(0,.5),r=this.add.rectangle(o.x+2,420,2,30,0);this.time.addEvent({delay:500,loop:!0,callback:()=>{r.visible=a}}),n.on("pointerdown",()=>{a=!0,this.input.manager.canvas.style.cursor="text"}),this.input.on("pointerdown",(e,t)=>{t.includes(n)||(a=!1,this.input.manager.canvas.style.cursor="default")}),this.input.keyboard.on("keydown",e=>{a&&("Backspace"===e.key?t=t.slice(0,-1):1===e.key.length&&t.length<12&&(t+=e.key),o.setText(t),r.x=o.x+o.width+4)}),new i(600,540,this,"SPR_Button","Login",()=>{t.trim()&&fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})}).then(e=>e.json()).then(e=>{localStorage.setItem("userId",e.id),this.StartMenu()})});const h=localStorage.getItem("userId");h&&fetch(`/api/users/${h}`).then(e=>{if(!e.ok)throw new Error;this.StartMenu()}).catch(()=>{localStorage.removeItem("userId")}),this.add.text(600,330,"Introduce tu nombre",{fontFamily:"ButtonsFont",fontSize:"32px",color:"#ffffff"}).setOrigin(.5)}StartMenu(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}class d extends t.Scene{constructor(){super("MainMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",o),this.load.audio("MUSIC_MainMenu",r),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(600,350,this,"SPR_Button","Online",()=>this.StartPlay()),new i(300,700,this,"SPR_Button","Tutorial",()=>this.StartTutorial(),{fontSize:"25px"}),new i(600,700,this,"SPR_Button","Ajustes",()=>this.StartSettings()),new i(900,700,this,"SPR_Button","CrÃ©ditos",()=>this.StartCredits(),{fontSize:"25px"}),new i(600,500,this,"SPR_Button","Local",()=>this.StartLocalGame()),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.showCurrentUser(),this.cameras.main.fadeIn(100,0,0,0)}showCurrentUser(){const e=localStorage.getItem("userId");e&&fetch(`/api/users/${e}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(e=>{this.add.text(1170,30,`${e.username}`,{fontFamily:"ButtonsFont",fontSize:"40px",color:"#ffffff"}).setOrigin(1,0)}).catch(()=>{console.warn("No se pudo cargar el usuario")})}StartPlay(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("Lobby"))}StartTutorial(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("TutorialMenu"))}StartSettings(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("SettingsMenu"))}StartCredits(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("CreditsMenu"))}StartLocalGame(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("GameScene"))}}class c extends t.Scene{constructor(){super("PlayModeMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n)}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(420,400,this,"SPR_Button","Crear Partida",null),new i(780,400,this,"SPR_Button","Unirse a Partida",null),new i(600,550,this,"SPR_Button","Local",null),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}init(e){this.socket=e.socket,this.roomId=e.roomId}}const l=e.p+"9a928a9771ed5cc44933.png",m=e.p+"847e97fd19535fdc4879.png",p=e.p+"2ef0c778cd3a032c2a24.png",u=e.p+"04f18ed3df26adbfcd22.png",g=e.p+"2e7e3e24e916d2095b86.png";class y extends t.Scene{constructor(){super("TutorialMenu")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Button",n),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p),this.load.image("controlWASD",u),this.load.image("controlIJLK",g)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.player1Icon=this.add.image(350,450,"SPR_Zombie"),this.player2Icon=this.add.image(850,450,"SPR_Vampire"),this.controlsUI1=this.add.image(190,100,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.35),this.controlsUI2=this.add.image(700,100,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.35),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}const f=e.p+"7a873f3ca0b32de0935a.jpg",b=e.p+"public/assets/music_sounds/Settings.mp3";class S extends t.Scene{constructor(){super("SettingsMenu")}preload(){this.load.image("IMG_SettingsBackground",f),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Settings",b)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Settings",{volume:s.GetVolume(),loop:!0}),this.music.play();const e=this.add.image(600,400,"IMG_SettingsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0),this.add.text(600,365,"Volumen",{fontSize:"32px",color:"#2c2a2aff"}).setOrigin(.5);const a=300,n=this.add.rectangle(600,400,a,20,8947848);let o=s.GetVolume();this.sound.volume=o;const r=this.add.rectangle(450+o*a/2,400,o*a,20,2236962),h=this.add.circle(450+o*a,400,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(h),h.on("drag",(e,t,i)=>{t<450&&(t=450),t>750&&(t=750),h.x=t,o=(h.x-450)/a,s.SetVolume(o),this.sound.setVolume(o),r.width=o*a}),n.setInteractive(),n.on("pointerdown",e=>{const i=e.x-450;o=t.Math.Clamp(i/a,0,1),s.SetVolume(o),this.sound.setVolume(o),h.x=450+o*a,r.width=o*a})}GoBack(){"MainMenu"===this.openedFrom?(this.scene.stop(),this.scene.stop("PauseScene"),this.scene.start("MainMenu")):"PauseScene"===this.openedFrom&&(this.scene.stop(),this.sound.stopAll(),this.scene.resume("PauseScene"),this.sound.volume=s.GetVolume(),this.music=this.sound.add("MUSIC_Game",{volume:s.GetVolume(),loop:!0}),this.music.play()),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}Init(e){this.openedFrom=e?.from||"MainMenu"}}const w=e.p+"d1d9fdf9592522a9b114.jpg",v=e.p+"public/assets/music_sounds/Credits.mp3",O=e.p+"9a98b2a4689f990db35a.png";class I extends t.Scene{constructor(){super("CreditsMenu")}preload(){this.load.image("IMG_Logo",O),this.load.image("IMG_CreditsBackground",w),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Credits",v)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Credits",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.cameras.main.setBackgroundColor("#000000");const e=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"IMG_Logo").setOrigin(.5).setAlpha(0).setScale(.3);this.tweens.add({targets:e,alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(1e3,()=>{this.tweens.add({targets:e,alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{e.destroy(),this.ShowCreditsMenu()}})})}})}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}ShowCreditsMenu(){const e=this.add.image(600,400,"IMG_CreditsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800;const t=["Grupo 13 - Juegos en Red","Marta de Miguel Tapia","Ãngel Younes Karim MÃ©rida","Sara Mesa Pacheco","Claudia Morago Amigo","Iris MuÃ±oz Montero",""];t.forEach((e,t)=>{this.add.text(600,250+50*t,e,{fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5)}),["public/assets de sprites GameScene: 13th CandyWeb","public/assets pantallas: Canva","MÃºsica y efectos de sonido: FreeSound"].forEach((e,s)=>{this.add.text(600,250+50*(t.length+s)+85,e,{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5)}),this.cameras.main.fadeIn(300,0,0,0),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack())}}class _ extends t.Scene{constructor(){super("Lobby")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.startButton=new i(600,600,this,"SPR_Button","Comenzar",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"PLAYER_READY"})),this.startButton.setPosition(-128,-128),this.stateText.setText("Esperando que el rival estÃ© listo..."),this.stateText.setColor("#ffff00"))}),this.startButton.setPosition(-128,-128),new i(600,750,this,"SPR_Button","Salir",()=>this.Leave()),this.player1Icon=this.add.image(300,300,"SPR_Vampire"),this.player1Name=this.add.text(300,120,"...",{fontSize:"32px"}).setOrigin(.5),this.player2Icon=this.add.image(900,300,"SPR_Zombie"),this.player2Name=this.add.text(900,120,"...",{fontSize:"32px"}).setOrigin(.5),this.stateText=this.add.text(600,500,"...",{fontSize:"32px"}).setOrigin(.5),this.cameras.main.fadeIn(100,0,0,0),this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.socket=null,this.connectToServer()}Leave(){this.LeaveQueue(),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.inLobby=!0,this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.ws.send(JSON.stringify({type:"JOIN_QUEUE",userId:localStorage.getItem("userId")}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{this.startButton.setPosition(-128,-128),console.error("WebSocket error:",e),this.stateText.setText("# Error de conexiÃ³n #"),this.stateText.setColor("#ff0000")},this.ws.onclose=()=>{this.startButton.setPosition(-128,-128),console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.stateText.setText("# ConexiÃ³n perdida #"),this.stateText.setColor("#ff0000"))}}catch(e){this.startButton.setPosition(-128,-128),console.error("Error connecting to server:",e),this.stateText.setText("# Fallo al conectar #"),this.stateText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"playerNotConnected":case"playerDisconnected":this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.player1Name.setText("..."),this.player2Name.setText("..."),this.socket=null,this.connectToServer();break;case"gameStart":this.stateText.setText("Â¡Rival encontrado!"),this.stateText.setColor("#00ff00"),this.startButton.setPosition(600,600);let t="TÃš",s="TÃš";fetch(`/api/users/${e.enemyId}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(i=>{"player1"==e.role?s=i.username:t=i.username,this.player1Name.setText(t),this.player2Name.setText(s)}).catch(()=>{console.warn("No se pudo cargar el usuario")});break;case"START_GAME":console.log("Game starting in room:",e.roomId),this.scene.start("MultiplayerGameScene",{ws:this.ws,roomId:e.roomId,playerRole:e.role});break;default:console.log("Unknown server message type:",e.type)}}LeaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}}const P=e.p+"d2c5034eb163da60aae4.png",x=e.p+"18cea01896ee5b01dac0.png",C=e.p+"1af89219a86c804731e9.png",E=e.p+"f0ee1e507522759db3b1.png",k=e.p+"1d41e789bd411830a21b.png",M=e.p+"8bb21662fefcc91026f4.png",T=e.p+"d51231f872d559f02ffb.png",G=e.p+"3e80967c975244f1509f.png",R=e.p+"7e444efb12890a6ed135.png",D=e.p+"4168b3b402b4c13e4c18.png",U=e.p+"28f70a4c08d8e6333b6c.png",A=e.p+"af7b5953f41ea57f384a.png",B=e.p+"0479f4f4f8c30fd26251.png",j=e.p+"ebd6a23e5e37fa692b09.png",W=e.p+"d484fd76bdace8d888b9.png",N=e.p+"34c5b1ce05d87422cc6d.png",L=e.p+"4da35e924f108de8f5d6.png",z=e.p+"038266542e54b8bb2c08.png",F=e.p+"7ccd325b7a47867c37c5.png",V=e.p+"10678e2a3e49ff51abf9.png",H=e.p+"public/assets/music_sounds/game_music.mp3",Y=e.p+"public/assets/music_sounds/timer_alert.mp3";class J{constructor(e,t){this.scene=e,this.text=t,this.remainingTime=100,this.canCountDown=!0,this.cycles=0,this.maxCycles=3}disableCountdown(){this.canCountDown=!1,this.stop()}set(e){this.remainingTime=e}setNotCooldownEvent(e){this.notCooldownEvent=e}start(e,t){this.stop(),this.canCountDown&&(this.duration=e,this.alertPlayed=!1,this.timerEvent=this.scene.time.addEvent({delay:e,loop:!1,callback:()=>{t()}}))}stop(){this.timerEvent&&(this.timerEvent.destroy(),this.timerEvent=void 0)}update(){if(this.canCountDown&&(!this.timerEvent||this.duration<=0))return;if(this.canCountDown){const e=this.timerEvent.getElapsed();this.remainingTime=this.duration-e}const e=Math.max(0,this.remainingTime/1e3);this.text.text=`${e.toFixed(2)}`,e<=5&&!this.alertPlayed&&(this.scene.sound.add("timer_alert").play({volume:4*s.GetVolume()}),this.alertPlayed=!0),e<=0&&this.notCooldownEvent&&(this.notCooldownEvent(),this.notCooldownEvent=null)}}class K{constructor(){this.entities=[]}AddEntity(e){this.entities.push(e)}Update(){this.entities.forEach(e=>{e.Update()})}}class ${constructor(e,t,s,i,a,n=!1){this.x=e,this.y=t,this.sprite=i,this.scene=a,this.gameObject=n?a.physics.add.sprite(e,t,i):a.physics.add.image(e,t,i),this.gameObject.setScale(s),this.gameObject.body.setCollideWorldBounds(!0),this.gameObject.body.setSize(.8*this.gameObject.width,.8*this.gameObject.height),this.gameObject.body.setOffset(.1*this.gameObject.width,.1*this.gameObject.height)}MoveTo(e,t){this.x=e,this.y=t,this.UpdateBodyCoords()}Move(e,t){this.x+=e,this.y+=t,this.UpdateBodyCoords()}UpdateBodyCoords(){this.gameObject.x=this.x,this.gameObject.y=this.y}Update(){}}class X extends ${constructor(e,t,s,i,a){super(e,t,s,i,a),this.playerGrabbing=null}setupOverlap(e,t,s){s.physics.add.overlap(e.gameObject,this.gameObject,()=>{e.GrabItem(this)}),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{t.GrabItem(this)})}GrabItem(e){console.log("ðŸ§ª GrabItem llamado con:",X),null!=e&&null==this.playerGrabbing&&null==e.currentItemGrabbing&&(this.playerGrabbing=e)}ClearPlayer(){this.playerGrabbing=null}Update(){null!=this.playerGrabbing&&this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y-60)}}class Q extends X{constructor(e,t,s){super(-64,-64,e,t,s),this.Reset()}Update(){super.Update(),this.hasSpawned||(this.spawnTime--,this.spawnTime<0&&(this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.hasSpawned=!0))}Reset(){this.MoveTo(-64,-64),this.spawnTime=Phaser.Math.Between(60,240),this.hasSpawned=!1,this.ClearPlayer()}}class Z extends X{constructor(e,t,s){super(-128,-128,e,t,s),this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.throwSpeedX=0,this.throwSpeedY=0,this.isThrown=!1,this.throwOwner=null}setupOverlap(e,t,s){super.setupOverlap(e,t,s),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==e&&e.KnockOut()}),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==t&&t.KnockOut()})}Throw(e,t){null!=this.playerGrabbing&&(this.throwSpeedX=30*(e>0?1:0==e?0:-1),this.throwSpeedY=30*(t>0?1:0==t?0:-1),this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y),this.isThrown=!0,this.throwOwner=this.playerGrabbing,this.ClearPlayer())}Update(){super.Update(),this.ThrowMovement()}ThrowMovement(){if(Math.abs(this.throwSpeedX)<1&&Math.abs(this.throwSpeedY)<1)return this.throwOwner=null,void(this.isThrown=!1);this.Move(this.throwSpeedX*=.9,this.throwSpeedY*=.9),(this.x<50||this.x>1150)&&(this.throwSpeedX*=-1,this.Move(5*Math.sign(this.throwSpeedX),0)),(this.y<50||this.y>750)&&(this.throwSpeedY*=-1,this.Move(0,5*Math.sign(this.throwSpeedY)))}}class q extends X{constructor(e,t,s,i,a,n){super(e,t,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}setupOverlap(e,t,s){s.physics.add.overlap(e.gameObject,this.gameObject,()=>{!e.hasCandy&&this.hasSpawned&&(this.hasSpawned=!1,this.holder=e,e.hasCandy=!0,e.currentItemGrabbing=this)})}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onPlayerOverlap(e)),s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.onPlayerOverlap(t))}onPlayerOverlap(e){e.isLocal&&(e.currentItemGrabbing=this,e.grabItemInputOn&&e.GrabItem(this))}Reset(){this.ClearPlayer()}}class ee extends ${constructor(e,t,s,i,a,n,o,r=!0){super(e,t,s,`${i}_frontEst`,a,!0),this.scene=a,this.speed=200,this.characterName=i,this.cursors=n,this.grabItemKey=o,this.currentItemGrabbing=null,this.isLocal=r,this.hasCandy=!1,this.hasInteractedWithItems=!1,this.hasUpdatedItemInteraction=!1,this.grabItemInputOn=!1,this.itemInteractionCooldown=0,this.facingX=0,this.facingY=0,this.knockOutTimer=0,this.grabItemKey&&(this.scene.input.keyboard.on(`keydown-${this.grabItemKey}`,()=>this.grabItemInputOn=!0),this.scene.input.keyboard.on(`keyup-${this.grabItemKey}`,()=>this.grabItemInputOn=!1))}Update(){this.isLocal&&(this.Movement(),this.ItemInputs(),this.currentItemGrabbing&&this.GrabItem(this.currentItemGrabbing))}Movement(){if(!this.cursors)return;this.vx=0,this.vy=0;let e=!1;this.facingX=0,this.facingY=0,this.cursors.left?.isDown&&(this.vx=-this.speed,this.facingX=-1,e=!0),this.cursors.right?.isDown&&(this.vx=this.speed,this.facingX=1,e=!0),this.cursors.up?.isDown&&(this.vy=-this.speed,this.facingY=-1,e=!0),this.cursors.down?.isDown&&(this.vy=this.speed,this.facingY=1,e=!0);let t=null;e&&(0!==this.vx&&0!==this.vy||0!==this.vx?t=this.vx>0?`${this.characterName}_right_anim`:`${this.characterName}_left_anim`:0!==this.vy&&(t=this.vy>0?`${this.characterName}_front_anim`:`${this.characterName}_back_anim`)),t?this.gameObject.anims.play(t,!0):this.gameObject.setTexture(`${this.characterName}_frontEst`),this.knockOutTimer>0&&(this.knockOutTimer--,this.vx=0,this.vy=0,this.facingX=0,this.facingY=0),this.Move(this.vx*this.scene.game.loop.delta/1e3,this.vy*this.scene.game.loop.delta/1e3);const s=this.gameObject.displayWidth/2,i=this.gameObject.displayHeight/2;this.x<s&&this.MoveTo(s,this.y),this.x>this.scene.sys.game.config.width-s&&this.MoveTo(this.scene.sys.game.config.width-s,this.y),this.y<i&&this.MoveTo(this.x,i),this.y>this.scene.sys.game.config.height-i&&this.MoveTo(this.x,this.scene.sys.game.config.height-i)}ItemInputs(){if(this.knockOutTimer>0)return this.hasUpdatedItemInteraction=!1,void(this.hasInteractedWithItems=!1);this.hasUpdatedItemInteraction?this.hasInteractedWithItems=!1:this.grabItemInputOn&&(this.hasInteractedWithItems=!0,this.hasUpdatedItemInteraction=!0),this.grabItemInputOn||(this.hasUpdatedItemInteraction=!1,this.hasInteractedWithItems=!1),this.itemInteractionCooldown>0&&this.itemInteractionCooldown--}GrabItem(e){this.itemInteractionCooldown>0||this.hasInteractedWithItems&&(null==this.currentItemGrabbing?null==e.playerGrabbing&&(e.GrabItem(this),this.currentItemGrabbing=e,this.itemInteractionCooldown=3,this.isLocal&&e instanceof q&&(this.hasCandy=!0,this.scene.send&&this.scene.send({type:"CANDY_PICKUP",candyId:e.id})),this.hasCandy=this.currentItemGrabbing instanceof Q||this.currentItemGrabbing instanceof q):this.currentItemGrabbing instanceof Z&&(this.currentItemGrabbing.Throw(this.facingX,this.facingY),this.currentItemGrabbing=null,this.itemInteractionCooldown=3))}DeliverCandy(){if(!this.hasCandy)return;const e=this.currentItemGrabbing;e&&(this.hasCandy=!1,this.currentItemGrabbing=null,e.Reset(),this.isLocal&&(console.log("CANDY_DELIVERED enviado al server, candyId:",e.id),this.scene.send({type:"CANDY_DELIVERED",candyId:e.id})))}KnockOut(){this.knockOutTimer>0||(this.knockOutTimer=100,null!=this.currentItemGrabbing&&(this.currentItemGrabbing.MoveTo(this.x,this.y),this.currentItemGrabbing.ClearPlayer(),this.currentItemGrabbing=null,this.hasCandy=!1))}}class te extends ${constructor(e,t,s,i,a,n){super(e,t,.15,null,n),this.owner=a,this.candies=0,this.text=n.add.text(s,i,0,{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000a7"}),this.gameObject.visible=!1,n.physics.add.overlap(a.gameObject,this.gameObject,()=>{a.hasCandy&&a.DeliverCandy()})}CheckForCandy(){this.owner.hasCandy&&(this.text.text=++this.candies,this.owner.hasCandy=!1,this.owner.currentItemGrabbing&&(this.owner.currentItemGrabbing.Reset(),this.owner.currentItemGrabbing=null),this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"CANDY_DELIVERED",player:this.owner===this.scene.localPlayer?"player1":"player2"})))}Restart(){this.candies=0,this.text.text=0}}class se extends ${constructor(e,t,s,i){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.active=!0}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.apply(e),null,this),s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.apply(t),null,this)}apply(e){if(!this.active)return;this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1;const t=e.speed;e.speed*=1.5,this.scene.time.delayedCall(5e3,()=>{e.speed=t,this.respawn()})}respawn(){this.MoveTo(Phaser.Math.Between(200,1e3),Phaser.Math.Between(200,600)),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0}}class ie extends t.Scene{constructor(){super("GameScene")}preload(){this.load.image("floor",P),this.load.image("game_boundary",x),this.load.image("leaves",C),this.load.image("blueBase",E),this.load.image("redBase",k),this.load.audio("game_music",H),this.load.image("timerImg",M),this.load.audio("timer_alert",Y),this.load.image("candy",T),this.load.image("pumpkin1",G),this.load.image("pumpkin2",R),this.load.image("pumpkin3",D),this.load.image("rock",U),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("speed_powerup",A),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3).setDepth(0),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.add.image(81,400,"blueBase").setScale(3),this.add.image(1120.5,400,"redBase").setScale(3),this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75);let e=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100);this.countdown=new J(this,e),this.round=1,this.startRound(45e3),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.scene.launch("PauseScene")}),this.entitiesController=new K,this.anims.create({key:"vampiresa_front_anim",frames:this.anims.generateFrameNumbers("vampiresa_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_back_anim",frames:this.anims.generateFrameNumbers("vampiresa_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_left_anim",frames:this.anims.generateFrameNumbers("vampiresa_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_right_anim",frames:this.anims.generateFrameNumbers("vampiresa_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_front_anim",frames:this.anims.generateFrameNumbers("zombi_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_back_anim",frames:this.anims.generateFrameNumbers("zombi_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_left_anim",frames:this.anims.generateFrameNumbers("zombi_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_right_anim",frames:this.anims.generateFrameNumbers("zombi_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),this.controlsUI1=this.add.image(180,20,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI1,alpha:0,duration:500,onComplete:()=>{this.controlsUI1.destroy()}})}),this.controlsUI2=this.add.image(830,20,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI2,alpha:0,duration:500,onComplete:()=>{this.controlsUI2.destroy()}})}),this.player1=new ee(100,400,.4,"zombi",this,this.keys1,"E"),this.player2=new ee(1100,400,.4,"vampiresa",this,this.keys2,"O"),this.entitiesController.AddEntity(this.player1),this.entitiesController.AddEntity(this.player2),this.candy=new Q(.2,"candy",this),this.candy.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.candy),this.item1=new Z(.3,"pumpkin1",this),this.item1.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item1),this.item2=new Z(.3,"pumpkin2",this),this.item2.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item2),this.item3=new Z(.3,"pumpkin3",this),this.item3.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item3),this.item4=new Z(.3,"rock",this),this.item4.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item4),this.item5=new Z(.3,"rock",this),this.item5.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item5),this.basket1=new te(81,400,70,310,this.player1,this),this.basket2=new te(1120.5,400,1110,310,this.player2,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.speedPowerUp=new se(600,400,.3,this),this.speedPowerUp.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.speedPowerUp)}update(){this.countdown.update(),this.entitiesController.Update()}startRound(e){this.countdown.start(e,()=>this.endRound())}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){const e=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let t="";t=this.player1Score>this.player2Score?"Â¡Gana Jugador 1!":this.player2Score>this.player1Score?"Â¡Gana Jugador 2!":"Â¡Empate!";const s=this.add.text(600,450,t,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return void this.time.delayedCall(3e3,()=>{e.destroy(),s.destroy(),this.scene.start("MainMenu")})}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}}const ae=e.p+"13e3bfed51399d5225e1.png";class ne extends t.Scene{constructor(){super("PauseScene")}preload(){this.load.image("menuPause",ae),this.load.image("buttonBackground",n),this.load.audio("button_sound",o)}create(){this.add.rectangle(600,400,1200,800,0,.5);const e=this.add.image(600,400,"menuPause").setOrigin(.5);e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),new i(600,300,this,"buttonBackground","Reanudar",()=>{this.scene.stop(),this.scene.resume("GameScene")},{fontSize:"23px"}),new i(600,425,this,"buttonBackground","MenÃº",()=>{this.scene.stop("GameScene"),this.scene.start("MainMenu")}),new i(600,550,this,"buttonBackground","Ajustes",()=>{this.scene.launch("SettingsMenu",{from:"PauseScene"}),this.scene.bringToTop("SettingsMenu")})}}const oe=e.p+"11b55ffb7a52e8ee03ac.jpg";class re extends X{constructor(e,t,s,i,a,n){super(e,t,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onPlayerOverlap(e)),s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.onPlayerOverlap(t))}onPlayerOverlap(e){e.isLocal&&(e.currentItemGrabbing=this,e.grabItemInputOn&&e.GrabItem(this))}Reset(){this.ClearPlayer()}}class he extends ${constructor(e,t,s,i,a){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.id=a,this.active=!0,this.gameObject.body.setAllowGravity(!1),this.gameObject.body.setSize(this.gameObject.width*s,this.gameObject.height*s),this.gameObject.body.setOffset((this.gameObject.width-this.gameObject.body.width)/2,(this.gameObject.height-this.gameObject.body.height)/2),this.gameObject.body.setEnable(!0),this.gameObject.setVisible(!0)}setupOverlap(e,t){t.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onCollected(),null,this)}onCollected(){this.active&&(this.active=!1,this.scene.send({type:"POWERUP_COLLECTED",powerUpId:this.id}))}deactivate(){this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1}activate(e,t){this.MoveTo(e,t),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0,this.gameObject.body.updateFromGameObject()}}class de extends t.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.hasCandy=!1,this.currentItemGrabbing=null,this.gameStarted=!1,this.gameEnded=!1,this.candy=null,this.item=null,this.speedPowerUp=null}preload(){this.load.image("floor",P),this.load.image("game_boundary",x),this.load.image("leaves",C),this.load.image("timerImg",M),this.load.audio("game_music",H),this.load.audio("timer_alert",Y),this.load.audio("SFX_ButtonPress",o),this.load.image("candy",T),this.load.image("pumpkin1",G),this.load.image("pumpkin2",R),this.load.image("pumpkin3",D),this.load.image("rock",U),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("SPR_Button",n),this.load.image("speed_powerup",A),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256}),this.load.image("disconectionScreen",oe),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.entitiesController=new K,this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),"player1"===this.playerRole?(this.localPlayer=new ee(100,400,.4,"zombi",this,this.keys1,"E",!0),this.remotePlayer=new ee(1100,400,.4,"vampiresa",this,null,null,!1)):"player2"===this.playerRole&&(this.localPlayer=new ee(1100,400,.4,"vampiresa",this,this.keys2,"O",!0),this.remotePlayer=new ee(100,400,.4,"zombi",this,null,null,!1)),this.entitiesController.AddEntity(this.localPlayer),this.entitiesController.AddEntity(this.remotePlayer),this.basket1=new te(1140,400,70,310,this.localPlayer,this),this.basket2=new te(60,400,1110,310,this.remotePlayer,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.basket1=new te(60,400,70,310,this.localPlayer,this),this.basket2=new te(1140,400,1110,310,this.remotePlayer,this),this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75),this.timerText=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100),this.countdown=new J(this,this.timerText),"player1"!==this.playerRole&&this.countdown.disableCountdown(),this.round=1,this.startRound(45e3),this.setupWebSocket(),this.send({type:"PLAYER_READY"}),this.ws.inLobby=!1}setupWebSocket(){this.ws.onmessage=e=>{if(this.gameEnded)return;const t=JSON.parse(e.data);switch(t.type){case"START_GAME":console.log("START_GAME recibido"),this.gameStarted=!0;break;case"UPDATE_TIMER":t.owner!==this.playerRole&&this.countdown.set(t.timeLeft);break;case"PLAYER_MOVED":t.player!==this.playerRole&&this.remotePlayer.MoveTo(t.x,t.y);break;case"CANDY_SPAWN":console.log("CANDY_SPAWN recibido",t.candy),this.candy?(this.candy.MoveTo(t.candy.x,t.candy.y),this.candy.hasSpawned=!0):(this.candy=new q(t.candy.x,t.candy.y,.2,"candy",this,t.candy.id),this.entitiesController.AddEntity(this.candy),this.candy.setupOverlap(this.localPlayer,this.remotePlayer,this));break;case"ITEM_SPAWN":console.log("ITEM_SPAWN recibido",t.item),this.items||(this.items=[]);let e=this.items.find(e=>e.id===t.item.id);if(e)e.MoveTo(t.item.x,t.item.y),e.hasSpawned=!0;else{const e=new re(t.item.x,t.item.y,.3,t.item.sprite,this,t.item.id);this.entitiesController.AddEntity(e),e.setupOverlap(this.localPlayer,this.remotePlayer,this),this.items.push(e)}break;case"POWERUP_SPAWN":console.log("Recibido POWERUP_SPAWN:",t.powerUp),this.speedPowerUp?(this.speedPowerUp.id=t.powerUp.id,this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y)):(this.speedPowerUp=new he(t.powerUp.x,t.powerUp.y,.3,this,t.powerUp.id),this.entitiesController.AddEntity(this.speedPowerUp),this.speedPowerUp.setupOverlap(this.localPlayer,this));break;case"POWERUP_DESPAWN":if(console.log("Recibido POWERUP_DESPAWN:",t.powerUpId),this.speedPowerUp?.id===t.powerUpId&&this.speedPowerUp.deactivate(),t.player===this.playerRole){const e=this.localPlayer.speed;this.localPlayer.speed*=1.5,this.time.delayedCall(5e3,()=>{this.localPlayer.speed=e})}break;case"POWERUP_RESPAWN":this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y);break;case"gameOver":this.endGame(t.winner);break;case"playerDisconnected":this.handleDisconnect()}}}setupWebSocketListeners(){this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnect()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnect()}}handleDisconnect(){console.error("EJECUTANDO HANDLE DISCONNECT"),this.gameEnded=!0,this.gameStarted=!1,this.add.text(400,250,"El otro jugador se ha desconectado",{fontSize:"48px",color:"#ff0000ff"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){this.add.text(600,400,"Volver al menÃº",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MainMenu")}),this.gameEnded=!0,this.gameStarted=!1,this.physics.pause(),this.showDisconnectScreen()}showDisconnectScreen(){const e=this.add.image(600,400,"disconectionScreen");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(880,600,this,"SPR_Button","MenÃº",()=>{this.scene.start("MainMenu")})}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){this.gameStarted&&!this.gameEnded&&(this.localPlayer.Update(),this.send({type:"PLAYER_MOVE",player:this.playerRole,x:this.localPlayer.x,y:this.localPlayer.y}),this.localPlayer.hasCandy&&this.localPlayer.currentItemGrabbing&&this.localPlayer.currentItemGrabbing.MoveTo(this.localPlayer.x,this.localPlayer.y),this.remotePlayer.hasCandy&&this.remotePlayer.currentItemGrabbing&&this.remotePlayer.currentItemGrabbing.MoveTo(this.remotePlayer.x,this.remotePlayer.y),this.countdown.canCountDown&&this.send({type:"UPDATE_TIME",owner:this.playerRole,timeLeft:this.countdown.remainingTime}),this.countdown.update(),this.entitiesController.Update())}shutdown(){this.ws&&this.ws.close()}startRound(e){this.countdown.canCountDown?this.countdown.start(e,()=>this.endRound()):this.countdown.setNotCooldownEvent(()=>this.endRound())}endGame(e){const t="disconnect"===e?"Jugador desconectado":"Fin de la partida";this.add.text(600,400,t,{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.time.delayedCall(3e3,()=>this.scene.start("MenuScene"))}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){const e=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let t="";t=this.player1Score>this.player2Score?"Â¡Gana Jugador 1!":this.player2Score>this.player1Score?"Â¡Gana Jugador 2!":"Â¡Empate!";const s=this.add.text(600,450,t,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return void this.time.delayedCall(3e3,()=>{e.destroy(),s.destroy(),this.scene.start("MainMenu")})}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}}const ce={type:t.AUTO,width:1200,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[h,d,c,y,S,I,_,ie,ne,de],backgroundColor:"#000000",pixelArt:!0,dom:{createContainer:!0}};new t.Game(ce).scene.start("LoginScene")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUsyQyxJQUFJUCxLQUFLLElBQUssSUFBS2tWLEVBQVksQ0FDbEQ5VSxTQUFVLE9BQ1Y2VSxVQUFXLE9BQ1g1VSxNQUFPLFVBQ1A4UixnQkFBaUIsY0FDbEIzUixVQUFVLElBUWIsWUFOQTVDLEtBQUtvRixLQUFLNkYsWUFBWSxJQUFNLEtBQ3hCbU0sRUFBWXpULFVBQ1o0VCxFQUFVNVQsVUFDVjNELEtBQUs0QixNQUFNaUcsTUFBTSxhQUl6QixDQUVBLE1BQU0yUCxFQUFXeFgsS0FBSzJDLElBQUlQLEtBQUssSUFBSyxJQUFLLFNBQVNwQyxLQUFLMFYsTUFBUSxjQUFlLENBQzFFbFQsU0FBVSxPQUNWNlUsVUFBVyxPQUNYNVUsTUFBTyxVQUNQOFIsZ0JBQWlCLGNBQ2xCM1IsVUFBVSxJQUViNUMsS0FBS29GLEtBQUs2RixZQUFZLElBQU0sS0FDeEJ1TSxFQUFTN1QsVUFDVCxNQUFNOFQsRUFBY2xKLEtBQUtDLElBQUksRUFBRyxLQUFTLE1BQVN4TyxLQUFLMFYsTUFBUSxJQUMvRDFWLEtBQUsyVixXQUFXOEIsSUFFeEIsRUN6aUJKLE1BQU1pQyxHQUFVLENBQ1ozTixLQUFNLE9BQ05oSixNQUFPLEtBQ1BDLE9BQVEsSUFDUjJXLE9BQVEsaUJBQ1JySyxRQUFTLENBQ0xzSyxRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFN1gsRUFBRyxFQUFHQyxFQUFHLEdBQ3BCNlgsT0FBTyxJQUlmblksTUFBTyxDQUFDZ0MsRUFBWWtFLEVBQVVTLEVBQWNNLEVBQWNNLEVBQWNvQixFQUFhaUIsRUFBTzBKLEdBQVd3QyxHQUN2R1csSUFDQTlELGdCQUFpQixVQUNqQnlGLFVBQVUsRUFDVkMsSUFBSyxDQUNEQyxpQkFBaUIsSUFJWCxJQUFJLE9BQVlSLElBRXhCOVgsTUFBTWlHLE1BQU0sYSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyZXB1c2N1bG9uZXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvdWkvQnV0dG9uLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9NYWluTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGxheU1vZGVNZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbE1lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1NldHRpbmdzTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c01lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29udHJvbGxlcnMvVGltZXJDb250cm9sbGVyLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29udHJvbGxlcnMvRW50aXRpZXNDb250cm9sbGVyLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29yZS9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9JdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvQ2FuZHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvT25saW5lQ2FuZHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9wbGF5ZXIvcGxheWVyQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0NhbmR5QmFza2V0LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVUaHJvd2FibGVJdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvT25saW5lU3BlZWRQb3dlclVwLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiZXhwb3J0IGNvbnN0IEF1ZGlvTWFuYWdlciA9IHtcclxuICAgIHZvbHVtZTogMC4xLFxyXG5cclxuICAgIFNldFZvbHVtZSh2KSB7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB2O1xyXG4gICAgfSxcclxuXHJcbiAgICBHZXRWb2x1bWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lO1xyXG4gICAgfSxcclxuXHJcbiAgICBQbGF5KGF1ZGlvLCBzY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLnNvdW5kLnBsYXkoYXVkaW8sIHsgdm9sdW1lOiB0aGlzLnZvbHVtZSB9KTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjZW5lLCB0ZXh0dXJlLCB0ZXh0LCBjYWxsYmFjaywgc3R5bGUgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JywgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjlweCcsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIC4uLnN0eWxlXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBzY2VuZS5hZGQuaW1hZ2UoMCwgMCwgdGV4dHVyZSk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc2NlbmUuYWRkLnRleHQoMCwgMCwgdGV4dCwgdGhpcy5zdHlsZSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gc2NlbmUuYWRkLmNvbnRhaW5lcih4LCB5LCBbdGhpcy5pbWFnZSwgdGhpcy50ZXh0XSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0U2l6ZSh0aGlzLmltYWdlLndpZHRoLCB0aGlzLmltYWdlLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0U2NhbGUoMS41KTsgLy8gZXNjYWxhciBmb25kbyB5IHRleHRvXHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc2V0VGludCgweGZmZmYwMCk7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldENvbG9yKCcjZmZmZmRkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0U2NhbGUoMS4yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5jbGVhclRpbnQoKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0Q29sb3IoJyNmZmZmZmZmZicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLlBsYXkoJ1NGWF9CdXR0b25QcmVzcycsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUZXh0KG5ld1RleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQuc2V0VGV4dChuZXdUZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KXtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQb3NpdGlvbih4LCB5KVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19CYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL01haW5NZW51QmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU0ZYX0J1dHRvblByZXNzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc2Z4L0J1dHRvblByZXNzLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX01haW5NZW51IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvTWFpbk1lbnUubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dpblNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2dpblNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0JhY2tncm91bmQnLCBJTUdfQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTVVTSUNfTWFpbk1lbnUnLCBNVVNJQ19NYWluTWVudSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ0J1dHRvbnNGb250JywndXJsKGZvbnRzL2FsYWdhcmRfZm9udC50dGYpJyk7XHJcblxyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oKGxvYWRlZEZvbnQpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRm9udCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlICgpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xPR0lOIFNDRU5FIENSRUFURScpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfTWFpbk1lbnUnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vIEludHJvZHVjaXIgdXN1YXJpb1xyXG4gICAgICAgIGNvbnN0IElOUFVUX1dJRFRIID0gNDIwO1xyXG4gICAgICAgIGNvbnN0IElOUFVUX0hFSUdIVCA9IDUwO1xyXG4gICAgICAgIGNvbnN0IE1BWF9MRU5HVEggPSAxMjtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gJyc7XHJcbiAgICAgICAgbGV0IGZvY3VzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIHRleHRvXHJcbiAgICAgICAgY29uc3QgdGl0bGVCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDQ1MCwgNTAwLCAzNTAsIDB4MDAwMDAwLCAwLjYpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dEJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgNDIwLCBJTlBVVF9XSURUSCwgSU5QVVRfSEVJR0hULCAweGZmZmZmZilcclxuICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoMiwgMHgwMDAwMDApXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5hZGQudGV4dCg2MDAgLSBJTlBVVF9XSURUSCAvIDIgKyAxMiwgNDIwLCAnJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEzDrW5lYSB2ZXJ0aWNhbCBkZSBlc2NyaXR1cmFcclxuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5hZGQucmVjdGFuZ2xlKCBpbnB1dFRleHQueCArIDIsIDQyMCwgMiwgMzAsIDB4MDAwMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUGFycGFkZW9cclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogNTAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge2xpbmUudmlzaWJsZSA9IGZvY3VzZWQ7fVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnB1dEJnLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQubWFuYWdlci5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3RleHQnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyLCBvYmplY3RzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghb2JqZWN0cy5pbmNsdWRlcyhpbnB1dEJnKSkge1xyXG4gICAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQubWFuYWdlci5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRlY2xhZG9cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZm9jdXNlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWUuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkubGVuZ3RoID09PSAxICYmIHVzZXJuYW1lLmxlbmd0aCA8IE1BWF9MRU5HVEgpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWUgKz0gZXZlbnQua2V5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnB1dFRleHQuc2V0VGV4dCh1c2VybmFtZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3ZlciBsYSBsw61uZWEgY29uIHRleHRvXHJcbiAgICAgICAgICAgIGxpbmUueCA9IGlucHV0VGV4dC54ICsgaW5wdXRUZXh0LndpZHRoICsgNDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBpbmljaW8gZGUgc2VzacOzblxyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNTQwLCB0aGlzLCAnU1BSX0J1dHRvbicsICdMb2dpbicsKCkgPT4gXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcm5hbWUudHJpbSgpKSByZXR1cm47IC8vIFNpIG5vIGhheSBub21icmUsIGRldm9sdmVyXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXIgdXN1YXJpb1xyXG4gICAgICAgICAgICAgICAgZmV0Y2goJy9hcGkvdXNlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHVzZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU3RhcnRNZW51KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEF1dG8gbG9naW5cclxuICAgICAgICBjb25zdCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7XHJcblxyXG4gICAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VySWR9YClcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuU3RhcnRNZW51KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMzMwLCAnSW50cm9kdWNlIHR1IG5vbWJyZScsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBTdGFydE1lbnUoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9NYWluTWVudUJhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNGWF9CdXR0b25QcmVzcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBNVVNJQ19NYWluTWVudSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL01haW5NZW51Lm1wMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbk1lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01haW5NZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19CYWNrZ3JvdW5kJywgSU1HX0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU0ZYX0J1dHRvblByZXNzJywgU0ZYX0J1dHRvblByZXNzKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ01VU0lDX01haW5NZW51JywgTVVTSUNfTWFpbk1lbnUpO1xyXG5cclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdCdXR0b25zRm9udCcsJ3VybChmb250cy9hbGFnYXJkX2ZvbnQudHRmKScpO1xyXG5cclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKChsb2FkZWRGb250KSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDM1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIk9ubGluZVwiLCAoKSA9PiB0aGlzLlN0YXJ0UGxheSgpKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCAtIDMwMCwgNzAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVHV0b3JpYWxcIiwgKCkgPT4gdGhpcy5TdGFydFR1dG9yaWFsKCksIHsgZm9udFNpemU6ICcyNXB4JyB9KTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNzAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiQWp1c3Rlc1wiLCAoKSA9PiB0aGlzLlN0YXJ0U2V0dGluZ3MoKSk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgKyAzMDAsIDcwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkNyw6lkaXRvc1wiLCAoKSA9PiB0aGlzLlN0YXJ0Q3JlZGl0cygpLCB7IGZvbnRTaXplOiAnMjVweCcgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIHNvbG8gbG9jYWxcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNTAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiTG9jYWxcIiwgKCkgPT4gdGhpcy5TdGFydExvY2FsR2FtZSgpLCk7XHJcblxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19NYWluTWVudScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93Q3VycmVudFVzZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0N1cnJlbnRVc2VyKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTtcclxuICAgICAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmZXRjaChgL2FwaS91c2Vycy8ke3VzZXJJZH1gKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCgxMTcwLCAzMCwgYCR7dXNlci51c2VybmFtZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBzZSBwdWRvIGNhcmdhciBlbCB1c3VhcmlvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFN0YXJ0UGxheSgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieScpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgU3RhcnRUdXRvcmlhbCgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdUdXRvcmlhbE1lbnUnKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFN0YXJ0U2V0dGluZ3MoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2V0dGluZ3NNZW51JykpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBTdGFydENyZWRpdHMoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c01lbnUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgU3RhcnRMb2NhbEdhbWUoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJykpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTWFpbk1lbnVCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlNb2RlTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGxheU1vZGVNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19CYWNrZ3JvdW5kJywgSU1HX0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgLSAxODAsIDQwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkNyZWFyIFBhcnRpZGFcIiwgbnVsbCk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgKyAxODAsIDQwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlVuaXJzZSBhIFBhcnRpZGFcIiwgbnVsbCk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDU1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkxvY2FsXCIsIG51bGwpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMClcclxuICAgIH1cclxuXHJcbiAgICBHb0JhY2soKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpe1xyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gZGF0YS5zb2NrZXQ7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19EZWZhdWx0QmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9EZWZhdWx0QmFja2dyb3VuZC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbFdBU0QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNXQVNELnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xJSkxLIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzSUpLTC5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19EZWZhdWx0QmFja2dyb3VuZCcsIElNR19EZWZhdWx0QmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfVmFtcGlyZScsIHZhbXBpcmVzYUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9ab21iaWUnLCB6b21iaUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xXQVNEJywgY29udHJvbFdBU0QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbElKTEsnLCBjb250cm9sSUpMSyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfRGVmYXVsdEJhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxSWNvbiA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNDUwLCAnU1BSX1pvbWJpZScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMkljb24gPSB0aGlzLmFkZC5pbWFnZSgxMjAwIC0gMzUwLCA0NTAsICdTUFJfVmFtcGlyZScpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkxPSB0aGlzLmFkZC5pbWFnZSgxOTAsIDEwMCwgJ2NvbnRyb2xXQVNEJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkyPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDEwMCwgJ2NvbnRyb2xJSkxLJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjM1KTtcclxuXHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApXHJcbiAgICB9XHJcblxyXG5cclxuICAgIEdvQmFjaygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX1NldHRpbmdzQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9TZXR0aW5nc0JhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX1NldHRpbmdzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvU2V0dGluZ3MubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NldHRpbmdzTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfU2V0dGluZ3NCYWNrZ3JvdW5kJywgSU1HX1NldHRpbmdzQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19TZXR0aW5ncycsIE1VU0lDX1NldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX1NldHRpbmdzJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX1NldHRpbmdzQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDEwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVm9sdmVyXCIsICgpID0+IHRoaXMuR29CYWNrKCkpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy9UZXh0byBkZSBcIlZvbHVtZW5cIlxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCAzNjUsICdWb2x1bWVuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMyYzJhMmFmZicsXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JhcnJhIGRlIHZvbHVtZW5cclxuICAgICAgICBjb25zdCBiYXJYID0gNjAwO1xyXG4gICAgICAgIGNvbnN0IGJhclkgPSA0MDA7XHJcbiAgICAgICAgY29uc3QgYmFyV2lkdGggPSAzMDA7XHJcbiAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgLy9CYXJyYSBiYXNlXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKGJhclgsIGJhclksIGJhcldpZHRoLCBiYXJIZWlnaHQsIDB4ODg4ODg4KTtcclxuICAgICAgICAvL1ZvbHVtZW4gaW5pY2lhbFxyXG4gICAgICAgIGxldCBjdXJyZW50Vm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gY3VycmVudFZvbHVtZTtcclxuICAgICAgICAvL0JhcnJhIGRlIHJlbGxlbm9cclxuICAgICAgICBjb25zdCB2b2x1bWVJbmRpY2F0b3IgPSB0aGlzLmFkZC5yZWN0YW5nbGUoYmFyWCAtIGJhcldpZHRoIC8gMiArIChjdXJyZW50Vm9sdW1lICogYmFyV2lkdGgpIC8gMiwgYmFyWSwgY3VycmVudFZvbHVtZSAqIGJhcldpZHRoLCBiYXJIZWlnaHQsMHgyMjIyMjIpO1xyXG4gICAgICAgIC8vSGFjZXIgYmFycmEgaW50ZXJhY3RpdmFcclxuICAgICAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUoXHJcbiAgICAgICAgICAgIGJhclggLSBiYXJXaWR0aCAvIDIgKyBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGgsIGJhclksIDEyLCAweGZmZmZmZlxyXG4gICAgICAgIClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vUG9kZXIgYXJyYXN0cmFyIGVsIGhhbmRsZVxyXG4gICAgICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKGhhbmRsZSk7XHJcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnJywgKHBvaW50ZXIsIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICAvL0xpbWl0YXIgZWwgbW92aW1pZW50byBkZWwgaGFuZGxlIGRlbnRybyBkZSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBtaW5YID0gYmFyWCAtIGJhcldpZHRoIC8gMjtcclxuICAgICAgICAgICAgY29uc3QgbWF4WCA9IGJhclggKyBiYXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGlmIChkcmFnWCA8IG1pblgpIGRyYWdYID0gbWluWDtcclxuICAgICAgICAgICAgaWYgKGRyYWdYID4gbWF4WCkgZHJhZ1ggPSBtYXhYO1xyXG4gICAgICAgICAgICBoYW5kbGUueCA9IGRyYWdYO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgdm9sdW1lbiBiYXNhZG8gZW4gbGEgcG9zaWNpw7NuIGRlbCBoYW5kbGVcclxuICAgICAgICAgICAgY3VycmVudFZvbHVtZSA9IChoYW5kbGUueCAtIG1pblgpIC8gYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5TZXRWb2x1bWUoY3VycmVudFZvbHVtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgbGEgYmFycmEgZGUgdm9sdW1lblxyXG4gICAgICAgICAgICB2b2x1bWVJbmRpY2F0b3Iud2lkdGggPSBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ2xpY2sgZW4gbGEgYmFycmEgcGFyYSBtb3ZlciBlbCBoYW5kbGVcclxuICAgICAgICB2b2x1bWVCYXIuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgICAgICB2b2x1bWVCYXIub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxYID0gcG9pbnRlci54IC0gKGJhclggLSBiYXJXaWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgdm9sdW1lbiBiYXNhZG8gZW4gbGEgcG9zaWNpw7NuIGRlbCBjbGlja1xyXG4gICAgICAgICAgICBjdXJyZW50Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAobG9jYWxYIC8gYmFyV2lkdGgsIDAsIDEpO1xyXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIuU2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTtcclxuICAgICAgICAgICAgLy9BY3R1YWxpemFyIGxhIHBvc2ljacOzbiBkZWwgaGFuZGxlIHkgbGEgYmFycmEgZGUgdm9sdW1lblxyXG4gICAgICAgICAgICBoYW5kbGUueCA9IGJhclggLSBiYXJXaWR0aCAvIDIgKyBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIHZvbHVtZUluZGljYXRvci53aWR0aCA9IGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgLy9Cb3TDs24gZGUgXCJWb2x2ZXJcIiBzZWfDum4gZGVzZGUgZMOzbmRlIHNlIGFicmnDsyBsYSBlc2NlbmFcclxuICAgICAgICBpZih0aGlzLm9wZW5lZEZyb20gPT09ICdNYWluTWVudScpe1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdQYXVzZVNjZW5lJyk7IC8vIEFzZWd1cmFyc2UgZGUgZGV0ZW5lciBsYSBlc2NlbmEgZGUgcGF1c2Egc2kgZXN0YWJhIGFiaWVydGFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTsgLy8gSXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5vcGVuZWRGcm9tID09PSAnUGF1c2VTY2VuZScpe1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdQYXVzZVNjZW5lJyk7IC8vIFZvbHZlciBhIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19HYW1lJywge1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG5cclxuICAgIEluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5vcGVuZWRGcm9tID0gZGF0YT8uZnJvbSB8fCAnTWFpbk1lbnUnOyAvLyBNYWluTWVudSBvIFBhdXNlU2NlbmVcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19DcmVkaXRzQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9DcmVkaXRzQmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgTVVTSUNfQ3JlZGl0cyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL0NyZWRpdHMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0xvZ28gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTG9nby5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNNZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfTG9nbycsIElNR19Mb2dvKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19DcmVkaXRzQmFja2dyb3VuZCcsIElNR19DcmVkaXRzQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19DcmVkaXRzJywgTVVTSUNfQ3JlZGl0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19DcmVkaXRzJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyMwMDAwMDAnKTtcclxuICAgICAgICAvL0xvZ28gaW5pY2lhbFxyXG4gICAgICAgIGNvbnN0IGxvZ29JbWcgPSB0aGlzLmFkZC5pbWFnZSggdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLyAyLFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAvIDIsJ0lNR19Mb2dvJykuc2V0T3JpZ2luKDAuNSkuc2V0QWxwaGEoMCkuc2V0U2NhbGUoMC4zKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBsb2dvSW1nLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIGVhc2U6ICdQb3dlcjInLFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IGxvZ29JbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogJ1Bvd2VyMicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29JbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TaG93Q3JlZGl0c01lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcblxyXG4gICAgU2hvd0NyZWRpdHNNZW51KCl7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19DcmVkaXRzQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICAvLyBBcnJheSBjb24gbG9zIG5vbWJyZXNcclxuICAgICAgICBjb25zdCBjcmVkaXRzR3J1cG8gPSBbXHJcbiAgICAgICAgICAgICdHcnVwbyAxMyAtIEp1ZWdvcyBlbiBSZWQnLCBcclxuICAgICAgICAgICAgJ01hcnRhIGRlIE1pZ3VlbCBUYXBpYScsXHJcbiAgICAgICAgICAgICfDgW5nZWwgWW91bmVzIEthcmltIE3DqXJpZGEnLFxyXG4gICAgICAgICAgICAnU2FyYSBNZXNhIFBhY2hlY28nLFxyXG4gICAgICAgICAgICAnQ2xhdWRpYSBNb3JhZ28gQW1pZ28nLFxyXG4gICAgICAgICAgICAnSXJpcyBNdcOxb3ogTW9udGVybycsXHJcbiAgICAgICAgICAgICcnLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNPdGhlcnM9W1xyXG4gICAgICAgICAgICAncHVibGljL2Fzc2V0cyBkZSBzcHJpdGVzIEdhbWVTY2VuZTogMTN0aCBDYW5keVdlYicsXHJcbiAgICAgICAgICAgICdwdWJsaWMvYXNzZXRzIHBhbnRhbGxhczogQ2FudmEnLFxyXG4gICAgICAgICAgICAnTcO6c2ljYSB5IGVmZWN0b3MgZGUgc29uaWRvOiBGcmVlU291bmQnLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIEFsdHVyYSBpbmljaWFsIHBhcmEgZWwgcHJpbWVyIG5vbWJyZSBcclxuICAgICAgICBsZXQgc3RhcnRZID0gMjUwO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSA1MDsgLy8gZXNwYWNpbyB2ZXJ0aWNhbCBlbnRyZSBub21icmVzXHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNhZGEgbm9tYnJlIGNlbnRyYWRvXHJcbiAgICAgICAgY3JlZGl0c0dydXBvLmZvckVhY2goKG5hbWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCBzdGFydFkgKyBpbmRleCAqIHNwYWNpbmcsIG5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNyZWRpdHNPdGhlcnMuZm9yRWFjaCgobmFtZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIHN0YXJ0WSArIChjcmVkaXRzR3J1cG8ubGVuZ3RoICsgaW5kZXgpICogc3BhY2luZyArODUsIG5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMzAwLCAwLCAwLCAwKVxyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDEwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVm9sdmVyXCIsICgpID0+IHRoaXMuR29CYWNrKCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0RlZmF1bHRCYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0RlZmF1bHRCYWNrZ3JvdW5kLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9WYW1waXJlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy92YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX1pvbWJpZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvem9tYmllX2Zyb250LnBuZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9iYnkgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvYmJ5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19EZWZhdWx0QmFja2dyb3VuZCcsIElNR19EZWZhdWx0QmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfVmFtcGlyZScsIFNQUl9WYW1waXJlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9ab21iaWUnLCBTUFJfWm9tYmllKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19EZWZhdWx0QmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDYwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkNvbWVuemFyXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ1BMQVlFUl9SRUFEWScgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KTsgLy8gb2N1bHRhciBib3TDs24gdHJhcyBwdWxzYXJcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoJ0VzcGVyYW5kbyBxdWUgZWwgcml2YWwgZXN0w6kgbGlzdG8uLi4nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpOyAvLyBvY3VsdG8gYWwgaW5pY2lvXHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJTYWxpclwiLCAoKSA9PiB0aGlzLkxlYXZlKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcjFJY29uID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCAzMDAsICdTUFJfVmFtcGlyZScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMU5hbWUgPSB0aGlzLmFkZC50ZXh0KDMwMCwgMTIwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIySWNvbiA9IHRoaXMuYWRkLmltYWdlKDEyMDAgLSAzMDAsIDMwMCwgJ1NQUl9ab21iaWUnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJOYW1lID0gdGhpcy5hZGQudGV4dCgxMjAwIC0gMzAwLCAxMjAsIFwiLi4uXCIsIHsgZm9udFNpemU6IFwiMzJweFwiIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCA1MDAsIFwiLi4uXCIsIHsgZm9udFNpemU6IFwiMzJweFwiIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dChgRXNwZXJhbmRvIHJpdmFsLi4uYCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcblxyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBMZWF2ZSgpIHtcclxuICAgICAgICB0aGlzLkxlYXZlUXVldWUoKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgICAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG4gICAgICAgICAgICB0aGlzLndzLmluTG9iYnkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICAgICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdKT0lOX1FVRVVFJywgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykgfSkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoJyMgRXJyb3IgZGUgY29uZXhpw7NuICMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCcjIENvbmV4acOzbiBwZXJkaWRhICMnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCcjIEZhbGxvIGFsIGNvbmVjdGFyICMnKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllck5vdENvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KGBFc3BlcmFuZG8gcml2YWwuLi5gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIxTmFtZS5zZXRUZXh0KFwiLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIyTmFtZS5zZXRUZXh0KFwiLi4uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KGDCoVJpdmFsIGVuY29udHJhZG8hYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbig2MDAsIDYwMCk7IC8vIEFob3JhIHPDrSBlcyBjbGljYWJsZVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXIxVXNlcm5hbWUgPSBcIlTDmlwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllcjJVc2VybmFtZSA9IFwiVMOaXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHtkYXRhLmVuZW15SWR9YClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEucm9sZSA9PSBcInBsYXllcjFcIikgcGxheWVyMlVzZXJuYW1lID0gdXNlci51c2VybmFtZTsgZWxzZSBwbGF5ZXIxVXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcjFOYW1lLnNldFRleHQocGxheWVyMVVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcjJOYW1lLnNldFRleHQocGxheWVyMlVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gc2UgcHVkbyBjYXJnYXIgZWwgdXN1YXJpbycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdTVEFSVF9HQU1FJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIGluIHJvb206JywgZGF0YS5yb29tSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyR2FtZVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBzZXJ2ZXIgbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIExlYXZlUXVldWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uLy4uLy4uL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lckNvbnRyb2xsZXJ7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2NlbmUsIHRleHQpe1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICB0aGlzLnJlbWFpbmluZ1RpbWUgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5jYW5Db3VudERvd24gPSB0cnVlO1xyXG5cclxuICAgICAgICAvL0N1ZW50YSBkZSByb25kYXNcclxuICAgICAgICB0aGlzLmN5Y2xlcyA9IDA7ICAgICAgICAvLyBjdcOhbnRhcyB2ZWNlcyBoYSB0ZXJtaW5hZG9cclxuICAgICAgICB0aGlzLm1heEN5Y2xlcyA9IDM7ICAgICAvLyBtw6F4aW1vIGRlIHJlcGV0aWNpb25lc1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGVDb3VudGRvd24oKXtcclxuICAgICAgICB0aGlzLmNhbkNvdW50RG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCh0aW1lKXtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ1RpbWUgPSB0aW1lO1xyXG4gICAgfVxyXG4gICAgc2V0Tm90Q29vbGRvd25FdmVudChjYWxsYmFjayl7XHJcbiAgICAgICAgdGhpcy5ub3RDb29sZG93bkV2ZW50ID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoZHVyYXRpb24sIGNhbGxiYWNrKXtcclxuICAgICAgICAvL1NpIHlhIGV4aXN0ZSwgZGVzdHJ1aXIgZWwgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmNhbkNvdW50RG93bikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgdGhpcy5hbGVydFBsYXllZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudChcclxuICAgICAgICB7ZGVsYXk6ZHVyYXRpb24sXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpe1xyXG4gICAgICAgIGlmKHRoaXMudGltZXJFdmVudCl7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy9TaSBubyBleGlzdGUsIHZvbHZlclxyXG4gICAgICAgIGlmICh0aGlzLmNhbkNvdW50RG93biAmJiAoIXRoaXMudGltZXJFdmVudCB8fCB0aGlzLmR1cmF0aW9uIDw9IDApKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5jYW5Db3VudERvd24pe1xyXG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGhpcy50aW1lckV2ZW50LmdldEVsYXBzZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdUaW1lID0gdGhpcy5kdXJhdGlvbiAtIGVsYXBzZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFdml0YXIgbmVnYXRpdm9cclxuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5tYXgoMCwgdGhpcy5yZW1haW5pbmdUaW1lIC8gMTAwMCk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dC50ZXh0ID0gYCR7c2Vjb25kcy50b0ZpeGVkKDIpfWA7XHJcblxyXG4gICAgICAgIC8vU29uaWRvIGRlIGFsZXJ0YSBjdWFuZG8gcXVlZGFuIDEwIHNlZ3VuZG9zIG8gbWVub3NcclxuICAgICAgICBpZiAoc2Vjb25kcyA8PSA1ICYmICF0aGlzLmFsZXJ0UGxheWVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyQWxlcnQgPSB0aGlzLnNjZW5lLnNvdW5kLmFkZCgndGltZXJfYWxlcnQnKTtcclxuICAgICAgICAgICAgdGltZXJBbGVydC5wbGF5KHsgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCkgKiA0IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0UGxheWVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNlY29uZHMgPD0gMCAmJiB0aGlzLm5vdENvb2xkb3duRXZlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLm5vdENvb2xkb3duRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5ub3RDb29sZG93bkV2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRW50aXRpZXNDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZEVudGl0eShlbnRpdHkpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5VcGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIHVzZVNwcml0ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIGlmICh1c2VTcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHNwcml0ZSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0ID0gc2NlbmUucGh5c2ljcy5hZGQuaW1hZ2UoeCwgeSwgc3ByaXRlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFNjYWxlKHNjYWxlKTtcclxuXHJcbiAgICAgICAgLy8gQm9keSBiw6FzaWNvIHBhcmEgb3ZlcmxhcFxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTsgLy8gb3BjaW9uYWwsIGV2aXRhIHF1ZSBzYWxnYSBkZWwgbWFwYVxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldFNpemUoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC53aWR0aCAqIDAuOCwgIC8vIGFuY2hvIGRlbCBjdWVycG9cclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmhlaWdodCAqIDAuOCAgLy8gYWx0byBkZWwgY3VlcnBvXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRPZmZzZXQoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC53aWR0aCAqIDAuMSwgIC8vIG9wY2lvbmFsLCBjZW50cmFyIGJvZHlcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmhlaWdodCAqIDAuMVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIE11ZXZlIGxhIGVudGlkYWQgYSB1bmEgcG9zaWNpb25cclxuICAgIE1vdmVUbyh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuVXBkYXRlQm9keUNvb3JkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICBNdWV2ZSBhIGxhIGVudGlkYWQgJ3gnIGUgJ3knIHVuaWRhZGVzXHJcbiAgICBNb3ZlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnggKz0geDtcclxuICAgICAgICB0aGlzLnkgKz0geTtcclxuICAgICAgICB0aGlzLlVwZGF0ZUJvZHlDb29yZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVCb2R5Q29vcmRzKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC54ID0gdGhpcy54O1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC55ID0gdGhpcy55O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICBBY3R1YWxpemEgbGEgZW50aWRhZFxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSXRlbSBleHRlbmRzIEVudGl0eXtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzcHJpdGUsIHNjZW5lKXtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyR3JhYmJpbmcgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllcjEuZ2FtZU9iamVjdCwgdGhpcy5nYW1lT2JqZWN0LCAoKSA9PiB7IHBsYXllcjEuR3JhYkl0ZW0odGhpcykgfSk7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIyLmdhbWVPYmplY3QsIHRoaXMuZ2FtZU9iamVjdCwgKCkgPT4geyBwbGF5ZXIyLkdyYWJJdGVtKHRoaXMpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIEdyYWJJdGVtKHBsYXllcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp6ogR3JhYkl0ZW0gbGxhbWFkbyBjb246JywgSXRlbSk7XHJcbiAgICAgICAgaWYocGxheWVyID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXJHcmFiYmluZyAhPSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgaWYocGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmcgIT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyR3JhYmJpbmcgPSBwbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgQ2xlYXJQbGF5ZXIoKXtcclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLnBsYXllckdyYWJiaW5nICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSAtIDYwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FuZHkgZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC02NCwgLTY0LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVzZXQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgVXBkYXRlKCl7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmhhc1NwYXduZWQpe1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduVGltZS0tO1xyXG4gICAgICAgICAgICBpZih0aGlzLnNwYXduVGltZSA8IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlc2V0KCl7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oLTY0LCAtNjQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3Bhd25UaW1lID0gUGhhc2VyLk1hdGguQmV0d2Vlbig2MCwgMjQwKTtcclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRocm93YWJsZUl0ZW0gZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC0xMjgsIC0xMjgsIHNjYWxlLCBzcHJpdGUsIHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcblxyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFggPSAwO1xyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFkgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aHJvd093bmVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzdXBlci5zZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpO1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjEuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjIuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFRocm93KHhEaXIsIHlEaXIpe1xyXG4gICAgICAgIGlmKHRoaXMucGxheWVyR3JhYmJpbmcgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJvd0ZvcmNlID0gMzA7XHJcbiAgICAgICAgdGhpcy50aHJvd1NwZWVkWCA9IHRocm93Rm9yY2UgKiAoeERpciA+IDAgPyAxIDogeERpciA9PSAwID8gMCA6IC0xKTtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRZID0gdGhyb3dGb3JjZSAqICh5RGlyID4gMCA/IDEgOiB5RGlyID09IDAgPyAwIDogLTEpO1xyXG5cclxuICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRocm93T3duZXIgPSB0aGlzLnBsYXllckdyYWJiaW5nO1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBzdXBlci5VcGRhdGUoKTtcclxuICAgICAgICB0aGlzLlRocm93TW92ZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBUaHJvd01vdmVtZW50KCl7XHJcbiAgICAgICAgaWYoTWF0aC5hYnModGhpcy50aHJvd1NwZWVkWCkgPCAxICYmIE1hdGguYWJzKHRoaXMudGhyb3dTcGVlZFkpIDwgMSl7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dPd25lciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUaHJvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzaXN0YW5jZSA9IDAuOTtcclxuICAgICAgICB0aGlzLk1vdmUodGhpcy50aHJvd1NwZWVkWCAqPSByZXNpc3RhbmNlLCB0aGlzLnRocm93U3BlZWRZICo9IHJlc2lzdGFuY2UpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnggPCA1MCB8fCB0aGlzLnggPiAxMjAwIC0gNTApIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd1NwZWVkWCAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlKDUgKiBNYXRoLnNpZ24odGhpcy50aHJvd1NwZWVkWCksIDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMueSA8IDUwIHx8IHRoaXMueSA+IDgwMCAtIDUwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dTcGVlZFkgKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZSgwLCA1ICogTWF0aC5zaWduKHRoaXMudGhyb3dTcGVlZFkpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lQ2FuZHkgZXh0ZW5kcyBJdGVtIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpY2nDs24gWCBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWSBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZSBcclxuICAgICAqIEBwYXJhbSB7UGhhc2VyLlNjZW5lfSBzY2VuZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIMO6bmljbyBkZWwgY2FyYW1lbG8gZW52aWFkbyBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIGlkKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcbiAgICAgICAgLy8gTm8gc3Bhd24sIG5vIHNwYXduVGltZSwgbmFkYSBkZSByYW5kb21cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyLCBvdGhlclBsYXllciwgc2NlbmUpIHtcclxuICAgIC8vIERldGVjdGEgY29saXNpw7NuIGRlbCBjYXJhbWVsbyBjb24gdW4ganVnYWRvclxyXG4gICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuZ2FtZU9iamVjdCwgdGhpcy5nYW1lT2JqZWN0LCAoKSA9PiB7XHJcbiAgICAgICAgLy8gU29sbyBzaSBlbCBqdWdhZG9yIG5vIHRpZW5lIHlhIHVuIGNhcmFtZWxvIHkgZXN0ZSBjYXJhbWVsbyBlc3TDoSBkaXNwb25pYmxlXHJcbiAgICAgICAgaWYgKCFwbGF5ZXIuaGFzQ2FuZHkgJiYgdGhpcy5oYXNTcGF3bmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IGZhbHNlOyAgICAgICAgLy8gY2FyYW1lbG8geWEgbm8gZXN0w6EgZW4gZWwgbWFwYVxyXG4gICAgICAgICAgICB0aGlzLmhvbGRlciA9IHBsYXllcjsgICAgICAgICAgIC8vIHJlZmVyZW5jaWEgYSBxdWnDqW4gbG8gbGxldmFcclxuICAgICAgICAgICAgcGxheWVyLmhhc0NhbmR5ID0gdHJ1ZTsgICAgICAgICAvLyBlbCBqdWdhZG9yIGFob3JhIHRpZW5lIHVuIGNhcmFtZWxvXHJcbiAgICAgICAgICAgIHBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nID0gdGhpczsgLy8gcmVmZXJlbmNpYSBhbCBjYXJhbWVsbyBxdWUgbGxldmFcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuICAgIE9uQ29sbGVjdGVkKCkge1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLk1vdmVUbygtNjQsIC02NCk7IC8vIG9jdWx0YXJsbyBtaWVudHJhcyBsbGVnYSBsYSBudWV2YSBwb3NpY2nDs25cclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1JFUVVFU1RfQ0FORFlfUkVTUEFXTicsXHJcbiAgICAgICAgICAgICAgICBjYW5keUlkOiB0aGlzLmlkXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKSB7XHJcbiAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICBwbGF5ZXIxLmdhbWVPYmplY3QsXHJcbiAgICAgICAgKCkgPT4gdGhpcy5vblBsYXllck92ZXJsYXAocGxheWVyMSlcclxuICAgICk7XHJcblxyXG4gICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgcGxheWVyMi5nYW1lT2JqZWN0LFxyXG4gICAgICAgICgpID0+IHRoaXMub25QbGF5ZXJPdmVybGFwKHBsYXllcjIpXHJcbiAgICApO1xyXG59XHJcblxyXG5vblBsYXllck92ZXJsYXAocGxheWVyKSB7XHJcbiAgICBpZiAoIXBsYXllci5pc0xvY2FsKSByZXR1cm47XHJcbiAgICBwbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZyA9IHRoaXM7XHJcblxyXG4gICAgLy8gQXV0by1yZWNvZ2VyIHNpIHF1aWVyZXMgcXVlIG5vIGhheWEgdGVjbGFcclxuICAgIGlmIChwbGF5ZXIuZ3JhYkl0ZW1JbnB1dE9uKSB7XHJcbiAgICAgICAgcGxheWVyLkdyYWJJdGVtKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG4gICAgXHJcbiAgICBSZXNldCgpIHtcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgLy8gbm8gbW92ZXIgYSAtNjQsIC02NFxyXG4gICAgICAgIC8vIG5vIHNwYXduVGltZVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBUaHJvd2FibGVJdGVtIH0gZnJvbSBcIi4uL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanNcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcbmltcG9ydCB7IENhbmR5IH0gZnJvbSBcIi4uL2l0ZW1zL0NhbmR5LmpzXCI7XHJcbmltcG9ydCB7IE9ubGluZUNhbmR5IH0gZnJvbSBcIi4uL2l0ZW1zL09ubGluZUNhbmR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBjaGFyYWN0ZXJOYW1lLCBzY2VuZSwgY3Vyc29ycywgZ3JhYkl0ZW1LZXksIGlzTG9jYWwgPSB0cnVlKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIGAke2NoYXJhY3Rlck5hbWV9X2Zyb250RXN0YCwgc2NlbmUsIHRydWUpOyAvL0RlZmF1bHQgcGxheWVyIGFsIGluaWNpYXJcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJOYW1lID0gY2hhcmFjdGVyTmFtZTtcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSBjdXJzb3JzO1xyXG5cclxuICAgICAgICB0aGlzLmdyYWJJdGVtS2V5ID0gZ3JhYkl0ZW1LZXk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzTG9jYWwgPSBpc0xvY2FsO1xyXG4gICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ncmFiSXRlbUlucHV0T24gPSBmYWxzZTtcclxuICAgICAgICAvKnRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleWRvd24tJHt0aGlzLmdyYWJJdGVtS2V5fWAsICgpID0+IHRoaXMuZ3JhYkl0ZW1JbnB1dE9uID0gdHJ1ZSApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleXVwLSR7dGhpcy5ncmFiSXRlbUtleX1gLCAoKSA9PiB0aGlzLmdyYWJJdGVtSW5wdXRPbiA9IGZhbHNlICk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5mYWNpbmdYID0gMDtcclxuICAgICAgICB0aGlzLmZhY2luZ1kgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmtub2NrT3V0VGltZXIgPSAwO1xyXG5cclxuICAgICAgICAvLyBFc2N1Y2hhciB0ZWNsYSBkZSByZWNvZ2VyXHJcbiAgICAgICAgaWYgKHRoaXMuZ3JhYkl0ZW1LZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5vbihga2V5ZG93bi0ke3RoaXMuZ3JhYkl0ZW1LZXl9YCwgKCkgPT4gdGhpcy5ncmFiSXRlbUlucHV0T24gPSB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5vbihga2V5dXAtJHt0aGlzLmdyYWJJdGVtS2V5fWAsICgpID0+IHRoaXMuZ3JhYkl0ZW1JbnB1dE9uID0gZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0xvY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZW1lbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5JdGVtSW5wdXRzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcpIHRoaXMuR3JhYkl0ZW0odGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgTW92ZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvcnMpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy52eCA9IDA7XHJcbiAgICAgICAgdGhpcy52eSA9IDA7XHJcbiAgICAgICAgbGV0IG1vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmZhY2luZ1ggPSAwO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nWSA9IDA7XHJcblxyXG4gICAgICAgIC8vUGFyYSBxdWUgc29wb3J0ZSBsYXMgZGlhZ29uYWxlcywgcHJpbWVybyBzZSBkZXRlY3RhIGxhIGRpcmVjY2nDs25cclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLmxlZnQ/LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnZ4ID0gLXRoaXMuc3BlZWQ7IHRoaXMuZmFjaW5nWCA9IC0xOyBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnJpZ2h0Py5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy52eCA9IHRoaXMuc3BlZWQ7IHRoaXMuZmFjaW5nWCA9IDE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXA/LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnZ5ID0gLXRoaXMuc3BlZWQ7IHRoaXMuZmFjaW5nWSA9IC0xOyBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLmRvd24/LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnZ5ID0gdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdZID0gMTsgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy95IGx1ZWdvIHNlIGVsaWdlIGxhIGFuaW1hY2nDs24gZGVsIHBlcnNvbmFqZVxyXG4gICAgICAgIGxldCBhbmltYXRpb24gPSBudWxsO1xyXG4gICAgICAgIGlmIChtb3ZpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudnggIT09IDAgJiYgdGhpcy52eSAhPT0gMCkgeyAvL2NvbmRpY2nDs24gZGUgbGEgZGlhZ29uYWxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMudnggPiAwID8gYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9yaWdodF9hbmltYCA6IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fbGVmdF9hbmltYDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZ4ICE9PSAwKSB7IC8vbXZ0byBub3JtYWwgaXpxL2RjaGFcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMudnggPiAwID8gYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9yaWdodF9hbmltYCA6IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fbGVmdF9hbmltYDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZ5ICE9PSAwKSB7IC8vbXZ0byBub3JtYWwgYXJyaWJhL2FiYWpvXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLnZ5ID4gMCA/IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fZnJvbnRfYW5pbWAgOiBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X2JhY2tfYW5pbWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbikgdGhpcy5nYW1lT2JqZWN0LmFuaW1zLnBsYXkoYW5pbWF0aW9uLCB0cnVlKTsgLy9TZSBlamVjdXRhIGxhIGFuaW1hY2nDs24gc2kgZWwgcGVyc29uYWplIHNlIGVzdMOhIG1vdmllbmRvXHJcbiAgICAgICAgZWxzZSB0aGlzLmdhbWVPYmplY3Quc2V0VGV4dHVyZShgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X2Zyb250RXN0YCk7IC8vc2kgbm8sIGlkbGVcclxuXHJcbiAgICAgICAgaWYgKHRoaXMua25vY2tPdXRUaW1lciA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5rbm9ja091dFRpbWVyLS1cclxuICAgICAgICAgICAgdGhpcy52eCA9IDBcclxuICAgICAgICAgICAgdGhpcy52eSA9IDBcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmdYID0gMFxyXG4gICAgICAgICAgICB0aGlzLmZhY2luZ1kgPSAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLk1vdmUoXHJcbiAgICAgICAgICAgIHRoaXMudnggKiB0aGlzLnNjZW5lLmdhbWUubG9vcC5kZWx0YSAvIDEwMDAsXHJcbiAgICAgICAgICAgIHRoaXMudnkgKiB0aGlzLnNjZW5lLmdhbWUubG9vcC5kZWx0YSAvIDEwMDBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvL1BhcmEgcXVlIG5vIHNlIHNhbGdhIGRlbCBtYXBhXHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy5nYW1lT2JqZWN0LmRpc3BsYXlXaWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IHRoaXMuZ2FtZU9iamVjdC5kaXNwbGF5SGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMueCA8IGhhbGZXaWR0aCkgdGhpcy5Nb3ZlVG8oaGFsZldpZHRoLCB0aGlzLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnggPiB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCAtIGhhbGZXaWR0aCkgdGhpcy5Nb3ZlVG8odGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcud2lkdGggLSBoYWxmV2lkdGgsIHRoaXMueSk7XHJcbiAgICAgICAgaWYgKHRoaXMueSA8IGhhbGZIZWlnaHQpIHRoaXMuTW92ZVRvKHRoaXMueCwgaGFsZkhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMueSA+IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCAtIGhhbGZIZWlnaHQpIHRoaXMuTW92ZVRvKHRoaXMueCwgdGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcuaGVpZ2h0IC0gaGFsZkhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgSXRlbUlucHV0cygpIHtcclxuICAgICAgICBpZiAodGhpcy5rbm9ja091dFRpbWVyID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ncmFiSXRlbUlucHV0T24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZ3JhYkl0ZW1JbnB1dE9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID4gMCkgdGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93bi0tO1xyXG4gICAgfVxyXG5cclxuICAgIEdyYWJJdGVtKGl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA+IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgaW5zdGFuY2VvZiBUaHJvd2FibGVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcuVGhyb3codGhpcy5mYWNpbmdYLCB0aGlzLmZhY2luZ1kpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPSAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpdGVtLnBsYXllckdyYWJiaW5nICE9IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaXRlbS5HcmFiSXRlbSh0aGlzKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBpdGVtO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMztcclxuXHJcbiAgICAgICAgIGlmICh0aGlzLmlzTG9jYWwgJiYgaXRlbSBpbnN0YW5jZW9mIE9ubGluZUNhbmR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzQ2FuZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5zZW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdDQU5EWV9QSUNLVVAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbmR5SWQ6IGl0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyBpbnN0YW5jZW9mIENhbmR5IHx8IHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyBpbnN0YW5jZW9mIE9ubGluZUNhbmR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExsYW1hciBjdWFuZG8gZWwganVnYWRvciBzdWpldGEgdW4gY2FyYW1lbG9cclxuICAgIERlbGl2ZXJDYW5keSgpIHtcclxuICAgIGlmICghdGhpcy5oYXNDYW5keSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNhbmR5ID0gdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nO1xyXG4gICAgaWYgKCFjYW5keSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcblxyXG4gICAgY2FuZHkuUmVzZXQoKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc0xvY2FsKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgICdDQU5EWV9ERUxJVkVSRUQgZW52aWFkbyBhbCBzZXJ2ZXIsIGNhbmR5SWQ6JyxcclxuICAgICAgICAgICAgY2FuZHkuaWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnNlbmQoe1xyXG4gICAgICAgICAgICB0eXBlOiAnQ0FORFlfREVMSVZFUkVEJyxcclxuICAgICAgICAgICAgY2FuZHlJZDogY2FuZHkuaWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4gICAgS25vY2tPdXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMua25vY2tPdXRUaW1lciA+IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5rbm9ja091dFRpbWVyID0gMTAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nLk1vdmVUbyh0aGlzLngsIHRoaXMueSlcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5keUJhc2tldCBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB0ZXh0WCwgdGV4dFksIHBsYXllck93bmVyLCBzY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHksIDAuMTUsIG51bGwsIHNjZW5lKVxyXG5cclxuICAgICAgICB0aGlzLm93bmVyID0gcGxheWVyT3duZXI7XHJcbiAgICAgICAgdGhpcy5jYW5kaWVzID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc2NlbmUuYWRkLnRleHQodGV4dFgsIHRleHRZLCAwLCB7IGZvbnRTaXplOiBcIjMycHhcIiwgY29sb3I6IFwiI2ZmZmZmZlwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIgfSlcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBwbGF5ZXJPd25lci5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJPd25lci5oYXNDYW5keSkgcGxheWVyT3duZXIuRGVsaXZlckNhbmR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBDaGVja0ZvckNhbmR5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vd25lci5oYXNDYW5keSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9ICsrdGhpcy5jYW5kaWVzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc2V0IGRlbCBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5vd25lci5oYXNDYW5keSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLmN1cnJlbnRJdGVtR3JhYmJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5jdXJyZW50SXRlbUdyYWJiaW5nLlJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhbCBzZXJ2aWRvciBxdWUgc2UgZW50cmVnw7MgdW4gY2FyYW1lbG9cclxuICAgICAgICBpZiAodGhpcy5zY2VuZS53cyAmJiB0aGlzLnNjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnQ0FORFlfREVMSVZFUkVEJyxcclxuICAgICAgICAgICAgICAgIHBsYXllcjogdGhpcy5vd25lciA9PT0gdGhpcy5zY2VuZS5sb2NhbFBsYXllciA/ICdwbGF5ZXIxJyA6ICdwbGF5ZXIyJ1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIFJlc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5jYW5kaWVzID0gMDtcclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9IDA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcGVlZFBvd2VyVXAgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsICdzcGVlZF9wb3dlcnVwJywgc2NlbmUsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4gdGhpcy5hcHBseShwbGF5ZXIxKSxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgcGxheWVyMi5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB0aGlzLmFwcGx5KHBsYXllcjIpLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseShwbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBdW1lbnRvIHZlbG9jaWRhZFxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3BlZWQgPSBwbGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgcGxheWVyLnNwZWVkICo9IDEuNTtcclxuXHJcbiAgICAgICAgLy8gRHVyYWNpw7NuIGRlbCBlZmVjdG8gNSBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYXllci5zcGVlZCA9IG9yaWdpbmFsU3BlZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucmVzcGF3bigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3Bhd24oKSB7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oXHJcbiAgICAgICAgICAgIFBoYXNlci5NYXRoLkJldHdlZW4oMjAwLCAxMDAwKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguQmV0d2VlbigyMDAsIDYwMClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy9KVUVHT1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBmbG9vciBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvc3RvbmVfdGlsZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lX2JvdW5kYXJ5IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9nYW1lX2JvdW5kYXJ5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGxlYXZlcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvbGVhdmVzX292ZXJsYXkucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYmx1ZUJhc2UgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2JsdWVCYXNlLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHJlZEJhc2UgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3JlZEJhc2UucG5nJztcclxuXHJcbi8vVElNRVJcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJJbWcgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1RpbWVyMS5wbmcnO1xyXG5cclxuXHJcbi8vSVRFTVNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY2FuZHlTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2NhcmFtZWxvLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4xIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjIgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAyLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4zIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMy5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByb2NrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogcGllZHJhLnBuZyc7XHJcblxyXG4vL0NPTlRST0xFU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sV0FTRCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc1dBU0QucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbElKTEsgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNJSktMLnBuZyc7XHJcblxyXG4vL1BPV0VSIFVQU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBzcGVlZFBvd2VyVXBTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29ial9mb2NvX2RlZi5wbmcnO1xyXG5cclxuLy9QRVJTT05BSkVTXHJcbi8vUGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy9BbmltYWNpb25lc1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FiYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX3JpZ2h0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlCYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9yaWdodC5wbmcnO1xyXG5cclxuLy9TT05JRE9TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVNdXNpYyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL2dhbWVfbXVzaWMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJBbGVydCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL3RpbWVyX2FsZXJ0Lm1wMyc7XHJcblxyXG4vL0NMQVNFU1xyXG5pbXBvcnQgeyBUaW1lckNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBFbnRpdGllc0NvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9FbnRpdGllc0NvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBDYW5keSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL0NhbmR5LmpzJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvcGxheWVyL3BsYXllckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBUaHJvd2FibGVJdGVtIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvVGhyb3dhYmxlSXRlbS5qcyc7XHJcbmltcG9ydCB7IENhbmR5QmFza2V0IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvQ2FuZHlCYXNrZXQuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgU3BlZWRQb3dlclVwIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgLy9HYW1lXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbG9vcicsIGZsb29yKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2dhbWVfYm91bmRhcnknLCBnYW1lX2JvdW5kYXJ5KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xlYXZlcycsIGxlYXZlcyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdibHVlQmFzZScsYmx1ZUJhc2UpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVkQmFzZScscmVkQmFzZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdnYW1lX211c2ljJywgZ2FtZU11c2ljKTtcclxuICAgICAgICAvL1RpbWVyXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aW1lckltZycsIHRpbWVySW1nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RpbWVyX2FsZXJ0JywgdGltZXJBbGVydCk7XHJcbiAgICAgICAgLy9JdGVtc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuZHknLCBjYW5keVNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMScsIHB1bXBraW4xKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4yJywgcHVtcGtpbjIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjMnLCBwdW1wa2luMyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyb2NrJywgcm9jayk7XHJcbiAgICAgICAgLy9Db250cm9sc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbFdBU0QnLCBjb250cm9sV0FTRCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sSUpMSycsIGNvbnRyb2xJSkxLKTtcclxuICAgICAgICAvL1Bvd2VyIFVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3BlZWRfcG93ZXJ1cCcsIHNwZWVkUG93ZXJVcFNwcml0ZSk7XHJcbiAgICAgICAgLy9QbGF5ZXJzXHJcbiAgICAgICAgLy9wYXJhIGVsIGlkbGUgKHRlbXBvcmFsKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmFtcGlyZXNhX2Zyb250RXN0JywgdmFtcGlyZXNhRnJvbnRFc3QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnem9tYmlfZnJvbnRFc3QnLCB6b21iaUZyb250RXN0KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2Zyb250JywgdmFtcGlyZXNhRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2JhY2snLCB2YW1waXJlc2FiYWNrLCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9sZWZ0JywgIHZhbXBpcmVzYUxlZnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX3JpZ2h0JywgdmFtcGlyZXNhUmlnaHQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfZnJvbnQnLCAgem9tYmlGcm9udCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9iYWNrJywgem9tYmlCYWNrLCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2xlZnQnLCAgem9tYmlMZWZ0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX3JpZ2h0Jywgem9tYmlSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy9Fc2NlbmFyaW9cclxuICAgICAgICBjb25zdCBmbG9vciA9IHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgMTIwMCwgODAwLCAnZmxvb3InKSBcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMCkgXHJcbiAgICAgICAgLnNldFNjYWxlKDMpIFxyXG4gICAgICAgIC5zZXREZXB0aCgwKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBib3VuZGFyeSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdnYW1lX2JvdW5kYXJ5JykgLy8gMTIwMC8yIHkgODAwLzIgcGFyYSBxdWUgZXN0w6kgZW4gZWwgY2VudHJvXHJcbiAgICAgICAgLnNldFNjYWxlKDMpXHJcbiAgICAgICAgLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICAvLyB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllciwgYm91bmRhcnkpO1xyXG5cclxuICAgICAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2xlYXZlcycpXHJcbiAgICAgICAgLnNldFNjYWxlKDMpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNzUpO1xyXG5cclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnZ2FtZV9tdXNpYycsIHtcclxuICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICAvL0Jhc2VzIGRlIGp1Z2Fkb3Jlcy4gQ3VhbmRvIHNlIGNvbGlzaW9uZSBjb24gZWxsYXMgKyB0ZW5nYW4gY2FyYW1lbG8sIHNlIGhhcsOhIGNhbGxiYWNrIVxyXG4gICAgICAgICAgICAvLyBCYXNlIGF6dWwgaXpxdWllcmRhIC0gUExBWUVSIDFcclxuICAgICAgICAgICAgLy8gQmFzZSByb2phIGRlcmVjaGEgLSBQTEFZRVIgMlxyXG4gICAgICAgIGNvbnN0IGJhc2VfU0laRSA9IDk2O1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IDMzOyAvL29mZnNldCBwb3IgZWwgZ2FtZWJvdW5kYXJ5LCBwYXJhIHF1ZSBzYWxnYSBsYSBiYXNlIGVudGVyYVxyXG5cclxuICAgICAgICBjb25zdCBibHVlQmFzZSA9IHRoaXMuYWRkLmltYWdlKChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgJ2JsdWVCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcbiAgICAgICAgY29uc3QgcmVkQmFzZSA9IHRoaXMuYWRkLmltYWdlKCgxMjAwLWJhc2VfU0laRSkrIG9mZnNldC8yLCA0MDAsICdyZWRCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcblxyXG5cclxuICAgICAgICAvL1RlbXBvcml6YWRvclxyXG4gICAgICAgIGNvbnN0IHRpbWVySW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDk1LCAndGltZXJJbWcnKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OSlcclxuICAgICAgICAuc2V0U2NhbGUoNilcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcbiAgICAgICAgbGV0IHRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsIFwiNDVcIiwge2ZvbnRTaXplOiBcIjQ4cHhcIixjb2xvcjogXCIjZmZmZmZmXCJ9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24gPSBuZXcgVGltZXJDb250cm9sbGVyKHRoaXMsIHRpbWVyVGV4dCk7XHJcbiAgICAgICAgdGhpcy5yb3VuZCA9IDE7XHJcbiAgICAgICAgdGhpcy5zdGFydFJvdW5kKDQ1MDAwKTtcclxuXHJcbiAgICAgICAgLy9BY2NlZGVyIGEgZXNjZW5hIGRlIFBhdXNhIGFsIHB1bHNhciBFU0NcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAgQ29udHJvbGFkb3IgZGUgZW50aWRhZGVzLCBsaXN0YSBkZSBlbnRpZGFkZXMgcXVlIGFjdHVhbGl6YSBlbiAndXBkYXRlJ1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyID0gbmV3IEVudGl0aWVzQ29udHJvbGxlcigpO1xyXG5cclxuICAgICAgICAvL1BsYXllcnNcclxuICAgICAgICAvL0FuaW1hY2lvbmVzXHJcbiAgICAgICAgLy9WYW1waXJlc2FcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9mcm9udF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfZnJvbnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNiwgLy9WZWxvY2lkYWQgYW5pbWFjacOzblxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xIC8vU2UgcmVwaXRlIGVuIGJ1Y2xlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfYmFja19hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfYmFjaycsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfbGVmdF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfbGVmdCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfcmlnaHRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygndmFtcGlyZXNhX3JpZ2h0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9ab21iaWVcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2Zyb250X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3pvbWJpX2Zyb250JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2JhY2tfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfYmFjaycsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd6b21iaV9sZWZ0X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3pvbWJpX2xlZnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfcmlnaHRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfcmlnaHQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMua2V5czEgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyAvL1AxXHJcbiAgICAgICAgICAgIHVwOiAnVycsXHJcbiAgICAgICAgICAgIGRvd246ICdTJyxcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5czIgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyAvL1AyXHJcbiAgICAgICAgICAgIHVwOiAnSScsXHJcbiAgICAgICAgICAgIGRvd246ICdLJyxcclxuICAgICAgICAgICAgbGVmdDogJ0onLFxyXG4gICAgICAgICAgICByaWdodDogJ0wnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBjb250cm9sZXMgYWwgaW5pY2lvXHJcbiAgICAgICAgdGhpcy5jb250cm9sc1VJMT0gdGhpcy5hZGQuaW1hZ2UoMTgwLCAyMCwgJ2NvbnRyb2xXQVNEJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjI1KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY29udHJvbHNVSTEsXHJcbiAgICAgICAgICAgICAgICBhbHBoYTogMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sc1VJMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkyPSB0aGlzLmFkZC5pbWFnZSg4MzAsIDIwLCAnY29udHJvbElKTEsnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jb250cm9sc1VJMixcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzVUkyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuXHJcbiAgICAgICAgLy9JbnN0YW5jaWFyIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IG5ldyBQbGF5ZXIoMTAwLCA0MDAsIDAuNCwgJ3pvbWJpJywgdGhpcywgdGhpcy5rZXlzMSwgJ0UnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBuZXcgUGxheWVyKDExMDAsIDQwMCwgMC40LCAndmFtcGlyZXNhJywgdGhpcywgdGhpcy5rZXlzMiwgJ08nKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMucGxheWVyMSk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMucGxheWVyMik7XHJcblxyXG4gICAgICAgIC8vICBDYW5keVxyXG4gICAgICAgIHRoaXMuY2FuZHkgPSBuZXcgQ2FuZHkoMC4yLCAnY2FuZHknLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNhbmR5LnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuY2FuZHkpO1xyXG5cclxuICAgICAgICAvLyAgVGhyb3dhYmxlIEl0ZW1zXHJcbiAgICAgICAgdGhpcy5pdGVtMSA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4xJywgdGhpcylcclxuICAgICAgICB0aGlzLml0ZW0xLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuaXRlbTEpO1xyXG4gICAgICAgIHRoaXMuaXRlbTIgPSBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMicsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtMi5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW0yKTtcclxuICAgICAgICB0aGlzLml0ZW0zID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjMnLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTMuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtMyk7XHJcbiAgICAgICAgdGhpcy5pdGVtNCA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTQuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtNCk7XHJcbiAgICAgICAgdGhpcy5pdGVtNSA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTUuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtNSk7XHJcblxyXG4gICAgICAgIC8vICBCYXNrZXRzXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxID0gbmV3IENhbmR5QmFza2V0KChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgNzAsIDMxMCwgdGhpcy5wbGF5ZXIxLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIgPSBuZXcgQ2FuZHlCYXNrZXQoKDEyMDAtYmFzZV9TSVpFKSsgb2Zmc2V0LzIsIDQwMCwgMTIwMCAtIDkwLCAzMTAsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMVNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDQ0NywgODAsIFwiMFwiLCB7Zm9udFNpemU6IFwiNDhweFwiLGNvbG9yOiBcIiNmZmZmZmZcIn0pXHJcbiAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoNzIzLCA4MCwgXCIwXCIsIHtmb250U2l6ZTogXCI0OHB4XCIsY29sb3I6IFwiI2ZmZmZmZlwifSlcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFBvd2VyIFVwXHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAgPSBuZXcgU3BlZWRQb3dlclVwKDYwMCwgNDAwLCAwLjMsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuc3BlZWRQb3dlclVwKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB0aGlzLmNvdW50ZG93bi51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5VcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFJvdW5kKHNlY29uZHMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24uc3RhcnQoc2Vjb25kcywgKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRSb3VuZCgpe1xyXG4gICAgICAgIHRoaXMucm91bmQrKztcclxuXHJcbiAgICAgICAgaWYodGhpcy5iYXNrZXQxLmNhbmRpZXMgPiB0aGlzLmJhc2tldDIuY2FuZGllcykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQudGV4dCA9IGAkeysrdGhpcy5wbGF5ZXIxU2NvcmV9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLmJhc2tldDEuY2FuZGllcyA8IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjJTY29yZX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxLlJlc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIuUmVzdGFydCgpO1xyXG5cclxuICAgICAgICAvLyBTaSBlcyBsYSDDumx0aW1hIHJvbmRhLCBtb3N0cmFyIEdhbWVPdmVyXHJcbiAgICAgICAgaWYgKHRoaXMucm91bmQgPiA0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ0dhbWVPdmVyID0gdGhpcy5hZGQudGV4dCg2MDAsIDM1MCwgYEZJTiBERSBMQSBQQVJUSURBYCwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZjAwMDBmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3aW5uZXJUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyMVNjb3JlID4gdGhpcy5wbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhR2FuYSBKdWdhZG9yIDEhXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXIyU2NvcmUgPiB0aGlzLnBsYXllcjFTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMiFcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhRW1wYXRlIVwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtc2dXaW5uZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzNnB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtc2dHYW1lT3Zlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtc2dXaW5uZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIk1haW5NZW51XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1zZ1JvdW5kID0gdGhpcy5hZGQudGV4dCg2MDAsIDQwMCwgYFJvbmRhICR7dGhpcy5yb3VuZCAtIDF9IHRlcm1pbmFkYWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIixcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgbXNnUm91bmQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEdXJhdGlvbiA9IE1hdGgubWF4KDAsIDQ1MDAwIC0gKDE1MDAwICogKHRoaXMucm91bmQgLSAxKSkpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Um91bmQobmV3RHVyYXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG4vL2ltcG9ydGFyIGltYWdlbmVzXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IG1lbnVQYXVzZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9QYXVzZUJhY2tncm91bmQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYnV0dG9uQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vaW1wb3J0YXIgY2xhc2VzIEJ1dHRvblxyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYnV0dG9uU291bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zZngvQnV0dG9uUHJlc3MubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21lbnVQYXVzZScsIG1lbnVQYXVzZSk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnV0dG9uQmFja2dyb3VuZCcsIGJ1dHRvbkJhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYnV0dG9uX3NvdW5kJywgYnV0dG9uU291bmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIEZvbmRvIGdyaXNcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgNDAwLCAxMjAwLCA4MDAsIDB4MDAwMDAwLCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBGb25kbyBjZW50cmFkb1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdtZW51UGF1c2UnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAvLyBBanVzdGFyIGxhIGltYWdlblxyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7ICAgLy8gYW5jaG8gZGVsIGNhbnZhc1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7ICAvLyBhbHRvIGRlbCBjYW52YXMgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgXCJSZWFudWRhclwiXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDMwMCwgdGhpcywgJ2J1dHRvbkJhY2tncm91bmQnLCAnUmVhbnVkYXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSgnR2FtZVNjZW5lJyk7IC8vIFJlYW51ZGFyIGxhIGVzY2VuYSBkZWwganVlZ29cclxuICAgICAgICB9LCB7IGZvbnRTaXplOiAnMjNweCcgfSk7XHJcbiAgICAgICAgIFxyXG5cclxuICAgICAgICAvL0JvdMOzbiB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCA0MjUsIHRoaXMsICdidXR0b25CYWNrZ3JvdW5kJywgJ01lbsO6JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL0F1ZGlvTWFuYWdlci5QbGF5KHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0dhbWVTY2VuZScpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZWwganVlZ29cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTsgLy8gSXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIC8vQm90w7NuIGRlIFwiQWp1c3Rlc1wiXHJcbiAgICAgICAgY29uc3QgY29uZmlnQnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDU1MCwgdGhpcywgJ2J1dHRvbkJhY2tncm91bmQnLCAnQWp1c3RlcycsICgpID0+IHtcclxuICAgICAgICAgICAgLy9BdWRpb01hbmFnZXIuUGxheSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzTWVudScsIHsgZnJvbTogJ1BhdXNlU2NlbmUnIH0pOyAvLyBBYnJpciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5icmluZ1RvVG9wKCdTZXR0aW5nc01lbnUnKTtcclxuICAgICAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7IC8vIFBhdXNhciBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lVGhyb3dhYmxlSXRlbSBleHRlbmRzIEl0ZW0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2ljacOzbiBYIGVudmlhZGEgcG9yIGVsIHNlcnZpZG9yXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2ljacOzbiBZIGVudmlhZGEgcG9yIGVsIHNlcnZpZG9yXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ByaXRlIFxyXG4gICAgICogQHBhcmFtIHtQaGFzZXIuU2NlbmV9IHNjZW5lIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gSUQgw7puaWNvIGRlbCBjYXJhbWVsbyBlbnZpYWRvIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSwgaWQpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpIHtcclxuICAgICAgICBzdXBlci5VcGRhdGUoKTtcclxuICAgICAgICAvLyBObyBzcGF3biwgbm8gc3Bhd25UaW1lLCBuYWRhIGRlIHJhbmRvbVxyXG4gICAgfVxyXG5cclxuICAgIE9uQ29sbGVjdGVkKCkge1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLk1vdmVUbygtNjQsIC02NCk7IC8vIG9jdWx0YXJsbyBtaWVudHJhcyBsbGVnYSBsYSBudWV2YSBwb3NpY2nDs25cclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1JFUVVFU1RfQ0FORFlfUkVTUEFXTicsXHJcbiAgICAgICAgICAgICAgICBjYW5keUlkOiB0aGlzLmlkXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKSB7XHJcbiAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICBwbGF5ZXIxLmdhbWVPYmplY3QsXHJcbiAgICAgICAgKCkgPT4gdGhpcy5vblBsYXllck92ZXJsYXAocGxheWVyMSlcclxuICAgICk7XHJcblxyXG4gICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgcGxheWVyMi5nYW1lT2JqZWN0LFxyXG4gICAgICAgICgpID0+IHRoaXMub25QbGF5ZXJPdmVybGFwKHBsYXllcjIpXHJcbiAgICApO1xyXG59XHJcblxyXG5vblBsYXllck92ZXJsYXAocGxheWVyKSB7XHJcbiAgICBpZiAoIXBsYXllci5pc0xvY2FsKSByZXR1cm47XHJcbiAgICBwbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZyA9IHRoaXM7XHJcblxyXG4gICAgLy8gQXV0by1yZWNvZ2VyIHNpIHF1aWVyZXMgcXVlIG5vIGhheWEgdGVjbGFcclxuICAgIGlmIChwbGF5ZXIuZ3JhYkl0ZW1JbnB1dE9uKSB7XHJcbiAgICAgICAgcGxheWVyLkdyYWJJdGVtKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG4gICAgXHJcbiAgICBSZXNldCgpIHtcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgLy8gbm8gbW92ZXIgYSAtNjQsIC02NFxyXG4gICAgICAgIC8vIG5vIHNwYXduVGltZVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPbmxpbmVTcGVlZFBvd2VyVXAgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNjZW5lLCBpZCkge1xyXG4gICAgICAgIHN1cGVyKHgsIHksIHNjYWxlLCAnc3BlZWRfcG93ZXJ1cCcsIHNjZW5lLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuc2V0U2l6ZShcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LndpZHRoICogc2NhbGUsXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC5oZWlnaHQgKiBzY2FsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuc2V0T2Zmc2V0KFxyXG4gICAgICAgICAgICAodGhpcy5nYW1lT2JqZWN0LndpZHRoIC0gdGhpcy5nYW1lT2JqZWN0LmJvZHkud2lkdGgpIC8gMixcclxuICAgICAgICAgICAgKHRoaXMuZ2FtZU9iamVjdC5oZWlnaHQgLSB0aGlzLmdhbWVPYmplY3QuYm9keS5oZWlnaHQpIC8gMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldEVuYWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3Quc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKGxvY2FsUGxheWVyLCBzY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgbG9jYWxQbGF5ZXIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4gdGhpcy5vbkNvbGxlY3RlZCgpLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbGxlY3RlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvci4gTk8gYXBsaWNhciBlZmVjdG8gYXF1w61cclxuICAgICAgICB0aGlzLnNjZW5lLnNlbmQoe1xyXG4gICAgICAgICAgICB0eXBlOiAnUE9XRVJVUF9DT0xMRUNURUQnLFxyXG4gICAgICAgICAgICBwb3dlclVwSWQ6IHRoaXMuaWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGl2YXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLk1vdmVUbyh4LCB5KTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3Quc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkudXBkYXRlRnJvbUdhbWVPYmplY3QoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuLy9pbXBvcnRhciBpbWFnZW5lc1xyXG4vL0pVRUdPXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGZsb29yIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9zdG9uZV90aWxlLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVfYm91bmRhcnkgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2dhbWVfYm91bmRhcnkucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgbGVhdmVzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9sZWF2ZXNfb3ZlcmxheS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBkZXNjb25lY3Rpb25TY3JlZW5JbWcgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvRGlzY29uZWN0aW9uLmpwZyc7XHJcblxyXG4vL1RJTUVSXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHRpbWVySW1nIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9UaW1lcjEucG5nJztcclxuXHJcbi8vSVRFTVNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY2FuZHlTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2NhcmFtZWxvLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4xIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjIgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAyLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4zIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMy5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByb2NrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogcGllZHJhLnBuZyc7XHJcblxyXG4vL0NPTlRST0xFUy9CT1RPTkVTXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xXQVNEIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzV0FTRC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sSUpMSyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc0lKS0wucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcblxyXG4vL1BPV0VSIFVQU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBzcGVlZFBvd2VyVXBTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29ial9mb2NvX2RlZi5wbmcnO1xyXG5cclxuLy9QRVJTT05BSkVTXHJcbi8vUGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy9BbmltYWNpb25lc1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FiYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX3JpZ2h0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlCYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9yaWdodC5wbmcnO1xyXG5cclxuLy9TT05JRE9TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVNdXNpYyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL2dhbWVfbXVzaWMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJBbGVydCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL3RpbWVyX2FsZXJ0Lm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNGWF9CdXR0b25QcmVzcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG5cclxuLy9DTEFTRVNcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvcGxheWVyL3BsYXllckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgRW50aXRpZXNDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvRW50aXRpZXNDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgVGhyb3dhYmxlSXRlbSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanMnO1xyXG5pbXBvcnQgeyBDYW5keUJhc2tldCB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0NhbmR5QmFza2V0LmpzJztcclxuaW1wb3J0IHsgU3BlZWRQb3dlclVwIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzJztcclxuaW1wb3J0IHsgT25saW5lQ2FuZHkgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVDYW5keS5qcyc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IE9ubGluZVRocm93YWJsZUl0ZW0gfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVUaHJvd2FibGVJdGVtLmpzJztcclxuaW1wb3J0IHsgT25saW5lU3BlZWRQb3dlclVwIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvT25saW5lU3BlZWRQb3dlclVwLmpzJztcclxuaW1wb3J0IHsgVGltZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllckdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTXVsdGlwbGF5ZXJHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53czsgICAgICAgICAgICAgICAgIC8vIFdlYlNvY2tldFxyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIHwgJ3BsYXllcjInXHJcbiAgICAgICAgdGhpcy5oYXNDYW5keSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuY2FuZHkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXRlbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vR2FtZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmxvb3InLCBmbG9vcik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdnYW1lX2JvdW5kYXJ5JywgZ2FtZV9ib3VuZGFyeSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsZWF2ZXMnLCBsZWF2ZXMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGltZXJJbWcnLCB0aW1lckltZyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdnYW1lX211c2ljJywgZ2FtZU11c2ljKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RpbWVyX2FsZXJ0JywgdGltZXJBbGVydCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIC8vSXRlbXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbmR5JywgY2FuZHlTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjEnLCBwdW1wa2luMSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMicsIHB1bXBraW4yKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4zJywgcHVtcGtpbjMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncm9jaycsIHJvY2spO1xyXG4gICAgICAgIC8vQ29udHJvbHMgeSBCb3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sV0FTRCcsIGNvbnRyb2xXQVNEKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xJSkxLJywgY29udHJvbElKTEspO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIC8vUG93ZXIgVXBzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzcGVlZF9wb3dlcnVwJywgc3BlZWRQb3dlclVwU3ByaXRlKTtcclxuICAgICAgICAvL1BsYXllcnNcclxuICAgICAgICAvL3BhcmEgZWwgaWRsZSAodGVtcG9yYWwpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2YW1waXJlc2FfZnJvbnRFc3QnLCB2YW1waXJlc2FGcm9udEVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd6b21iaV9mcm9udEVzdCcsIHpvbWJpRnJvbnRFc3QpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfZnJvbnQnLCB2YW1waXJlc2FGcm9udCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfYmFjaycsIHZhbXBpcmVzYWJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2xlZnQnLCB2YW1waXJlc2FMZWZ0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9yaWdodCcsIHZhbXBpcmVzYVJpZ2h0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2Zyb250Jywgem9tYmlGcm9udCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9iYWNrJywgem9tYmlCYWNrLCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2xlZnQnLCB6b21iaUxlZnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfcmlnaHQnLCB6b21iaVJpZ2h0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuXHJcbiAgICAgICAgLy9EZXNjb25lY3Rpb24gaW1hZ2VcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Rpc2NvbmVjdGlvblNjcmVlbicsIGRlc2NvbmVjdGlvblNjcmVlbkltZyk7XHJcblxyXG4gICAgICAgIC8vQ2FyZ2FyIGZ1ZW50ZVxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ0J1dHRvbnNGb250JywgJ3VybChmb250cy9hbGFnYXJkX2ZvbnQudHRmKScpO1xyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oKGxvYWRlZEZvbnQpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBFc2NlbmFyaW8gaWd1YWwgcXVlIEdhbWVTY2VuZVxyXG4gICAgICAgIHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgMTIwMCwgODAwLCAnZmxvb3InKS5zZXRPcmlnaW4oMCwgMCkuc2V0U2NhbGUoMyk7XHJcbiAgICAgICAgY29uc3QgYm91bmRhcnkgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDYwMCwgNDAwLCAnZ2FtZV9ib3VuZGFyeScpLnNldFNjYWxlKDMpLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2xlYXZlcycpLnNldFNjYWxlKDMpLnNldEFscGhhKDAuNzUpO1xyXG5cclxuICAgICAgICAvLyBBdWRpb1xyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnZ2FtZV9tdXNpYycsIHsgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksIGxvb3A6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xhZG9yZXNcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlciA9IG5ldyBFbnRpdGllc0NvbnRyb2xsZXIoKTtcclxuXHJcbiAgICAgICAgLy8gSW5zdGFuY2lhciBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLmtleXMxID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHsgdXA6ICdXJywgZG93bjogJ1MnLCBsZWZ0OiAnQScsIHJpZ2h0OiAnRCcgfSk7XHJcbiAgICAgICAgdGhpcy5rZXlzMiA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IHVwOiAnSScsIGRvd246ICdLJywgbGVmdDogJ0onLCByaWdodDogJ0wnIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBuZXcgUGxheWVyKDEwMCwgNDAwLCAwLjQsICd6b21iaScsIHRoaXMsIHRoaXMua2V5czEsICdFJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbmV3IFBsYXllcigxMTAwLCA0MDAsIDAuNCwgJ3ZhbXBpcmVzYScsIHRoaXMsIG51bGwsIG51bGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIyJykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG5ldyBQbGF5ZXIoMTEwMCwgNDAwLCAwLjQsICd2YW1waXJlc2EnLCB0aGlzLCB0aGlzLmtleXMyLCAnTycsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG5ldyBQbGF5ZXIoMTAwLCA0MDAsIDAuNCwgJ3pvbWJpJywgdGhpcywgbnVsbCwgbnVsbCwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmxvY2FsUGxheWVyKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5yZW1vdGVQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBJdGVtcywgY2FuZHkgYmFza2V0cywgcG93ZXItdXBzXHJcbiAgICAgICAgLyogdGhpcy5jYW5keSA9IG5ldyBDYW5keSgwLjIsICdjYW5keScsIHRoaXMpO1xyXG4gICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5jYW5keSk7Ki9cclxuXHJcbiAgICAgICAgLy8gIEJhc2tldHNcclxuICAgICAgICB0aGlzLmJhc2tldDEgPSBuZXcgQ2FuZHlCYXNrZXQoMTIwMCAtIDYwLCA0MDAsIDcwLCAzMTAsIHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0MiA9IG5ldyBDYW5keUJhc2tldCg2MCwgNDAwLCAxMjAwIC0gOTAsIDMxMCwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcjFTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg0NDcsIDgwLCBcIjBcIiwgeyBmb250U2l6ZTogXCI0OHB4XCIsIGNvbG9yOiBcIiNmZmZmZmZcIiB9KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg3MjMsIDgwLCBcIjBcIiwgeyBmb250U2l6ZTogXCI0OHB4XCIsIGNvbG9yOiBcIiNmZmZmZmZcIiB9KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciB0aHJvd2FibGUgaXRlbXNcclxuICAgICAgICAvKiB0aGlzLml0ZW1zID0gW1xyXG4gICAgICAgICAgICBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMScsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMicsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMycsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdyb2NrJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KGl0ZW0pKTtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzLnJlbW90ZVBsYXllciwgdGhpcykpOyovXHJcblxyXG4gICAgICAgIHRoaXMuYmFza2V0MSA9IG5ldyBDYW5keUJhc2tldCg2MCwgNDAwLCA3MCwgMzEwLCB0aGlzLmxvY2FsUGxheWVyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIgPSBuZXcgQ2FuZHlCYXNrZXQoMTIwMCAtIDYwLCA0MDAsIDEyMDAgLSA5MCwgMzEwLCB0aGlzLnJlbW90ZVBsYXllciwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8qdGhpcy5zcGVlZFBvd2VyVXAgPSBuZXcgU3BlZWRQb3dlclVwKDYwMCwgNDAwLCAwLjMsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuc2V0dXBPdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKTsqL1xyXG5cclxuICAgICAgICAvLyAgVGVtcG9yaXphZG9yXHJcbiAgICAgICAgY29uc3QgdGltZXJJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDYwMCwgOTUsICd0aW1lckltZycpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDYpXHJcbiAgICAgICAgICAgIC5zZXRBbHBoYSgwLjc1KTtcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsIFwiNDVcIiwgeyBmb250U2l6ZTogXCI0OHB4XCIsIGNvbG9yOiBcIiNmZmZmZmZcIiB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG4gICAgICAgIHRoaXMuY291bnRkb3duID0gbmV3IFRpbWVyQ29udHJvbGxlcih0aGlzLCB0aGlzLnRpbWVyVGV4dCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSAhPT0gXCJwbGF5ZXIxXCIpIHRoaXMuY291bnRkb3duLmRpc2FibGVDb3VudGRvd24oKTtcclxuICAgICAgICB0aGlzLnJvdW5kID0gMTtcclxuICAgICAgICB0aGlzLnN0YXJ0Um91bmQoNDUwMDApO1xyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gSU5QVVQgTE9DQUxcclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBXRUJTT0NLRVRcclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldCgpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgcXVlIGVzdGFtb3MgbGlzdG9zXHJcbiAgICAgICAgdGhpcy5zZW5kKHsgdHlwZTogJ1BMQVlFUl9SRUFEWScgfSk7XHJcblxyXG4gICAgICAgIHRoaXMud3MuaW5Mb2JieSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0KCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1NUQVJUX0dBTUUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVEFSVF9HQU1FIHJlY2liaWRvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnVVBEQVRFX1RJTUVSJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5vd25lciAhPT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRkb3duLnNldChkYXRhLnRpbWVMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnUExBWUVSX01PVkVEJzpcclxuICAgICAgICAgICAgICAgICAgICAvLyBTb2xvIG1vdmVyIGFsIGp1Z2Fkb3IgUkVNT1RPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGxheWVyICE9PSB0aGlzLnBsYXllclJvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuTW92ZVRvKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ0FORFlfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDQU5EWV9TUEFXTiByZWNpYmlkbycsIGRhdGEuY2FuZHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5keSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5ID0gbmV3IE9ubGluZUNhbmR5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbmR5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhbmR5LmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmNhbmR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuZHkuTW92ZVRvKGRhdGEuY2FuZHkueCwgZGF0YS5jYW5keS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnSVRFTV9TUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0lURU1fU1BBV04gcmVjaWJpZG8nLCBkYXRhLml0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJbmljaWFsaXphciBhcnJheSBzaSBubyBleGlzdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXRlbXMpIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVzY2FyIHNpIHlhIGV4aXN0ZSB1biBpdGVtIGNvbiBlc3RlIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nSXRlbSA9IHRoaXMuaXRlbXMuZmluZChpdCA9PiBpdC5pZCA9PT0gZGF0YS5pdGVtLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXIgbnVldm8gT25saW5lVGhyb3dhYmxlSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gbmV3IE9ubGluZVRocm93YWJsZUl0ZW0oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLnNwcml0ZSwgIC8vIGFxdcOtIHVzYXIgc3ByaXRlIHF1ZSB2aWVuZSBkZWwgc2VydmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eShuZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3VhcmRhciBlbiBlbCBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBwb3NpY2nDs24gZGVsIGl0ZW0gZXhpc3RlbnRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbS5Nb3ZlVG8oZGF0YS5pdGVtLngsIGRhdGEuaXRlbS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJdGVtLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX1NQQVdOOicsIGRhdGEucG93ZXJVcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zcGVlZFBvd2VyVXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXIgcG9yIHByaW1lcmEgdmV6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbmV3IE9ubGluZVNwZWVkUG93ZXJVcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBZYSBleGlzdGUg4oaSIGFjdHVhbGl6YXIgSUQsIHBvc2ljacOzbiB5IHJlYWN0aXZhcmxvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmlkID0gZGF0YS5wb3dlclVwLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcC5hY3RpdmF0ZShkYXRhLnBvd2VyVXAueCwgZGF0YS5wb3dlclVwLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdQT1dFUlVQX0RFU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX0RFU1BBV046JywgZGF0YS5wb3dlclVwSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkUG93ZXJVcD8uaWQgPT09IGRhdGEucG93ZXJVcElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwbGljYXIgZWZlY3RvIFNPTE8gYWwganVnYWRvciBjb3JyZWN0b1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3BlZWQgPSB0aGlzLmxvY2FsUGxheWVyLnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkICo9IDEuNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkID0gb3JpZ2luYWxTcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfUkVTUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuYWN0aXZhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBvd2VyVXAueVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRUpFQ1VUQU5ETyBIQU5ETEUgRElTQ09OTkVDVCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0VsIG90cm8ganVnYWRvciBzZSBoYSBkZXNjb25lY3RhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCAnVm9sdmVyIGFsIG1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5zaG93RGlzY29ubmVjdFNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dEaXNjb25uZWN0U2NyZWVuKCkge1xyXG4gICAgICAgIC8vIE1vc3RyYXIgaW1hZ2VuIGRlIGRlc2NvbmV4acOzblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdkaXNjb25lY3Rpb25TY3JlZW4nKTtcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oODgwLCA2MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgJ01lbsO6JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmQobXNnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZVN0YXJ0ZWQgfHwgdGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gYWwgc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgdHlwZTogJ1BMQVlFUl9NT1ZFJyxcclxuICAgICAgICAgICAgcGxheWVyOiB0aGlzLnBsYXllclJvbGUsXHJcbiAgICAgICAgICAgIHg6IHRoaXMubG9jYWxQbGF5ZXIueCxcclxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBsYXllci55XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE1vdmVyIGNhcmFtZWxvIGNvbiBlbCBqdWdhZG9yIHF1ZSBsbyB0aWVuZVxyXG4gICAgICAgIGlmICh0aGlzLmxvY2FsUGxheWVyLmhhc0NhbmR5ICYmIHRoaXMubG9jYWxQbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjYW5keSA9IHRoaXMubG9jYWxQbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZztcclxuICAgICAgICAgICAgY2FuZHkuTW92ZVRvKHRoaXMubG9jYWxQbGF5ZXIueCwgdGhpcy5sb2NhbFBsYXllci55KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZVBsYXllci5oYXNDYW5keSAmJiB0aGlzLnJlbW90ZVBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmR5ID0gdGhpcy5yZW1vdGVQbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZztcclxuICAgICAgICAgICAgY2FuZHkuTW92ZVRvKHRoaXMucmVtb3RlUGxheWVyLngsIHRoaXMucmVtb3RlUGxheWVyLnkpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3VudGRvd24uY2FuQ291bnREb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVudmlhciB0aWVtcG8gYWN0dWFsaXphZG9cclxuICAgICAgICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdVUERBVEVfVElNRScsXHJcbiAgICAgICAgICAgICAgICBvd25lcjogdGhpcy5wbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICAgICAgdGltZUxlZnQ6IHRoaXMuY291bnRkb3duLnJlbWFpbmluZ1RpbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBY3R1YWxpemFyIHRvZG8gbG8gZGVtw6FzXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24udXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzKSB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRSb3VuZChzZWNvbmRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY291bnRkb3duLmNhbkNvdW50RG93bikgdGhpcy5jb3VudGRvd24uc3RhcnQoc2Vjb25kcywgKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgICAgICBlbHNlIHRoaXMuY291bnRkb3duLnNldE5vdENvb2xkb3duRXZlbnQoKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHJlYXNvbikge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSByZWFzb24gPT09ICdkaXNjb25uZWN0JyA/ICdKdWdhZG9yIGRlc2NvbmVjdGFkbycgOiAnRmluIGRlIGxhIHBhcnRpZGEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsIHRleHQsIHsgZm9udFNpemU6ICc0OHB4JywgY29sb3I6ICcjZmZmZmZmJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRSb3VuZCgpIHtcclxuICAgICAgICB0aGlzLnJvdW5kKys7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhc2tldDEuY2FuZGllcyA+IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMVNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjFTY29yZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2tldDEuY2FuZGllcyA8IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjJTY29yZX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxLlJlc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIuUmVzdGFydCgpO1xyXG5cclxuICAgICAgICAvLyBTaSBlcyBsYSDDumx0aW1hIHJvbmRhLCBtb3N0cmFyIEdhbWVPdmVyXHJcbiAgICAgICAgaWYgKHRoaXMucm91bmQgPiA0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ0dhbWVPdmVyID0gdGhpcy5hZGQudGV4dCg2MDAsIDM1MCwgYEZJTiBERSBMQSBQQVJUSURBYCwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZjAwMDBmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3aW5uZXJUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyMVNjb3JlID4gdGhpcy5wbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhR2FuYSBKdWdhZG9yIDEhXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXIyU2NvcmUgPiB0aGlzLnBsYXllcjFTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMiFcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhRW1wYXRlIVwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtc2dXaW5uZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzNnB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtc2dHYW1lT3Zlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtc2dXaW5uZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIk1haW5NZW51XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1zZ1JvdW5kID0gdGhpcy5hZGQudGV4dCg2MDAsIDQwMCwgYFJvbmRhICR7dGhpcy5yb3VuZCAtIDF9IHRlcm1pbmFkYWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIixcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgbXNnUm91bmQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEdXJhdGlvbiA9IE1hdGgubWF4KDAsIDQ1MDAwIC0gKDE1MDAwICogKHRoaXMucm91bmQgLSAxKSkpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Um91bmQobmV3RHVyYXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIsIHsgR2FtZSB9IGZyb20gJ3BoYXNlcic7XHJcblxyXG5pbXBvcnQgeyBMb2dpblNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1haW5NZW51IH0gZnJvbSAnLi9zY2VuZXMvTWFpbk1lbnUuanMnO1xyXG5pbXBvcnQgeyBQbGF5TW9kZU1lbnUgfSBmcm9tICcuL3NjZW5lcy9QbGF5TW9kZU1lbnUuanMnO1xyXG5pbXBvcnQgeyBUdXRvcmlhbE1lbnUgfSBmcm9tICcuL3NjZW5lcy9UdXRvcmlhbE1lbnUuanMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nc01lbnUgfSBmcm9tICcuL3NjZW5lcy9TZXR0aW5nc01lbnUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzTWVudSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNNZW51LmpzJztcclxuaW1wb3J0IHsgTG9iYnkgfSBmcm9tICcuL3NjZW5lcy9Mb2JieS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBfQ09ORklHID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogMTIwMCxcclxuICAgIGhlaWdodDogODAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzY2VuZTogW0xvZ2luU2NlbmUsIE1haW5NZW51LCBQbGF5TW9kZU1lbnUsIFR1dG9yaWFsTWVudSwgU2V0dGluZ3NNZW51LCBDcmVkaXRzTWVudSwgTG9iYnksIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgXHJcbiAgICBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBpeGVsQXJ0OiB0cnVlLFxyXG4gICAgZG9tOiB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IF9HQU1FID0gbmV3IFBoYXNlci5HYW1lKF9DT05GSUcpO1xyXG4vLyBBc2VndXJhciBxdWUgY29taWVuemEgZW4gbG9naW5cclxuX0dBTUUuc2NlbmUuc3RhcnQoJ0xvZ2luU2NlbmUnKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlBoYXNlciIsIkF1ZGlvTWFuYWdlciIsInZvbHVtZSIsIlNldFZvbHVtZSIsInYiLCJHZXRWb2x1bWUiLCJQbGF5IiwiYXVkaW8iLCJzY2VuZSIsInNvdW5kIiwicGxheSIsIkJ1dHRvbiIsImNvbnN0cnVjdG9yIiwieCIsInkiLCJ0ZXh0dXJlIiwidGV4dCIsImNhbGxiYWNrIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsImltYWdlIiwiYWRkIiwic2V0T3JpZ2luIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0U2NhbGUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNldFRpbnQiLCJzZXRDb2xvciIsImNsZWFyVGludCIsInNldFRleHQiLCJuZXdUZXh0Iiwic2V0UG9zaXRpb24iLCJkZXN0cm95IiwiTG9naW5TY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJGb250RmFjZSIsInRoZW4iLCJsb2FkZWRGb250IiwiZm9udHMiLCJjcmVhdGUiLCJjb25zb2xlIiwibG9nIiwiYmciLCJkaXNwbGF5V2lkdGgiLCJkaXNwbGF5SGVpZ2h0Iiwic3RvcEFsbCIsIm11c2ljIiwibG9vcCIsInVzZXJuYW1lIiwiZm9jdXNlZCIsInJlY3RhbmdsZSIsImlucHV0QmciLCJzZXRTdHJva2VTdHlsZSIsImlucHV0VGV4dCIsImxpbmUiLCJ0aW1lIiwiYWRkRXZlbnQiLCJkZWxheSIsInZpc2libGUiLCJpbnB1dCIsIm1hbmFnZXIiLCJjYW52YXMiLCJjdXJzb3IiLCJwb2ludGVyIiwib2JqZWN0cyIsImluY2x1ZGVzIiwia2V5Ym9hcmQiLCJldmVudCIsImtleSIsInNsaWNlIiwidHJpbSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzIiwianNvbiIsInVzZXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiaWQiLCJTdGFydE1lbnUiLCJ1c2VySWQiLCJnZXRJdGVtIiwib2siLCJjYXRjaCIsInJlbW92ZUl0ZW0iLCJjYW1lcmFzIiwibWFpbiIsImZhZGVPdXQiLCJvbmNlIiwiU2NlbmUyRCIsIkV2ZW50cyIsIkZBREVfT1VUX0NPTVBMRVRFIiwic3RhcnQiLCJNYWluTWVudSIsIlN0YXJ0UGxheSIsIlN0YXJ0VHV0b3JpYWwiLCJTdGFydFNldHRpbmdzIiwiU3RhcnRDcmVkaXRzIiwiU3RhcnRMb2NhbEdhbWUiLCJzaG93Q3VycmVudFVzZXIiLCJmYWRlSW4iLCJ3YXJuIiwiUGxheU1vZGVNZW51IiwiR29CYWNrIiwiaW5pdCIsImRhdGEiLCJzb2NrZXQiLCJyb29tSWQiLCJUdXRvcmlhbE1lbnUiLCJwbGF5ZXIxSWNvbiIsInBsYXllcjJJY29uIiwiY29udHJvbHNVSTEiLCJzZXREZXB0aCIsImNvbnRyb2xzVUkyIiwiU2V0dGluZ3NNZW51IiwiYmFyV2lkdGgiLCJ2b2x1bWVCYXIiLCJjdXJyZW50Vm9sdW1lIiwidm9sdW1lSW5kaWNhdG9yIiwiYmFyWCIsImhhbmRsZSIsImNpcmNsZSIsImRyYWdnYWJsZSIsInNldERyYWdnYWJsZSIsImRyYWdYIiwiZHJhZ1kiLCJzZXRWb2x1bWUiLCJsb2NhbFgiLCJDbGFtcCIsIm9wZW5lZEZyb20iLCJzdG9wIiwicmVzdW1lIiwiSW5pdCIsImZyb20iLCJDcmVkaXRzTWVudSIsInNldEJhY2tncm91bmRDb2xvciIsImxvZ29JbWciLCJzZXRBbHBoYSIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJkZWxheWVkQ2FsbCIsIlNob3dDcmVkaXRzTWVudSIsImNyZWRpdHNHcnVwbyIsImZvckVhY2giLCJuYW1lIiwiaW5kZXgiLCJhbGlnbiIsIkxvYmJ5Iiwic3RhcnRCdXR0b24iLCJ3cyIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwic2VuZCIsInR5cGUiLCJzdGF0ZVRleHQiLCJMZWF2ZSIsInBsYXllcjFOYW1lIiwicGxheWVyMk5hbWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJMZWF2ZVF1ZXVlIiwid3NVcmwiLCJob3N0IiwiaW5Mb2JieSIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInBhcnNlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsImVycm9yIiwib25lcnJvciIsIm9uY2xvc2UiLCJpc0FjdGl2ZSIsInBsYXllcjFVc2VybmFtZSIsInBsYXllcjJVc2VybmFtZSIsImVuZW15SWQiLCJyb2xlIiwicGxheWVyUm9sZSIsImNsb3NlIiwiVGltZXJDb250cm9sbGVyIiwicmVtYWluaW5nVGltZSIsImNhbkNvdW50RG93biIsImN5Y2xlcyIsIm1heEN5Y2xlcyIsImRpc2FibGVDb3VudGRvd24iLCJzZXQiLCJzZXROb3RDb29sZG93bkV2ZW50Iiwibm90Q29vbGRvd25FdmVudCIsImFsZXJ0UGxheWVkIiwidGltZXJFdmVudCIsInVuZGVmaW5lZCIsInVwZGF0ZSIsImVsYXBzZWQiLCJnZXRFbGFwc2VkIiwic2Vjb25kcyIsIk1hdGgiLCJtYXgiLCJ0b0ZpeGVkIiwiRW50aXRpZXNDb250cm9sbGVyIiwiZW50aXRpZXMiLCJBZGRFbnRpdHkiLCJlbnRpdHkiLCJwdXNoIiwiVXBkYXRlIiwiZWxlbWVudCIsIkVudGl0eSIsInNjYWxlIiwic3ByaXRlIiwidXNlU3ByaXRlIiwiZ2FtZU9iamVjdCIsInBoeXNpY3MiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJzZXRPZmZzZXQiLCJNb3ZlVG8iLCJVcGRhdGVCb2R5Q29vcmRzIiwiTW92ZSIsIkl0ZW0iLCJwbGF5ZXJHcmFiYmluZyIsInNldHVwT3ZlcmxhcCIsInBsYXllcjEiLCJwbGF5ZXIyIiwib3ZlcmxhcCIsIkdyYWJJdGVtIiwicGxheWVyIiwiY3VycmVudEl0ZW1HcmFiYmluZyIsIkNsZWFyUGxheWVyIiwiQ2FuZHkiLCJSZXNldCIsImhhc1NwYXduZWQiLCJzcGF3blRpbWUiLCJCZXR3ZWVuIiwiVGhyb3dhYmxlSXRlbSIsInRocm93U3BlZWRYIiwidGhyb3dTcGVlZFkiLCJpc1Rocm93biIsInRocm93T3duZXIiLCJLbm9ja091dCIsIlRocm93IiwieERpciIsInlEaXIiLCJUaHJvd01vdmVtZW50IiwiYWJzIiwic2lnbiIsIk9ubGluZUNhbmR5Iiwib3RoZXJQbGF5ZXIiLCJoYXNDYW5keSIsImhvbGRlciIsIk9uQ29sbGVjdGVkIiwiY2FuZHlJZCIsIm9uUGxheWVyT3ZlcmxhcCIsImlzTG9jYWwiLCJncmFiSXRlbUlucHV0T24iLCJQbGF5ZXIiLCJjaGFyYWN0ZXJOYW1lIiwiY3Vyc29ycyIsImdyYWJJdGVtS2V5Iiwic3BlZWQiLCJoYXNJbnRlcmFjdGVkV2l0aEl0ZW1zIiwiaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiIsIml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duIiwiZmFjaW5nWCIsImZhY2luZ1kiLCJrbm9ja091dFRpbWVyIiwiTW92ZW1lbnQiLCJJdGVtSW5wdXRzIiwidngiLCJ2eSIsIm1vdmluZyIsImxlZnQiLCJpc0Rvd24iLCJyaWdodCIsInVwIiwiZG93biIsImFuaW1hdGlvbiIsImFuaW1zIiwic2V0VGV4dHVyZSIsImdhbWUiLCJkZWx0YSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJzeXMiLCJjb25maWciLCJpdGVtIiwiRGVsaXZlckNhbmR5IiwiY2FuZHkiLCJDYW5keUJhc2tldCIsInRleHRYIiwidGV4dFkiLCJwbGF5ZXJPd25lciIsIm93bmVyIiwiY2FuZGllcyIsImJhY2tncm91bmRDb2xvciIsIkNoZWNrRm9yQ2FuZHkiLCJsb2NhbFBsYXllciIsIlJlc3RhcnQiLCJTcGVlZFBvd2VyVXAiLCJhY3RpdmUiLCJhcHBseSIsInNldFZpc2libGUiLCJlbmFibGUiLCJvcmlnaW5hbFNwZWVkIiwicmVzcGF3biIsIkdhbWVTY2VuZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0IiwidGlsZVNwcml0ZSIsInNldEltbW92YWJsZSIsInRpbWVyVGV4dCIsImNvdW50ZG93biIsInJvdW5kIiwic3RhcnRSb3VuZCIsInBhdXNlIiwibGF1bmNoIiwiZW50aXRpZXNDb250cm9sbGVyIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJrZXlzMSIsImFkZEtleXMiLCJrZXlzMiIsIml0ZW0xIiwiaXRlbTIiLCJpdGVtMyIsIml0ZW00IiwiaXRlbTUiLCJiYXNrZXQxIiwiYmFza2V0MiIsInBsYXllcjFTY29yZSIsInBsYXllcjFTY29yZVRleHQiLCJwbGF5ZXIyU2NvcmUiLCJwbGF5ZXIyU2NvcmVUZXh0Iiwic3BlZWRQb3dlclVwIiwiZW5kUm91bmQiLCJtc2dHYW1lT3ZlciIsImZvbnRTdHlsZSIsIndpbm5lclRleHQiLCJtc2dXaW5uZXIiLCJtc2dSb3VuZCIsIm5ld0R1cmF0aW9uIiwiUGF1c2VTY2VuZSIsImJyaW5nVG9Ub3AiLCJPbmxpbmVUaHJvd2FibGVJdGVtIiwiT25saW5lU3BlZWRQb3dlclVwIiwic2V0QWxsb3dHcmF2aXR5Iiwic2V0RW5hYmxlIiwib25Db2xsZWN0ZWQiLCJwb3dlclVwSWQiLCJkZWFjdGl2YXRlIiwiYWN0aXZhdGUiLCJ1cGRhdGVGcm9tR2FtZU9iamVjdCIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwiZ2FtZVN0YXJ0ZWQiLCJnYW1lRW5kZWQiLCJyZW1vdGVQbGF5ZXIiLCJzZXR1cFdlYlNvY2tldCIsInRpbWVMZWZ0IiwiaXRlbXMiLCJleGlzdGluZ0l0ZW0iLCJmaW5kIiwiaXQiLCJuZXdJdGVtIiwicG93ZXJVcCIsImVuZEdhbWUiLCJ3aW5uZXIiLCJoYW5kbGVEaXNjb25uZWN0Iiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJjcmVhdGVNZW51QnV0dG9uIiwic2hvd0Rpc2Nvbm5lY3RTY3JlZW4iLCJtc2ciLCJzaHV0ZG93biIsInJlYXNvbiIsIl9DT05GSUciLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwicGl4ZWxBcnQiLCJkb20iLCJjcmVhdGVDb250YWluZXIiXSwic291cmNlUm9vdCI6IiJ9