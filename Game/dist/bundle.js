(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(e=s.currentScript.src),!e)){var i=s.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=i[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=Phaser,s={volume:.1,SetVolume(t){this.volume=t},GetVolume(){return this.volume},Play(t,e){e.sound.play(t,{volume:this.volume})}};class i{constructor(t,e,i,a,n,r,o={}){this.scene=i,this.style={fontFamily:"ButtonsFont",fontSize:"29px",color:"#ffffff",...o},this.image=i.add.image(0,0,a),this.text=i.add.text(0,0,n,this.style).setOrigin(.5),this.container=i.add.container(t,e,[this.image,this.text]),this.container.setSize(this.image.width,this.image.height),this.container.setScale(1.5),this.container.setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.image.setTint(16776960),this.text.setColor("#ffffdd"),this.text.setScale(1.2)}).on("pointerout",()=>{this.image.clearTint(),this.text.setColor("#ffffffff"),this.text.setScale(1)}).on("pointerdown",()=>{s.Play("SFX_ButtonPress",this.scene),r()})}setText(t){this.text.setText(t)}setPosition(t,e){this.container.setPosition(t,e)}destroy(){this.container.destroy()}}const a=t.p+"b407307dacd2d4ad4c5d.jpg",n=t.p+"aef8fe9cfb896b6ec2b8.png",r=t.p+"assets/music_sounds/ButtonPress.mp3",o=t.p+"assets/music_sounds/MainMenu.mp3";class h extends e.Scene{constructor(){super("LoginScene")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",r),this.load.audio("MUSIC_MainMenu",o),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(t=>{document.fonts.add(t)})}create(){console.log("LOGIN SCENE CREATE");const t=this.add.image(600,400,"IMG_Background");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play();let e="",a=!1;this.add.rectangle(600,450,500,350,0,.6).setOrigin(.5);const n=this.add.rectangle(600,420,420,50,16777215).setStrokeStyle(2,0).setInteractive({useHandCursor:!0}),r=this.add.text(402,420,"",{fontFamily:"ButtonsFont",fontSize:"28px",color:"#000000"}).setOrigin(0,.5),o=this.add.rectangle(r.x+2,420,2,30,0);this.time.addEvent({delay:500,loop:!0,callback:()=>{o.visible=a}}),n.on("pointerdown",()=>{a=!0,this.input.manager.canvas.style.cursor="text"}),this.input.on("pointerdown",(t,e)=>{e.includes(n)||(a=!1,this.input.manager.canvas.style.cursor="default")}),this.input.keyboard.on("keydown",t=>{a&&("Backspace"===t.key?e=e.slice(0,-1):1===t.key.length&&e.length<12&&(e+=t.key),r.setText(e),o.x=r.x+r.width+4)}),new i(600,540,this,"SPR_Button","Login",()=>{e.trim()&&fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then(t=>t.json()).then(t=>{localStorage.setItem("userId",t.id),this.StartMenu()})});const h=localStorage.getItem("userId");h&&fetch(`/api/users/${h}`).then(t=>{if(!t.ok)throw new Error;this.StartMenu()}).catch(()=>{localStorage.removeItem("userId")}),this.add.text(600,330,"Introduce tu nombre",{fontFamily:"ButtonsFont",fontSize:"32px",color:"#ffffff"}).setOrigin(.5)}StartMenu(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}class d extends e.Scene{constructor(){super("MainMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",r),this.load.audio("MUSIC_MainMenu",o),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(t=>{document.fonts.add(t)})}create(){const t=this.add.image(600,400,"IMG_Background");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,new i(600,350,this,"SPR_Button","Online",()=>this.StartPlay()),new i(300,700,this,"SPR_Button","Tutorial",()=>this.StartTutorial(),{fontSize:"25px"}),new i(600,700,this,"SPR_Button","Ajustes",()=>this.StartSettings()),new i(900,700,this,"SPR_Button","CrÃ©ditos",()=>this.StartCredits(),{fontSize:"25px"}),new i(600,500,this,"SPR_Button","Local",()=>this.StartLocalGame()),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.showCurrentUser(),this.cameras.main.fadeIn(100,0,0,0)}showCurrentUser(){const t=localStorage.getItem("userId");t&&fetch(`/api/users/${t}`).then(t=>{if(!t.ok)throw new Error;return t.json()}).then(t=>{this.add.text(1170,30,`${t.username}`,{fontFamily:"ButtonsFont",fontSize:"40px",color:"#ffffff"}).setOrigin(1,0)}).catch(()=>{console.warn("No se pudo cargar el usuario")})}StartPlay(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("Lobby"))}StartTutorial(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("TutorialMenu"))}StartSettings(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("SettingsMenu"))}StartCredits(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("CreditsMenu"))}StartLocalGame(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("GameScene"))}}class c extends e.Scene{constructor(){super("PlayModeMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n)}create(){const t=this.add.image(600,400,"IMG_Background");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,new i(420,400,this,"SPR_Button","Crear Partida",null),new i(780,400,this,"SPR_Button","Unirse a Partida",null),new i(600,550,this,"SPR_Button","Local",null),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}init(t){this.socket=t.socket,this.roomId=t.roomId}}const l=t.p+"9a928a9771ed5cc44933.png",m=t.p+"847e97fd19535fdc4879.png",p=t.p+"2ef0c778cd3a032c2a24.png",u=t.p+"04f18ed3df26adbfcd22.png",g=t.p+"2e7e3e24e916d2095b86.png";class y extends e.Scene{constructor(){super("TutorialMenu")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Button",n),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p),this.load.image("controlWASD",u),this.load.image("controlIJLK",g)}create(){const t=this.add.image(600,400,"IMG_DefaultBackground");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,this.player1Icon=this.add.image(350,450,"SPR_Zombie"),this.player2Icon=this.add.image(850,450,"SPR_Vampire"),this.controlsUI1=this.add.image(190,100,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.35),this.controlsUI2=this.add.image(700,100,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.35),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}const f=t.p+"7a873f3ca0b32de0935a.jpg",b=t.p+"assets/music_sounds/Settings.mp3";class S extends e.Scene{constructor(){super("SettingsMenu")}preload(){this.load.image("IMG_SettingsBackground",f),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Settings",b)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Settings",{volume:s.GetVolume(),loop:!0}),this.music.play();const t=this.add.image(600,400,"IMG_SettingsBackground");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0),this.add.text(600,365,"Volumen",{fontSize:"32px",color:"#2c2a2aff"}).setOrigin(.5);const a=300,n=this.add.rectangle(600,400,a,20,8947848);let r=s.GetVolume();this.sound.volume=r;const o=this.add.rectangle(450+r*a/2,400,r*a,20,2236962),h=this.add.circle(450+r*a,400,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(h),h.on("drag",(t,e,i)=>{e<450&&(e=450),e>750&&(e=750),h.x=e,r=(h.x-450)/a,s.SetVolume(r),this.sound.setVolume(r),o.width=r*a}),n.setInteractive(),n.on("pointerdown",t=>{const i=t.x-450;r=e.Math.Clamp(i/a,0,1),s.SetVolume(r),this.sound.setVolume(r),h.x=450+r*a,o.width=r*a})}GoBack(){"MainMenu"===this.openedFrom?(this.scene.stop(),this.scene.stop("PauseScene"),this.scene.start("MainMenu")):"PauseScene"===this.openedFrom&&(this.scene.stop(),this.sound.stopAll(),this.scene.resume("PauseScene"),this.sound.volume=s.GetVolume(),this.music=this.sound.add("MUSIC_Game",{volume:s.GetVolume(),loop:!0}),this.music.play()),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}Init(t){this.openedFrom=t?.from||"MainMenu"}}const w=t.p+"d1d9fdf9592522a9b114.jpg",v=t.p+"assets/music_sounds/Credits.mp3",_=t.p+"9a98b2a4689f990db35a.png";class O extends e.Scene{constructor(){super("CreditsMenu")}preload(){this.load.image("IMG_Logo",_),this.load.image("IMG_CreditsBackground",w),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Credits",v)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Credits",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.cameras.main.setBackgroundColor("#000000");const t=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"IMG_Logo").setOrigin(.5).setAlpha(0).setScale(.3);this.tweens.add({targets:t,alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(1e3,()=>{this.tweens.add({targets:t,alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{t.destroy(),this.ShowCreditsMenu()}})})}})}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}ShowCreditsMenu(){const t=this.add.image(600,400,"IMG_CreditsBackground");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800;const e=["Grupo 13 - Juegos en Red","Marta de Miguel Tapia","Ãngel Younes Karim MÃ©rida","Sara Mesa Pacheco","Claudia Morago Amigo","Iris MuÃ±oz Montero",""];e.forEach((t,e)=>{this.add.text(600,250+50*e,t,{fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5)}),["Assets de sprites GameScene: 13th CandyWeb","Assets pantallas: Canva","MÃºsica y efectos de sonido: FreeSound"].forEach((t,s)=>{this.add.text(600,250+50*(e.length+s)+85,t,{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5)}),this.cameras.main.fadeIn(300,0,0,0),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack())}}class I extends e.Scene{constructor(){super("Lobby")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p)}create(){const t=this.add.image(600,400,"IMG_DefaultBackground");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,this.startButton=new i(600,600,this,"SPR_Button","Comenzar",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"PLAYER_READY"})),this.startButton.setPosition(-128,-128),this.stateText.setText("Esperando que el rival estÃ© listo..."),this.stateText.setColor("#ffff00"))}),this.startButton.setPosition(-128,-128),new i(600,750,this,"SPR_Button","Salir",()=>this.Leave()),this.player1Icon=this.add.image(300,300,"SPR_Vampire"),this.player1Name=this.add.text(300,120,"...",{fontSize:"32px"}).setOrigin(.5),this.player2Icon=this.add.image(900,300,"SPR_Zombie"),this.player2Name=this.add.text(900,120,"...",{fontSize:"32px"}).setOrigin(.5),this.stateText=this.add.text(600,500,"...",{fontSize:"32px"}).setOrigin(.5),this.cameras.main.fadeIn(100,0,0,0),this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.socket=null,this.connectToServer()}Leave(){this.LeaveQueue(),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(e.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}connectToServer(){try{const t=`ws://${window.location.host}`;this.ws=new WebSocket(t),this.ws.inLobby=!0,this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.ws.send(JSON.stringify({type:"JOIN_QUEUE",userId:localStorage.getItem("userId")}))},this.ws.onmessage=t=>{try{const e=JSON.parse(t.data);this.handleServerMessage(e)}catch(t){console.error("Error parsing server message:",t)}},this.ws.onerror=t=>{this.startButton.setPosition(-128,-128),console.error("WebSocket error:",t),this.stateText.setText("# Error de conexiÃ³n #"),this.stateText.setColor("#ff0000")},this.ws.onclose=()=>{this.startButton.setPosition(-128,-128),console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.stateText.setText("# ConexiÃ³n perdida #"),this.stateText.setColor("#ff0000"))}}catch(t){this.startButton.setPosition(-128,-128),console.error("Error connecting to server:",t),this.stateText.setText("# Fallo al conectar #"),this.stateText.setColor("#ff0000")}}handleServerMessage(t){switch(t.type){case"playerNotConnected":case"playerDisconnected":this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.player1Name.setText("..."),this.player2Name.setText("..."),this.socket=null,this.connectToServer();break;case"gameStart":this.stateText.setText("Â¡Rival encontrado!"),this.stateText.setColor("#00ff00"),this.startButton.setPosition(600,600);let e="TÃš",s="TÃš";fetch(`/api/users/${t.enemyId}`).then(t=>{if(!t.ok)throw new Error;return t.json()}).then(i=>{"player1"==t.role?s=i.username:e=i.username,this.player1Name.setText(e),this.player2Name.setText(s)}).catch(()=>{console.warn("No se pudo cargar el usuario")});break;case"START_GAME":console.log("Game starting in room:",t.roomId),this.scene.start("MultiplayerGameScene",{ws:this.ws,roomId:t.roomId,playerRole:t.role});break;default:console.log("Unknown server message type:",t.type)}}LeaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}}const x=t.p+"d2c5034eb163da60aae4.png",M=t.p+"18cea01896ee5b01dac0.png",C=t.p+"1af89219a86c804731e9.png",k=t.p+"8bb21662fefcc91026f4.png",P=t.p+"d51231f872d559f02ffb.png",E=t.p+"3e80967c975244f1509f.png",T=t.p+"7e444efb12890a6ed135.png",G=t.p+"4168b3b402b4c13e4c18.png",A=t.p+"28f70a4c08d8e6333b6c.png",B=t.p+"af7b5953f41ea57f384a.png",R=t.p+"0479f4f4f8c30fd26251.png",D=t.p+"ebd6a23e5e37fa692b09.png",U=t.p+"d484fd76bdace8d888b9.png",N=t.p+"34c5b1ce05d87422cc6d.png",W=t.p+"4da35e924f108de8f5d6.png",L=t.p+"038266542e54b8bb2c08.png",F=t.p+"7ccd325b7a47867c37c5.png",j=t.p+"10678e2a3e49ff51abf9.png",z=t.p+"assets/music_sounds/game_music.mp3",V=t.p+"assets/music_sounds/timer_alert.mp3";class H{constructor(t,e){this.scene=t,this.text=e,this.cycles=0,this.maxCycles=3}start(t,e){this.stop(),this.duration=t,this.alertPlayed=!1,this.timerEvent=this.scene.time.addEvent({delay:t,loop:!1,callback:()=>{e()}})}stop(){this.timerEvent&&(this.timerEvent.destroy(),this.timerEvent=void 0)}update(){if(!this.timerEvent||this.duration<=0)return;const t=this.timerEvent.getElapsed(),e=this.duration-t,i=Math.max(0,e/1e3);this.text.text=`${i.toFixed(2)}`,i<=5&&!this.alertPlayed&&(this.scene.sound.add("timer_alert").play({volume:4*s.GetVolume()}),this.alertPlayed=!0)}}class Y{constructor(){this.entities=[]}AddEntity(t){this.entities.push(t)}Update(){this.entities.forEach(t=>{t.Update()})}}class J{constructor(t,e,s,i,a,n=!1){this.x=t,this.y=e,this.sprite=i,this.scene=a,this.gameObject=n?a.physics.add.sprite(t,e,i):a.physics.add.image(t,e,i),this.gameObject.setScale(s)}MoveTo(t,e){this.x=t,this.y=e,this.UpdateBodyCoords()}Move(t,e){this.x+=t,this.y+=e,this.UpdateBodyCoords()}UpdateBodyCoords(){this.gameObject.x=this.x,this.gameObject.y=this.y}Update(){}}class K extends J{constructor(t,e,s,i,a){super(t,e,s,i,a),this.playerGrabbing=null}setupOverlap(t,e,s){s.physics.add.overlap(t.gameObject,this.gameObject,()=>{t.GrabItem(this)}),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{e.GrabItem(this)})}GrabItem(t){console.log("ðŸ§ª GrabItem llamado con:",K),null!=t&&null==this.playerGrabbing&&null==t.currentItemGrabbing&&(this.playerGrabbing=t)}ClearPlayer(){this.playerGrabbing=null}Update(){null!=this.playerGrabbing&&this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y-60)}}class $ extends K{constructor(t,e,s){super(-64,-64,t,e,s),this.Reset()}Update(){super.Update(),this.hasSpawned||(this.spawnTime--,this.spawnTime<0&&(this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.hasSpawned=!0))}Reset(){this.MoveTo(-64,-64),this.spawnTime=Phaser.Math.Between(60,240),this.hasSpawned=!1,this.ClearPlayer()}}class X extends K{constructor(t,e,s){super(-128,-128,t,e,s),this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.throwSpeedX=0,this.throwSpeedY=0,this.isThrown=!1,this.throwOwner=null}setupOverlap(t,e,s){super.setupOverlap(t,e,s),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==t&&t.KnockOut()}),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==e&&e.KnockOut()})}Throw(t,e){null!=this.playerGrabbing&&(this.throwSpeedX=30*(t>0?1:0==t?0:-1),this.throwSpeedY=30*(e>0?1:0==e?0:-1),this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y),this.isThrown=!0,this.throwOwner=this.playerGrabbing,this.ClearPlayer())}Update(){super.Update(),this.ThrowMovement()}ThrowMovement(){if(Math.abs(this.throwSpeedX)<1&&Math.abs(this.throwSpeedY)<1)return this.throwOwner=null,void(this.isThrown=!1);this.Move(this.throwSpeedX*=.9,this.throwSpeedY*=.9),(this.x<50||this.x>1150)&&(this.throwSpeedX*=-1,this.Move(5*Math.sign(this.throwSpeedX),0)),(this.y<50||this.y>750)&&(this.throwSpeedY*=-1,this.Move(0,5*Math.sign(this.throwSpeedY)))}}class Q extends K{constructor(t,e,s,i,a,n){super(t,e,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}setupOverlap(t,e,s){s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.onPlayerOverlap(t)),s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onPlayerOverlap(e))}onPlayerOverlap(t){t.isLocal&&(t.currentItemGrabbing=this,t.grabItemInputOn&&t.GrabItem(this))}Reset(){this.ClearPlayer()}}class Z extends J{constructor(t,e,s,i,a,n,r,o=!0){super(t,e,s,`${i}_frontEst`,a,!0),this.scene=a,this.speed=200,this.characterName=i,this.cursors=n,this.grabItemKey=r,this.currentItemGrabbing=null,this.isLocal=o,this.hasCandy=!1,this.hasInteractedWithItems=!1,this.hasUpdatedItemInteraction=!1,this.grabItemInputOn=!1,this.itemInteractionCooldown=0,this.facingX=0,this.facingY=0,this.knockOutTimer=0,this.grabItemKey&&(this.scene.input.keyboard.on(`keydown-${this.grabItemKey}`,()=>this.grabItemInputOn=!0),this.scene.input.keyboard.on(`keyup-${this.grabItemKey}`,()=>this.grabItemInputOn=!1))}Update(){this.isLocal&&(this.Movement(),this.ItemInputs(),this.currentItemGrabbing&&this.GrabItem(this.currentItemGrabbing))}Movement(){if(!this.cursors)return;this.vx=0,this.vy=0;let t=!1;this.facingX=0,this.facingY=0,this.cursors.left?.isDown&&(this.vx=-this.speed,this.facingX=-1,t=!0),this.cursors.right?.isDown&&(this.vx=this.speed,this.facingX=1,t=!0),this.cursors.up?.isDown&&(this.vy=-this.speed,this.facingY=-1,t=!0),this.cursors.down?.isDown&&(this.vy=this.speed,this.facingY=1,t=!0);let e=null;t&&(0!==this.vx&&0!==this.vy||0!==this.vx?e=this.vx>0?`${this.characterName}_right_anim`:`${this.characterName}_left_anim`:0!==this.vy&&(e=this.vy>0?`${this.characterName}_front_anim`:`${this.characterName}_back_anim`)),e?this.gameObject.anims.play(e,!0):this.gameObject.setTexture(`${this.characterName}_frontEst`),this.knockOutTimer>0&&(this.knockOutTimer--,this.vx=0,this.vy=0,this.facingX=0,this.facingY=0),this.Move(this.vx*this.scene.game.loop.delta/1e3,this.vy*this.scene.game.loop.delta/1e3);const s=this.gameObject.displayWidth/2,i=this.gameObject.displayHeight/2;this.x<s&&this.MoveTo(s,this.y),this.x>this.scene.sys.game.config.width-s&&this.MoveTo(this.scene.sys.game.config.width-s,this.y),this.y<i&&this.MoveTo(this.x,i),this.y>this.scene.sys.game.config.height-i&&this.MoveTo(this.x,this.scene.sys.game.config.height-i)}ItemInputs(){if(this.knockOutTimer>0)return this.hasUpdatedItemInteraction=!1,void(this.hasInteractedWithItems=!1);this.hasUpdatedItemInteraction?this.hasInteractedWithItems=!1:this.grabItemInputOn&&(this.hasInteractedWithItems=!0,this.hasUpdatedItemInteraction=!0),this.grabItemInputOn||(this.hasUpdatedItemInteraction=!1,this.hasInteractedWithItems=!1),this.itemInteractionCooldown>0&&this.itemInteractionCooldown--}GrabItem(t){this.itemInteractionCooldown>0||this.hasInteractedWithItems&&(null==this.currentItemGrabbing?null==t.playerGrabbing&&(t.GrabItem(this),this.currentItemGrabbing=t,this.itemInteractionCooldown=3,this.isLocal&&t instanceof Q&&(this.hasCandy=!0,this.scene.send&&this.scene.send({type:"CANDY_PICKUP",candyId:t.id})),this.hasCandy=this.currentItemGrabbing instanceof $||this.currentItemGrabbing instanceof Q):this.currentItemGrabbing instanceof X&&(this.currentItemGrabbing.Throw(this.facingX,this.facingY),this.currentItemGrabbing=null,this.itemInteractionCooldown=3))}DeliverCandy(){if(!this.hasCandy)return;const t=this.currentItemGrabbing;t&&(this.hasCandy=!1,this.currentItemGrabbing=null,t.Reset(),this.isLocal&&(console.log("CANDY_DELIVERED enviado al server, candyId:",t.id),this.scene.send({type:"CANDY_DELIVERED",candyId:t.id})))}KnockOut(){this.knockOutTimer>0||(this.knockOutTimer=100,null!=this.currentItemGrabbing&&(this.currentItemGrabbing.MoveTo(this.x,this.y),this.currentItemGrabbing.ClearPlayer(),this.currentItemGrabbing=null,this.hasCandy=!1))}}class q extends J{constructor(t,e,s,i,a,n){super(t,e,.15,null,n),this.owner=a,this.candies=0,this.text=n.add.text(s,i,0,{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000a7"}),this.gameObject.visible=!1,n.physics.add.overlap(a.gameObject,this.gameObject,()=>{a.hasCandy&&a.DeliverCandy()})}CheckForCandy(){this.owner.hasCandy&&(this.text.text=++this.candies,this.owner.DeliverCandy())}Restart(){this.candies=0,this.text.text=0}}class tt extends J{constructor(t,e,s,i){super(t,e,s,"speed_powerup",i,!0),this.scene=i,this.active=!0}setupOverlap(t,e,s){s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.apply(t),null,this),s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.apply(e),null,this)}apply(t){if(!this.active)return;this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1;const e=t.speed;t.speed*=1.5,this.scene.time.delayedCall(5e3,()=>{t.speed=e,this.respawn()})}respawn(){this.MoveTo(Phaser.Math.Between(200,1e3),Phaser.Math.Between(200,600)),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0}}class et extends e.Scene{constructor(){super("GameScene")}preload(){this.load.image("floor",x),this.load.image("game_boundary",M),this.load.image("leaves",C),this.load.image("timerImg",k),this.load.audio("game_music",z),this.load.audio("timer_alert",V),this.load.image("candy",P),this.load.image("pumpkin1",E),this.load.image("pumpkin2",T),this.load.image("pumpkin3",G),this.load.image("rock",A),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("speed_powerup",B),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",R,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",D,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",U,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",j,{frameWidth:256,frameHeight:256})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3).setDepth(0),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play();this.add.rectangle(81,400,96,96,4079276).setAlpha(.5),this.add.rectangle(1119,400,96,96,10682368).setAlpha(.5),this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75);let t=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5,.5).setDepth(100);this.countdown=new H(this,t),this.round=1,this.startRound(45e3),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.scene.launch("PauseScene")}),this.entitiesController=new Y,this.anims.create({key:"vampiresa_front_anim",frames:this.anims.generateFrameNumbers("vampiresa_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_back_anim",frames:this.anims.generateFrameNumbers("vampiresa_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_left_anim",frames:this.anims.generateFrameNumbers("vampiresa_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_right_anim",frames:this.anims.generateFrameNumbers("vampiresa_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_front_anim",frames:this.anims.generateFrameNumbers("zombi_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_back_anim",frames:this.anims.generateFrameNumbers("zombi_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_left_anim",frames:this.anims.generateFrameNumbers("zombi_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_right_anim",frames:this.anims.generateFrameNumbers("zombi_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),this.controlsUI1=this.add.image(180,20,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI1,alpha:0,duration:500,onComplete:()=>{this.controlsUI1.destroy()}})}),this.controlsUI2=this.add.image(830,20,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI2,alpha:0,duration:500,onComplete:()=>{this.controlsUI2.destroy()}})}),this.player1=new Z(100,400,.4,"zombi",this,this.keys1,"E"),this.player2=new Z(1100,400,.4,"vampiresa",this,this.keys2,"O"),this.entitiesController.AddEntity(this.player1),this.entitiesController.AddEntity(this.player2),this.candy=new $(.2,"candy",this),this.candy.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.candy),this.item1=new X(.3,"pumpkin1",this),this.item1.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item1),this.item2=new X(.3,"pumpkin2",this),this.item2.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item2),this.item3=new X(.3,"pumpkin3",this),this.item3.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item3),this.item4=new X(.3,"rock",this),this.item4.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item4),this.item5=new X(.3,"rock",this),this.item5.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item5),this.basket1=new q(60,400,70,310,this.player1,this),this.basket2=new q(1140,400,1110,310,this.player2,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.speedPowerUp=new tt(600,400,.3,this),this.speedPowerUp.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.speedPowerUp)}update(){this.countdown.update(),this.entitiesController.Update()}startRound(t){this.countdown.start(t,()=>this.endRound())}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){const t=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let e="";e=this.player1Score>this.player2Score?"Â¡Gana Jugador 1!":this.player2Score>this.player1Score?"Â¡Gana Jugador 2!":"Â¡Empate!";const s=this.add.text(600,450,e,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return void this.time.delayedCall(3e3,()=>{t.destroy(),s.destroy(),this.scene.start("MainMenu")})}const t=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{t.destroy();const e=Math.max(0,45e3-15e3*(this.round-1));this.startRound(e)})}}const st=t.p+"13e3bfed51399d5225e1.png";class it extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("menuPause",st),this.load.image("buttonBackground",n),this.load.audio("button_sound",r)}create(){this.add.rectangle(600,400,1200,800,0,.5);const t=this.add.image(600,400,"menuPause").setOrigin(.5);t.displayWidth=1200,t.displayHeight=800,this.sound.volume=s.GetVolume(),new i(600,300,this,"buttonBackground","Reanudar",()=>{this.scene.stop(),this.scene.resume("GameScene")},{fontSize:"23px"}),new i(600,425,this,"buttonBackground","MenÃº",()=>{this.scene.stop("GameScene"),this.scene.start("MainMenu")}),new i(600,550,this,"buttonBackground","Ajustes",()=>{this.scene.launch("SettingsMenu",{from:"PauseScene"}),this.scene.bringToTop("SettingsMenu")})}}const at=t.p+"11b55ffb7a52e8ee03ac.jpg";class nt extends K{constructor(t,e,s,i,a,n){super(t,e,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}setupOverlap(t,e,s){s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.onPlayerOverlap(t)),s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onPlayerOverlap(e))}onPlayerOverlap(t){t.isLocal&&(t.currentItemGrabbing=this,t.grabItemInputOn&&t.GrabItem(this))}Reset(){this.ClearPlayer()}}class rt extends e.Scene{constructor(){super("MultiplayerGameScene")}init(t){this.ws=t.ws,this.playerRole=t.playerRole,this.gameStarted=!1,this.gameEnded=!1,this.candy=null,this.item=null}preload(){this.load.image("floor",x),this.load.image("game_boundary",M),this.load.image("leaves",C),this.load.audio("game_music",z),this.load.audio("timer_alert",V),this.load.audio("SFX_ButtonPress",r),this.load.image("candy",P),this.load.image("pumpkin1",E),this.load.image("pumpkin2",T),this.load.image("pumpkin3",G),this.load.image("rock",A),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("SPR_Button",n),this.load.image("speed_powerup",B),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",R,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",D,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",U,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",j,{frameWidth:256,frameHeight:256}),this.load.image("disconectionScreen",at),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(t=>{document.fonts.add(t)})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.entitiesController=new Y,this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),"player1"===this.playerRole?(this.localPlayer=new Z(100,400,.4,"zombi",this,this.keys1,"E",!0),this.remotePlayer=new Z(1100,400,.4,"vampiresa",this,null,null,!1)):"player2"===this.playerRole&&(this.localPlayer=new Z(1100,400,.4,"vampiresa",this,this.keys2,"O",!0),this.remotePlayer=new Z(100,400,.4,"zombi",this,null,null,!1)),this.entitiesController.AddEntity(this.localPlayer),this.entitiesController.AddEntity(this.remotePlayer),this.basket1=new q(60,400,70,310,this.localPlayer,this),this.basket2=new q(1140,400,1110,310,this.remotePlayer,this),this.speedPowerUp=new tt(600,400,.3,this),this.entitiesController.AddEntity(this.speedPowerUp),this.speedPowerUp.setupOverlap(this.localPlayer,this.remotePlayer,this),this.setupWebSocket(),this.send({type:"PLAYER_READY"}),this.ws.inLobby=!1}setupWebSocket(){this.ws.onmessage=t=>{if(this.gameEnded)return;const e=JSON.parse(t.data);switch(e.type){case"START_GAME":console.log("START_GAME recibido"),this.gameStarted=!0;break;case"PLAYER_MOVED":e.player!==this.playerRole&&this.remotePlayer.MoveTo(e.x,e.y);break;case"CANDY_SPAWN":console.log("CANDY_SPAWN recibido",e.candy),this.candy?(this.candy.MoveTo(e.candy.x,e.candy.y),this.candy.hasSpawned=!0):(this.candy=new Q(e.candy.x,e.candy.y,.2,"candy",this,e.candy.id),this.entitiesController.AddEntity(this.candy),this.candy.setupOverlap(this.localPlayer,this.remotePlayer,this));break;case"ITEM_SPAWN":console.log("ITEM_SPAWN recibido",e.item),this.item?(this.item.MoveTo(e.item.x,e.item.y),this.item.hasSpawned=!0):(this.item=new nt(e.item.x,e.item.y,.3,"rock",this,e.item.id),this.entitiesController.AddEntity(this.item),this.item.setupOverlap(this.localPlayer,this.remotePlayer,this));break;case"gameOver":this.endGame(e.winner);break;case"playerDisconnected":this.handleDisconnect()}}}setupWebSocketListeners(){this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnect()},this.ws.onerror=t=>{console.error("WebSocket error:",t),this.gameEnded||this.handleDisconnect()}}handleDisconnect(){console.error("EJECUTANDO HANDLE DISCONNECT"),this.gameEnded=!0,this.gameStarted=!1,this.add.text(400,250,"El otro jugador se ha desconectado",{fontSize:"48px",color:"#ff0000ff"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){this.add.text(600,400,"Volver al menÃº",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MainMenu")}),this.gameEnded=!0,this.gameStarted=!1,this.physics.pause(),this.showDisconnectScreen()}showDisconnectScreen(){const t=this.add.image(600,400,"disconectionScreen");t.setOrigin(.5),t.displayWidth=1200,t.displayHeight=800,new i(880,600,this,"SPR_Button","MenÃº",()=>{this.scene.start("MainMenu")})}send(t){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))}update(){this.gameStarted&&!this.gameEnded&&(this.localPlayer.Update(),this.send({type:"PLAYER_MOVE",player:this.playerRole,x:this.localPlayer.x,y:this.localPlayer.y}),this.entitiesController.Update())}endGame(t){const e="disconnect"===t?"Jugador desconectado":"Fin de la partida";this.add.text(600,400,e,{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.time.delayedCall(3e3,()=>this.scene.start("MenuScene"))}shutdown(){this.ws&&this.ws.close()}}const ot={type:e.AUTO,width:1200,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[h,d,c,y,S,O,I,et,it,rt],backgroundColor:"#000000",pixelArt:!0,dom:{createContainer:!0}};new e.Game(ot).scene.start("LoginScene")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1JsSixRQUFTLENBQ0xtSixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFclcsRUFBRyxFQUFHQyxFQUFHLEdBQ3BCcVcsT0FBTyxJQUlmM1csTUFBTyxDQUFDZ0MsRUFBWWtFLEVBQVVTLEVBQWNNLEVBQWNNLEVBQWNvQixFQUFhaUIsRUFBT2dKLEdBQVd3QyxHQUN2R0csSUFDQXJELGdCQUFpQixVQUNqQjBFLFVBQVUsRUFDVkMsSUFBSyxDQUNEQyxpQkFBaUIsSUFJWCxJQUFJLE9BQVlSLElBRXhCdFcsTUFBTWlHLE1BQU0sYSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyZXB1c2N1bG9uZXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvdWkvQnV0dG9uLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9NYWluTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGxheU1vZGVNZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbE1lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1NldHRpbmdzTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c01lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29udHJvbGxlcnMvVGltZXJDb250cm9sbGVyLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29udHJvbGxlcnMvRW50aXRpZXNDb250cm9sbGVyLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29yZS9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9JdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvQ2FuZHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvT25saW5lQ2FuZHkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9wbGF5ZXIvcGxheWVyQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0NhbmR5QmFza2V0LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVUaHJvd2FibGVJdGVtLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiZXhwb3J0IGNvbnN0IEF1ZGlvTWFuYWdlciA9IHtcclxuICAgIHZvbHVtZTogMC4xLFxyXG5cclxuICAgIFNldFZvbHVtZSh2KSB7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB2O1xyXG4gICAgfSxcclxuXHJcbiAgICBHZXRWb2x1bWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lO1xyXG4gICAgfSxcclxuXHJcbiAgICBQbGF5KGF1ZGlvLCBzY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLnNvdW5kLnBsYXkoYXVkaW8sIHsgdm9sdW1lOiB0aGlzLnZvbHVtZSB9KTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjZW5lLCB0ZXh0dXJlLCB0ZXh0LCBjYWxsYmFjaywgc3R5bGUgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JywgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjlweCcsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIC4uLnN0eWxlXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBzY2VuZS5hZGQuaW1hZ2UoMCwgMCwgdGV4dHVyZSk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc2NlbmUuYWRkLnRleHQoMCwgMCwgdGV4dCwgdGhpcy5zdHlsZSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gc2NlbmUuYWRkLmNvbnRhaW5lcih4LCB5LCBbdGhpcy5pbWFnZSwgdGhpcy50ZXh0XSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0U2l6ZSh0aGlzLmltYWdlLndpZHRoLCB0aGlzLmltYWdlLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0U2NhbGUoMS41KTsgLy8gZXNjYWxhciBmb25kbyB5IHRleHRvXHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc2V0VGludCgweGZmZmYwMCk7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldENvbG9yKCcjZmZmZmRkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0U2NhbGUoMS4yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5jbGVhclRpbnQoKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0Q29sb3IoJyNmZmZmZmZmZicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLlBsYXkoJ1NGWF9CdXR0b25QcmVzcycsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUZXh0KG5ld1RleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQuc2V0VGV4dChuZXdUZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KXtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQb3NpdGlvbih4LCB5KVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19CYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL01haW5NZW51QmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU0ZYX0J1dHRvblByZXNzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc2Z4L0J1dHRvblByZXNzLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX01haW5NZW51IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvTWFpbk1lbnUubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dpblNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2dpblNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0JhY2tncm91bmQnLCBJTUdfQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTVVTSUNfTWFpbk1lbnUnLCBNVVNJQ19NYWluTWVudSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ0J1dHRvbnNGb250JywndXJsKGZvbnRzL2FsYWdhcmRfZm9udC50dGYpJyk7XHJcblxyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oKGxvYWRlZEZvbnQpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRm9udCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlICgpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xPR0lOIFNDRU5FIENSRUFURScpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfTWFpbk1lbnUnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vIEludHJvZHVjaXIgdXN1YXJpb1xyXG4gICAgICAgIGNvbnN0IElOUFVUX1dJRFRIID0gNDIwO1xyXG4gICAgICAgIGNvbnN0IElOUFVUX0hFSUdIVCA9IDUwO1xyXG4gICAgICAgIGNvbnN0IE1BWF9MRU5HVEggPSAxMjtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gJyc7XHJcbiAgICAgICAgbGV0IGZvY3VzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIHRleHRvXHJcbiAgICAgICAgY29uc3QgdGl0bGVCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDQ1MCwgNTAwLCAzNTAsIDB4MDAwMDAwLCAwLjYpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dEJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgNDIwLCBJTlBVVF9XSURUSCwgSU5QVVRfSEVJR0hULCAweGZmZmZmZilcclxuICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoMiwgMHgwMDAwMDApXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5hZGQudGV4dCg2MDAgLSBJTlBVVF9XSURUSCAvIDIgKyAxMiwgNDIwLCAnJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEzDrW5lYSB2ZXJ0aWNhbCBkZSBlc2NyaXR1cmFcclxuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5hZGQucmVjdGFuZ2xlKCBpbnB1dFRleHQueCArIDIsIDQyMCwgMiwgMzAsIDB4MDAwMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUGFycGFkZW9cclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogNTAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge2xpbmUudmlzaWJsZSA9IGZvY3VzZWQ7fVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnB1dEJnLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQubWFuYWdlci5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3RleHQnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyLCBvYmplY3RzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghb2JqZWN0cy5pbmNsdWRlcyhpbnB1dEJnKSkge1xyXG4gICAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQubWFuYWdlci5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRlY2xhZG9cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZm9jdXNlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWUuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkubGVuZ3RoID09PSAxICYmIHVzZXJuYW1lLmxlbmd0aCA8IE1BWF9MRU5HVEgpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWUgKz0gZXZlbnQua2V5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnB1dFRleHQuc2V0VGV4dCh1c2VybmFtZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3ZlciBsYSBsw61uZWEgY29uIHRleHRvXHJcbiAgICAgICAgICAgIGxpbmUueCA9IGlucHV0VGV4dC54ICsgaW5wdXRUZXh0LndpZHRoICsgNDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBpbmljaW8gZGUgc2VzacOzblxyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNTQwLCB0aGlzLCAnU1BSX0J1dHRvbicsICdMb2dpbicsKCkgPT4gXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcm5hbWUudHJpbSgpKSByZXR1cm47IC8vIFNpIG5vIGhheSBub21icmUsIGRldm9sdmVyXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXIgdXN1YXJpb1xyXG4gICAgICAgICAgICAgICAgZmV0Y2goJy9hcGkvdXNlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHVzZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU3RhcnRNZW51KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEF1dG8gbG9naW5cclxuICAgICAgICBjb25zdCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7XHJcblxyXG4gICAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VySWR9YClcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuU3RhcnRNZW51KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMzMwLCAnSW50cm9kdWNlIHR1IG5vbWJyZScsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBTdGFydE1lbnUoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9NYWluTWVudUJhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNGWF9CdXR0b25QcmVzcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBNVVNJQ19NYWluTWVudSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL01haW5NZW51Lm1wMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbk1lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01haW5NZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19CYWNrZ3JvdW5kJywgSU1HX0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU0ZYX0J1dHRvblByZXNzJywgU0ZYX0J1dHRvblByZXNzKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ01VU0lDX01haW5NZW51JywgTVVTSUNfTWFpbk1lbnUpO1xyXG5cclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdCdXR0b25zRm9udCcsJ3VybChmb250cy9hbGFnYXJkX2ZvbnQudHRmKScpO1xyXG5cclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKChsb2FkZWRGb250KSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDM1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIk9ubGluZVwiLCAoKSA9PiB0aGlzLlN0YXJ0UGxheSgpKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCAtIDMwMCwgNzAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVHV0b3JpYWxcIiwgKCkgPT4gdGhpcy5TdGFydFR1dG9yaWFsKCksIHsgZm9udFNpemU6ICcyNXB4JyB9KTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNzAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiQWp1c3Rlc1wiLCAoKSA9PiB0aGlzLlN0YXJ0U2V0dGluZ3MoKSk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgKyAzMDAsIDcwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkNyw6lkaXRvc1wiLCAoKSA9PiB0aGlzLlN0YXJ0Q3JlZGl0cygpLCB7IGZvbnRTaXplOiAnMjVweCcgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIHNvbG8gbG9jYWxcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNTAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiTG9jYWxcIiwgKCkgPT4gdGhpcy5TdGFydExvY2FsR2FtZSgpLCk7XHJcblxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19NYWluTWVudScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93Q3VycmVudFVzZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0N1cnJlbnRVc2VyKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTtcclxuICAgICAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmZXRjaChgL2FwaS91c2Vycy8ke3VzZXJJZH1gKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCgxMTcwLCAzMCwgYCR7dXNlci51c2VybmFtZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBzZSBwdWRvIGNhcmdhciBlbCB1c3VhcmlvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFN0YXJ0UGxheSgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieScpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgU3RhcnRUdXRvcmlhbCgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdUdXRvcmlhbE1lbnUnKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFN0YXJ0U2V0dGluZ3MoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2V0dGluZ3NNZW51JykpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBTdGFydENyZWRpdHMoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c01lbnUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgU3RhcnRMb2NhbEdhbWUoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJykpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTWFpbk1lbnVCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlNb2RlTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGxheU1vZGVNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19CYWNrZ3JvdW5kJywgSU1HX0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgLSAxODAsIDQwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkNyZWFyIFBhcnRpZGFcIiwgbnVsbCk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgKyAxODAsIDQwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlVuaXJzZSBhIFBhcnRpZGFcIiwgbnVsbCk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDU1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkxvY2FsXCIsIG51bGwpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMClcclxuICAgIH1cclxuXHJcbiAgICBHb0JhY2soKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpe1xyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gZGF0YS5zb2NrZXQ7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19EZWZhdWx0QmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9EZWZhdWx0QmFja2dyb3VuZC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbFdBU0QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNXQVNELnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xJSkxLIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzSUpLTC5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19EZWZhdWx0QmFja2dyb3VuZCcsIElNR19EZWZhdWx0QmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfVmFtcGlyZScsIHZhbXBpcmVzYUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9ab21iaWUnLCB6b21iaUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xXQVNEJywgY29udHJvbFdBU0QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbElKTEsnLCBjb250cm9sSUpMSyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfRGVmYXVsdEJhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxSWNvbiA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNDUwLCAnU1BSX1pvbWJpZScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMkljb24gPSB0aGlzLmFkZC5pbWFnZSgxMjAwIC0gMzUwLCA0NTAsICdTUFJfVmFtcGlyZScpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkxPSB0aGlzLmFkZC5pbWFnZSgxOTAsIDEwMCwgJ2NvbnRyb2xXQVNEJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkyPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDEwMCwgJ2NvbnRyb2xJSkxLJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjM1KTtcclxuXHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApXHJcbiAgICB9XHJcblxyXG5cclxuICAgIEdvQmFjaygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX1NldHRpbmdzQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9TZXR0aW5nc0JhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX1NldHRpbmdzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvU2V0dGluZ3MubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NldHRpbmdzTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfU2V0dGluZ3NCYWNrZ3JvdW5kJywgSU1HX1NldHRpbmdzQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19TZXR0aW5ncycsIE1VU0lDX1NldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX1NldHRpbmdzJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX1NldHRpbmdzQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDEwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVm9sdmVyXCIsICgpID0+IHRoaXMuR29CYWNrKCkpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy9UZXh0byBkZSBcIlZvbHVtZW5cIlxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCAzNjUsICdWb2x1bWVuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMyYzJhMmFmZicsXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JhcnJhIGRlIHZvbHVtZW5cclxuICAgICAgICBjb25zdCBiYXJYID0gNjAwO1xyXG4gICAgICAgIGNvbnN0IGJhclkgPSA0MDA7XHJcbiAgICAgICAgY29uc3QgYmFyV2lkdGggPSAzMDA7XHJcbiAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgLy9CYXJyYSBiYXNlXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKGJhclgsIGJhclksIGJhcldpZHRoLCBiYXJIZWlnaHQsIDB4ODg4ODg4KTtcclxuICAgICAgICAvL1ZvbHVtZW4gaW5pY2lhbFxyXG4gICAgICAgIGxldCBjdXJyZW50Vm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gY3VycmVudFZvbHVtZTtcclxuICAgICAgICAvL0JhcnJhIGRlIHJlbGxlbm9cclxuICAgICAgICBjb25zdCB2b2x1bWVJbmRpY2F0b3IgPSB0aGlzLmFkZC5yZWN0YW5nbGUoYmFyWCAtIGJhcldpZHRoIC8gMiArIChjdXJyZW50Vm9sdW1lICogYmFyV2lkdGgpIC8gMiwgYmFyWSwgY3VycmVudFZvbHVtZSAqIGJhcldpZHRoLCBiYXJIZWlnaHQsMHgyMjIyMjIpO1xyXG4gICAgICAgIC8vSGFjZXIgYmFycmEgaW50ZXJhY3RpdmFcclxuICAgICAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUoXHJcbiAgICAgICAgICAgIGJhclggLSBiYXJXaWR0aCAvIDIgKyBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGgsIGJhclksIDEyLCAweGZmZmZmZlxyXG4gICAgICAgIClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vUG9kZXIgYXJyYXN0cmFyIGVsIGhhbmRsZVxyXG4gICAgICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKGhhbmRsZSk7XHJcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnJywgKHBvaW50ZXIsIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICAvL0xpbWl0YXIgZWwgbW92aW1pZW50byBkZWwgaGFuZGxlIGRlbnRybyBkZSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBtaW5YID0gYmFyWCAtIGJhcldpZHRoIC8gMjtcclxuICAgICAgICAgICAgY29uc3QgbWF4WCA9IGJhclggKyBiYXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGlmIChkcmFnWCA8IG1pblgpIGRyYWdYID0gbWluWDtcclxuICAgICAgICAgICAgaWYgKGRyYWdYID4gbWF4WCkgZHJhZ1ggPSBtYXhYO1xyXG4gICAgICAgICAgICBoYW5kbGUueCA9IGRyYWdYO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgdm9sdW1lbiBiYXNhZG8gZW4gbGEgcG9zaWNpw7NuIGRlbCBoYW5kbGVcclxuICAgICAgICAgICAgY3VycmVudFZvbHVtZSA9IChoYW5kbGUueCAtIG1pblgpIC8gYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5TZXRWb2x1bWUoY3VycmVudFZvbHVtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgbGEgYmFycmEgZGUgdm9sdW1lblxyXG4gICAgICAgICAgICB2b2x1bWVJbmRpY2F0b3Iud2lkdGggPSBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ2xpY2sgZW4gbGEgYmFycmEgcGFyYSBtb3ZlciBlbCBoYW5kbGVcclxuICAgICAgICB2b2x1bWVCYXIuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgICAgICB2b2x1bWVCYXIub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxYID0gcG9pbnRlci54IC0gKGJhclggLSBiYXJXaWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgdm9sdW1lbiBiYXNhZG8gZW4gbGEgcG9zaWNpw7NuIGRlbCBjbGlja1xyXG4gICAgICAgICAgICBjdXJyZW50Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAobG9jYWxYIC8gYmFyV2lkdGgsIDAsIDEpO1xyXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIuU2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTtcclxuICAgICAgICAgICAgLy9BY3R1YWxpemFyIGxhIHBvc2ljacOzbiBkZWwgaGFuZGxlIHkgbGEgYmFycmEgZGUgdm9sdW1lblxyXG4gICAgICAgICAgICBoYW5kbGUueCA9IGJhclggLSBiYXJXaWR0aCAvIDIgKyBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIHZvbHVtZUluZGljYXRvci53aWR0aCA9IGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgLy9Cb3TDs24gZGUgXCJWb2x2ZXJcIiBzZWfDum4gZGVzZGUgZMOzbmRlIHNlIGFicmnDsyBsYSBlc2NlbmFcclxuICAgICAgICBpZih0aGlzLm9wZW5lZEZyb20gPT09ICdNYWluTWVudScpe1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdQYXVzZVNjZW5lJyk7IC8vIEFzZWd1cmFyc2UgZGUgZGV0ZW5lciBsYSBlc2NlbmEgZGUgcGF1c2Egc2kgZXN0YWJhIGFiaWVydGFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTsgLy8gSXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5vcGVuZWRGcm9tID09PSAnUGF1c2VTY2VuZScpe1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdQYXVzZVNjZW5lJyk7IC8vIFZvbHZlciBhIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19HYW1lJywge1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG5cclxuICAgIEluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5vcGVuZWRGcm9tID0gZGF0YT8uZnJvbSB8fCAnTWFpbk1lbnUnOyAvLyBNYWluTWVudSBvIFBhdXNlU2NlbmVcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19DcmVkaXRzQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9DcmVkaXRzQmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgTVVTSUNfQ3JlZGl0cyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL0NyZWRpdHMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0xvZ28gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTG9nby5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNNZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfTG9nbycsIElNR19Mb2dvKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19DcmVkaXRzQmFja2dyb3VuZCcsIElNR19DcmVkaXRzQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19DcmVkaXRzJywgTVVTSUNfQ3JlZGl0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19DcmVkaXRzJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyMwMDAwMDAnKTtcclxuICAgICAgICAvL0xvZ28gaW5pY2lhbFxyXG4gICAgICAgIGNvbnN0IGxvZ29JbWcgPSB0aGlzLmFkZC5pbWFnZSggdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLyAyLFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAvIDIsJ0lNR19Mb2dvJykuc2V0T3JpZ2luKDAuNSkuc2V0QWxwaGEoMCkuc2V0U2NhbGUoMC4zKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBsb2dvSW1nLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIGVhc2U6ICdQb3dlcjInLFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IGxvZ29JbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogJ1Bvd2VyMicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29JbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TaG93Q3JlZGl0c01lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcblxyXG4gICAgU2hvd0NyZWRpdHNNZW51KCl7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19DcmVkaXRzQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICAvLyBBcnJheSBjb24gbG9zIG5vbWJyZXNcclxuICAgICAgICBjb25zdCBjcmVkaXRzR3J1cG8gPSBbXHJcbiAgICAgICAgICAgICdHcnVwbyAxMyAtIEp1ZWdvcyBlbiBSZWQnLCBcclxuICAgICAgICAgICAgJ01hcnRhIGRlIE1pZ3VlbCBUYXBpYScsXHJcbiAgICAgICAgICAgICfDgW5nZWwgWW91bmVzIEthcmltIE3DqXJpZGEnLFxyXG4gICAgICAgICAgICAnU2FyYSBNZXNhIFBhY2hlY28nLFxyXG4gICAgICAgICAgICAnQ2xhdWRpYSBNb3JhZ28gQW1pZ28nLFxyXG4gICAgICAgICAgICAnSXJpcyBNdcOxb3ogTW9udGVybycsXHJcbiAgICAgICAgICAgICcnLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNPdGhlcnM9W1xyXG4gICAgICAgICAgICAnQXNzZXRzIGRlIHNwcml0ZXMgR2FtZVNjZW5lOiAxM3RoIENhbmR5V2ViJyxcclxuICAgICAgICAgICAgJ0Fzc2V0cyBwYW50YWxsYXM6IENhbnZhJyxcclxuICAgICAgICAgICAgJ03DunNpY2EgeSBlZmVjdG9zIGRlIHNvbmlkbzogRnJlZVNvdW5kJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBBbHR1cmEgaW5pY2lhbCBwYXJhIGVsIHByaW1lciBub21icmUgXHJcbiAgICAgICAgbGV0IHN0YXJ0WSA9IDI1MDtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gNTA7IC8vIGVzcGFjaW8gdmVydGljYWwgZW50cmUgbm9tYnJlc1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjYWRhIG5vbWJyZSBjZW50cmFkb1xyXG4gICAgICAgIGNyZWRpdHNHcnVwby5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgc3RhcnRZICsgaW5kZXggKiBzcGFjaW5nLCBuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVkaXRzT3RoZXJzLmZvckVhY2goKG5hbWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCBzdGFydFkgKyAoY3JlZGl0c0dydXBvLmxlbmd0aCArIGluZGV4KSAqIHNwYWNpbmcgKzg1LCBuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDMwMCwgMCwgMCwgMClcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbigxMDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlZvbHZlclwiLCAoKSA9PiB0aGlzLkdvQmFjaygpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19EZWZhdWx0QmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9EZWZhdWx0QmFja2dyb3VuZC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfVmFtcGlyZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9ab21iaWUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3pvbWJpZV9mcm9udC5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvYmJ5IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2JieScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfRGVmYXVsdEJhY2tncm91bmQnLCBJTUdfRGVmYXVsdEJhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX1ZhbXBpcmUnLCBTUFJfVmFtcGlyZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfWm9tYmllJywgU1BSX1pvbWJpZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfRGVmYXVsdEJhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCA2MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJDb21lbnphclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdQTEFZRVJfUkVBRFknIH0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOCk7IC8vIG9jdWx0YXIgYm90w7NuIHRyYXMgcHVsc2FyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCdFc3BlcmFuZG8gcXVlIGVsIHJpdmFsIGVzdMOpIGxpc3RvLi4uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KTsgLy8gb2N1bHRvIGFsIGluaWNpb1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiU2FsaXJcIiwgKCkgPT4gdGhpcy5MZWF2ZSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxSWNvbiA9IHRoaXMuYWRkLmltYWdlKDMwMCwgMzAwLCAnU1BSX1ZhbXBpcmUnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjFOYW1lID0gdGhpcy5hZGQudGV4dCgzMDAsIDEyMCwgXCIuLi5cIiwgeyBmb250U2l6ZTogXCIzMnB4XCIgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMkljb24gPSB0aGlzLmFkZC5pbWFnZSgxMjAwIC0gMzAwLCAzMDAsICdTUFJfWm9tYmllJyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyTmFtZSA9IHRoaXMuYWRkLnRleHQoMTIwMCAtIDMwMCwgMTIwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZVRleHQgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNTAwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoYEVzcGVyYW5kbyByaXZhbC4uLmApO1xyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG5cclxuICAgICAgICB0aGlzLnNvY2tldCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICAgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgTGVhdmUoKSB7XHJcbiAgICAgICAgdGhpcy5MZWF2ZVF1ZXVlKCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbm5lY3RUb1NlcnZlcigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICAgICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuICAgICAgICAgICAgdGhpcy53cy5pbkxvYmJ5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnSk9JTl9RVUVVRScsIHVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpIH0pKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCcjIEVycm9yIGRlIGNvbmV4acOzbiAjJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dCgnIyBDb25leGnDs24gcGVyZGlkYSAjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dCgnIyBGYWxsbyBhbCBjb25lY3RhciAjJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJOb3RDb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dChgRXNwZXJhbmRvIHJpdmFsLi4uYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyMU5hbWUuc2V0VGV4dChcIi4uLlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyMk5hbWUuc2V0VGV4dChcIi4uLlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dChgwqFSaXZhbCBlbmNvbnRyYWRvIWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oNjAwLCA2MDApOyAvLyBBaG9yYSBzw60gZXMgY2xpY2FibGVcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyMVVzZXJuYW1lID0gXCJUw5pcIjtcclxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXIyVXNlcm5hbWUgPSBcIlTDmlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGZldGNoKGAvYXBpL3VzZXJzLyR7ZGF0YS5lbmVteUlkfWApXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnJvbGUgPT0gXCJwbGF5ZXIxXCIpIHBsYXllcjJVc2VybmFtZSA9IHVzZXIudXNlcm5hbWU7IGVsc2UgcGxheWVyMVVzZXJuYW1lID0gdXNlci51c2VybmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIxTmFtZS5zZXRUZXh0KHBsYXllcjFVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIyTmFtZS5zZXRUZXh0KHBsYXllcjJVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHNlIHB1ZG8gY2FyZ2FyIGVsIHVzdWFyaW8nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnU1RBUlRfR0FNRSc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyBpbiByb29tOicsIGRhdGEucm9vbUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gc2VydmVyIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBMZWF2ZVF1ZXVlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi8uLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGltZXJDb250cm9sbGVye1xyXG4gICAgY29uc3RydWN0b3IgKHNjZW5lLCB0ZXh0KXtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuXHJcbiAgICAgICAgLy9DdWVudGEgZGUgcm9uZGFzXHJcbiAgICAgICAgdGhpcy5jeWNsZXMgPSAwOyAgICAgICAgLy8gY3XDoW50YXMgdmVjZXMgaGEgdGVybWluYWRvXHJcbiAgICAgICAgdGhpcy5tYXhDeWNsZXMgPSAzOyAgICAgLy8gbcOheGltbyBkZSByZXBldGljaW9uZXNcclxuICAgIH1cclxuXHJcbiAgICBzdGFydChkdXJhdGlvbiwgY2FsbGJhY2spe1xyXG4gICAgICAgIC8vU2kgeWEgZXhpc3RlLCBkZXN0cnVpciBlbCBhY3R1YWxcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuYWxlcnRQbGF5ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoXHJcbiAgICAgICAge2RlbGF5OmR1cmF0aW9uLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKXtcclxuICAgICAgICBpZih0aGlzLnRpbWVyRXZlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIC8vU2kgbm8gZXhpc3RlLCB2b2x2ZXJcclxuICAgICAgICBpZiAoIXRoaXMudGltZXJFdmVudCB8fCB0aGlzLmR1cmF0aW9uIDw9IDApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbGFwc2VkID0gdGhpcy50aW1lckV2ZW50LmdldEVsYXBzZWQoKTtcclxuICAgICAgICBjb25zdCByZW1haW5pbmcgPSB0aGlzLmR1cmF0aW9uIC0gZWxhcHNlZDtcclxuXHJcbiAgICAgICAgLy8gRXZpdGFyIG5lZ2F0aXZvXHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGgubWF4KDAsIHJlbWFpbmluZyAvIDEwMDApO1xyXG5cclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9IGAke3NlY29uZHMudG9GaXhlZCgyKX1gO1xyXG5cclxuICAgICAgICAvL1NvbmlkbyBkZSBhbGVydGEgY3VhbmRvIHF1ZWRhbiAxMCBzZWd1bmRvcyBvIG1lbm9zXHJcbiAgICAgICAgICBpZiAoc2Vjb25kcyA8PSA1ICYmICF0aGlzLmFsZXJ0UGxheWVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyQWxlcnQgPSB0aGlzLnNjZW5lLnNvdW5kLmFkZCgndGltZXJfYWxlcnQnKTtcclxuICAgICAgICAgICAgdGltZXJBbGVydC5wbGF5KHsgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCkgKiA0IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0UGxheWVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRW50aXRpZXNDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZEVudGl0eShlbnRpdHkpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5VcGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFbnRpdHl7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSwgdXNlU3ByaXRlID0gZmFsc2Upe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNwcml0ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgICAgICBpZih1c2VTcHJpdGUpe1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgc3ByaXRlKVxyXG4gICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IHNjZW5lLnBoeXNpY3MuYWRkLmltYWdlKHgsIHksIHNwcml0ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFNjYWxlKHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgTXVldmUgbGEgZW50aWRhZCBhIHVuYSBwb3NpY2lvblxyXG4gICAgTW92ZVRvKHgsIHkpe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLlVwZGF0ZUJvZHlDb29yZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgTXVldmUgYSBsYSBlbnRpZGFkICd4JyBlICd5JyB1bmlkYWRlc1xyXG4gICAgTW92ZSh4LCB5KXtcclxuICAgICAgICB0aGlzLnggKz0geDtcclxuICAgICAgICB0aGlzLnkgKz0geTtcclxuICAgICAgICB0aGlzLlVwZGF0ZUJvZHlDb29yZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVCb2R5Q29vcmRzKCl7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnkgPSB0aGlzLnk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIEFjdHVhbGl6YSBsYSBlbnRpZGFkXHJcbiAgICBVcGRhdGUoKXtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL0VudGl0eS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBFbnRpdHl7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSl7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIxLmdhbWVPYmplY3QsIHRoaXMuZ2FtZU9iamVjdCwgKCkgPT4geyBwbGF5ZXIxLkdyYWJJdGVtKHRoaXMpIH0pO1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyMi5nYW1lT2JqZWN0LCB0aGlzLmdhbWVPYmplY3QsICgpID0+IHsgcGxheWVyMi5HcmFiSXRlbSh0aGlzKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBHcmFiSXRlbShwbGF5ZXIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn6eqIEdyYWJJdGVtIGxsYW1hZG8gY29uOicsIEl0ZW0pO1xyXG4gICAgICAgIGlmKHBsYXllciA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHRoaXMucGxheWVyR3JhYmJpbmcgIT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIGlmKHBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gcGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIENsZWFyUGxheWVyKCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJHcmFiYmluZyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXJHcmFiYmluZyAhPSBudWxsKXtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlVG8odGhpcy5wbGF5ZXJHcmFiYmluZy54LCB0aGlzLnBsYXllckdyYWJiaW5nLnkgLSA2MClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbmR5IGV4dGVuZHMgSXRlbXtcclxuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCBzcHJpdGUsIHNjZW5lKXtcclxuICAgICAgICBzdXBlcigtNjQsIC02NCwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLlJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFVwZGF0ZSgpe1xyXG4gICAgICAgIHN1cGVyLlVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5oYXNTcGF3bmVkKXtcclxuICAgICAgICAgICAgdGhpcy5zcGF3blRpbWUtLTtcclxuICAgICAgICAgICAgaWYodGhpcy5zcGF3blRpbWUgPCAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuTW92ZVRvKFBoYXNlci5NYXRoLkJldHdlZW4oMjU2LCAxMjAwIC0gMjU2KSwgUGhhc2VyLk1hdGguQmV0d2VlbigxMjgsIDgwMCAtIDEyOCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBSZXNldCgpe1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKC02NCwgLTY0KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwYXduVGltZSA9IFBoYXNlci5NYXRoLkJldHdlZW4oNjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gXCIuL0l0ZW0uanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaHJvd2FibGVJdGVtIGV4dGVuZHMgSXRlbXtcclxuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCBzcHJpdGUsIHNjZW5lKXtcclxuICAgICAgICBzdXBlcigtMTI4LCAtMTI4LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuTW92ZVRvKFBoYXNlci5NYXRoLkJldHdlZW4oMjU2LCAxMjAwIC0gMjU2KSwgUGhhc2VyLk1hdGguQmV0d2VlbigxMjgsIDgwMCAtIDEyOCkpO1xyXG5cclxuICAgICAgICB0aGlzLnRocm93U3BlZWRYID0gMDtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRZID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGhyb3dPd25lciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKTtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBwbGF5ZXIxLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGhyb3dPd25lciAmJiB0aGlzLnRocm93T3duZXIgIT09IHBsYXllcjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxLktub2NrT3V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBwbGF5ZXIyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGhyb3dPd25lciAmJiB0aGlzLnRocm93T3duZXIgIT09IHBsYXllcjIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyLktub2NrT3V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBUaHJvdyh4RGlyLCB5RGlyKXtcclxuICAgICAgICBpZih0aGlzLnBsYXllckdyYWJiaW5nID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdGhyb3dGb3JjZSA9IDMwO1xyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFggPSB0aHJvd0ZvcmNlICogKHhEaXIgPiAwID8gMSA6IHhEaXIgPT0gMCA/IDAgOiAtMSk7XHJcbiAgICAgICAgdGhpcy50aHJvd1NwZWVkWSA9IHRocm93Rm9yY2UgKiAoeURpciA+IDAgPyAxIDogeURpciA9PSAwID8gMCA6IC0xKTtcclxuXHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8odGhpcy5wbGF5ZXJHcmFiYmluZy54LCB0aGlzLnBsYXllckdyYWJiaW5nLnkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aHJvd093bmVyID0gdGhpcy5wbGF5ZXJHcmFiYmluZztcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCl7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5UaHJvd01vdmVtZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgVGhyb3dNb3ZlbWVudCgpe1xyXG4gICAgICAgIGlmKE1hdGguYWJzKHRoaXMudGhyb3dTcGVlZFgpIDwgMSAmJiBNYXRoLmFicyh0aGlzLnRocm93U3BlZWRZKSA8IDEpe1xyXG4gICAgICAgICAgICB0aGlzLnRocm93T3duZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2lzdGFuY2UgPSAwLjk7XHJcbiAgICAgICAgdGhpcy5Nb3ZlKHRoaXMudGhyb3dTcGVlZFggKj0gcmVzaXN0YW5jZSwgdGhpcy50aHJvd1NwZWVkWSAqPSByZXNpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy54IDwgNTAgfHwgdGhpcy54ID4gMTIwMCAtIDUwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dTcGVlZFggKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZSg1ICogTWF0aC5zaWduKHRoaXMudGhyb3dTcGVlZFgpLCAwKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnkgPCA1MCB8fCB0aGlzLnkgPiA4MDAgLSA1MCkge1xyXG4gICAgICAgICAgICB0aGlzLnRocm93U3BlZWRZICo9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLk1vdmUoMCwgNSAqIE1hdGguc2lnbih0aGlzLnRocm93U3BlZWRZKSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZUNhbmR5IGV4dGVuZHMgSXRlbSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaWNpw7NuIFggZW52aWFkYSBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaWNpw7NuIFkgZW52aWFkYSBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcHJpdGUgXHJcbiAgICAgKiBAcGFyYW0ge1BoYXNlci5TY2VuZX0gc2NlbmUgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBJRCDDum5pY28gZGVsIGNhcmFtZWxvIGVudmlhZG8gcG9yIGVsIHNlcnZpZG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzcHJpdGUsIHNjZW5lLCBpZCkge1xyXG4gICAgICAgIHN1cGVyKHgsIHksIHNjYWxlLCBzcHJpdGUsIHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLlVwZGF0ZSgpO1xyXG4gICAgICAgIC8vIE5vIHNwYXduLCBubyBzcGF3blRpbWUsIG5hZGEgZGUgcmFuZG9tXHJcbiAgICB9XHJcblxyXG4gICAgT25Db2xsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKC02NCwgLTY0KTsgLy8gb2N1bHRhcmxvIG1pZW50cmFzIGxsZWdhIGxhIG51ZXZhIHBvc2ljacOzblxyXG4gICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY2VuZS53cyAmJiB0aGlzLnNjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUkVRVUVTVF9DQU5EWV9SRVNQQVdOJyxcclxuICAgICAgICAgICAgICAgIGNhbmR5SWQ6IHRoaXMuaWRcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAoKSA9PiB0aGlzLm9uUGxheWVyT3ZlcmxhcChwbGF5ZXIxKVxyXG4gICAgKTtcclxuXHJcbiAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICBwbGF5ZXIyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgKCkgPT4gdGhpcy5vblBsYXllck92ZXJsYXAocGxheWVyMilcclxuICAgICk7XHJcbn1cclxuXHJcbm9uUGxheWVyT3ZlcmxhcChwbGF5ZXIpIHtcclxuICAgIGlmICghcGxheWVyLmlzTG9jYWwpIHJldHVybjtcclxuICAgIHBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nID0gdGhpcztcclxuXHJcbiAgICAvLyBBdXRvLXJlY29nZXIgc2kgcXVpZXJlcyBxdWUgbm8gaGF5YSB0ZWNsYVxyXG4gICAgaWYgKHBsYXllci5ncmFiSXRlbUlucHV0T24pIHtcclxuICAgICAgICBwbGF5ZXIuR3JhYkl0ZW0odGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgICBcclxuICAgIFJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgICAgICAvLyBubyBtb3ZlciBhIC02NCwgLTY0XHJcbiAgICAgICAgLy8gbm8gc3Bhd25UaW1lXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IFRocm93YWJsZUl0ZW0gfSBmcm9tIFwiLi4vaXRlbXMvVGhyb3dhYmxlSXRlbS5qc1wiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuaW1wb3J0IHsgQ2FuZHkgfSBmcm9tIFwiLi4vaXRlbXMvQ2FuZHkuanNcIjtcclxuaW1wb3J0IHsgT25saW5lQ2FuZHkgfSBmcm9tIFwiLi4vaXRlbXMvT25saW5lQ2FuZHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIGNoYXJhY3Rlck5hbWUsIHNjZW5lLCBjdXJzb3JzLCBncmFiSXRlbUtleSwgaXNMb2NhbCA9IHRydWUpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgYCR7Y2hhcmFjdGVyTmFtZX1fZnJvbnRFc3RgLCBzY2VuZSwgdHJ1ZSk7IC8vRGVmYXVsdCBwbGF5ZXIgYWwgaW5pY2lhclxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDIwMDtcclxuICAgICAgICB0aGlzLmNoYXJhY3Rlck5hbWUgPSBjaGFyYWN0ZXJOYW1lO1xyXG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IGN1cnNvcnM7XHJcblxyXG4gICAgICAgIHRoaXMuZ3JhYkl0ZW1LZXkgPSBncmFiSXRlbUtleTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNMb2NhbCA9IGlzTG9jYWw7XHJcbiAgICAgICAgdGhpcy5oYXNDYW5keSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdyYWJJdGVtSW5wdXRPbiA9IGZhbHNlO1xyXG4gICAgICAgIC8qdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5vbihga2V5ZG93bi0ke3RoaXMuZ3JhYkl0ZW1LZXl9YCwgKCkgPT4gdGhpcy5ncmFiSXRlbUlucHV0T24gPSB0cnVlICk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5vbihga2V5dXAtJHt0aGlzLmdyYWJJdGVtS2V5fWAsICgpID0+IHRoaXMuZ3JhYkl0ZW1JbnB1dE9uID0gZmFsc2UgKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmZhY2luZ1ggPSAwO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nWSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMua25vY2tPdXRUaW1lciA9IDA7XHJcblxyXG4gICAgICAgIC8vIEVzY3VjaGFyIHRlY2xhIGRlIHJlY29nZXJcclxuICAgICAgICBpZiAodGhpcy5ncmFiSXRlbUtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLm9uKGBrZXlkb3duLSR7dGhpcy5ncmFiSXRlbUtleX1gLCAoKSA9PiB0aGlzLmdyYWJJdGVtSW5wdXRPbiA9IHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLm9uKGBrZXl1cC0ke3RoaXMuZ3JhYkl0ZW1LZXl9YCwgKCkgPT4gdGhpcy5ncmFiSXRlbUlucHV0T24gPSBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlbWVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLkl0ZW1JbnB1dHMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZykgdGhpcy5HcmFiSXRlbSh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBNb3ZlbWVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29ycykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnZ4ID0gMDtcclxuICAgICAgICB0aGlzLnZ5ID0gMDtcclxuICAgICAgICBsZXQgbW92aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nWCA9IDA7XHJcbiAgICAgICAgdGhpcy5mYWNpbmdZID0gMDtcclxuXHJcbiAgICAgICAgLy9QYXJhIHF1ZSBzb3BvcnRlIGxhcyBkaWFnb25hbGVzLCBwcmltZXJvIHNlIGRldGVjdGEgbGEgZGlyZWNjacOzblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMubGVmdD8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnggPSAtdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdYID0gLTE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMucmlnaHQ/LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnZ4ID0gdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdYID0gMTsgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cD8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnkgPSAtdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdZID0gLTE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMuZG93bj8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnkgPSB0aGlzLnNwZWVkOyB0aGlzLmZhY2luZ1kgPSAxOyBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3kgbHVlZ28gc2UgZWxpZ2UgbGEgYW5pbWFjacOzbiBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKG1vdmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52eCAhPT0gMCAmJiB0aGlzLnZ5ICE9PSAwKSB7IC8vY29uZGljacOzbiBkZSBsYSBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy52eCA+IDAgPyBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X3JpZ2h0X2FuaW1gIDogYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9sZWZ0X2FuaW1gO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudnggIT09IDApIHsgLy9tdnRvIG5vcm1hbCBpenEvZGNoYVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy52eCA+IDAgPyBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X3JpZ2h0X2FuaW1gIDogYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9sZWZ0X2FuaW1gO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudnkgIT09IDApIHsgLy9tdnRvIG5vcm1hbCBhcnJpYmEvYWJham9cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMudnkgPiAwID8gYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9mcm9udF9hbmltYCA6IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fYmFja19hbmltYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5pbWF0aW9uKSB0aGlzLmdhbWVPYmplY3QuYW5pbXMucGxheShhbmltYXRpb24sIHRydWUpOyAvL1NlIGVqZWN1dGEgbGEgYW5pbWFjacOzbiBzaSBlbCBwZXJzb25hamUgc2UgZXN0w6EgbW92aWVuZG9cclxuICAgICAgICBlbHNlIHRoaXMuZ2FtZU9iamVjdC5zZXRUZXh0dXJlKGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fZnJvbnRFc3RgKTsgLy9zaSBubywgaWRsZVxyXG5cclxuICAgICAgICBpZiAodGhpcy5rbm9ja091dFRpbWVyID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmtub2NrT3V0VGltZXItLVxyXG4gICAgICAgICAgICB0aGlzLnZ4ID0gMFxyXG4gICAgICAgICAgICB0aGlzLnZ5ID0gMFxyXG4gICAgICAgICAgICB0aGlzLmZhY2luZ1ggPSAwXHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nWSA9IDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuTW92ZShcclxuICAgICAgICAgICAgdGhpcy52eCAqIHRoaXMuc2NlbmUuZ2FtZS5sb29wLmRlbHRhIC8gMTAwMCxcclxuICAgICAgICAgICAgdGhpcy52eSAqIHRoaXMuc2NlbmUuZ2FtZS5sb29wLmRlbHRhIC8gMTAwMFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vUGFyYSBxdWUgbm8gc2Ugc2FsZ2EgZGVsIG1hcGFcclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSB0aGlzLmdhbWVPYmplY3QuZGlzcGxheVdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gdGhpcy5nYW1lT2JqZWN0LmRpc3BsYXlIZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy54IDwgaGFsZldpZHRoKSB0aGlzLk1vdmVUbyhoYWxmV2lkdGgsIHRoaXMueSk7XHJcbiAgICAgICAgaWYgKHRoaXMueCA+IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLndpZHRoIC0gaGFsZldpZHRoKSB0aGlzLk1vdmVUbyh0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCAtIGhhbGZXaWR0aCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy55IDwgaGFsZkhlaWdodCkgdGhpcy5Nb3ZlVG8odGhpcy54LCBoYWxmSGVpZ2h0KTtcclxuICAgICAgICBpZiAodGhpcy55ID4gdGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcuaGVpZ2h0IC0gaGFsZkhlaWdodCkgdGhpcy5Nb3ZlVG8odGhpcy54LCB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy5oZWlnaHQgLSBoYWxmSGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBJdGVtSW5wdXRzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmtub2NrT3V0VGltZXIgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdyYWJJdGVtSW5wdXRPbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5ncmFiSXRlbUlucHV0T24pIHtcclxuICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPiAwKSB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duLS07XHJcbiAgICB9XHJcblxyXG4gICAgR3JhYkl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGlmICh0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID4gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyBpbnN0YW5jZW9mIFRocm93YWJsZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZy5UaHJvdyh0aGlzLmZhY2luZ1gsIHRoaXMuZmFjaW5nWSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA9IDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGl0ZW0ucGxheWVyR3JhYmJpbmcgIT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpdGVtLkdyYWJJdGVtKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IGl0ZW07XHJcblxyXG4gICAgICAgIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPSAzO1xyXG5cclxuICAgICAgICAgaWYgKHRoaXMuaXNMb2NhbCAmJiBpdGVtIGluc3RhbmNlb2YgT25saW5lQ2FuZHkpIHtcclxuICAgICAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnNlbmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0NBTkRZX1BJQ0tVUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZHlJZDogaXRlbS5pZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhc0NhbmR5ID0gdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nIGluc3RhbmNlb2YgQ2FuZHkgfHwgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nIGluc3RhbmNlb2YgT25saW5lQ2FuZHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGxhbWFyIGN1YW5kbyBlbCBqdWdhZG9yIHN1amV0YSB1biBjYXJhbWVsb1xyXG4gICAgRGVsaXZlckNhbmR5KCkge1xyXG4gICAgaWYgKCF0aGlzLmhhc0NhbmR5KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY2FuZHkgPSB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmc7XHJcbiAgICBpZiAoIWNhbmR5KSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5oYXNDYW5keSA9IGZhbHNlO1xyXG4gICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuXHJcbiAgICBjYW5keS5SZXNldCgpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTG9jYWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgJ0NBTkRZX0RFTElWRVJFRCBlbnZpYWRvIGFsIHNlcnZlciwgY2FuZHlJZDonLFxyXG4gICAgICAgICAgICBjYW5keS5pZFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUuc2VuZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdDQU5EWV9ERUxJVkVSRUQnLFxyXG4gICAgICAgICAgICBjYW5keUlkOiBjYW5keS5pZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiAgICBLbm9ja091dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5rbm9ja091dFRpbWVyID4gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmtub2NrT3V0VGltZXIgPSAxMDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcuTW92ZVRvKHRoaXMueCwgdGhpcy55KVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcuQ2xlYXJQbGF5ZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5oYXNDYW5keSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL0VudGl0eS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbmR5QmFza2V0IGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHRleHRYLCB0ZXh0WSwgcGxheWVyT3duZXIsIHNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgMC4xNSwgbnVsbCwgc2NlbmUpXHJcblxyXG4gICAgICAgIHRoaXMub3duZXIgPSBwbGF5ZXJPd25lcjtcclxuICAgICAgICB0aGlzLmNhbmRpZXMgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnRleHQgPSBzY2VuZS5hZGQudGV4dCh0ZXh0WCwgdGV4dFksIDAsIHsgZm9udFNpemU6IFwiMzJweFwiLCBjb2xvcjogXCIjZmZmZmZmXCIsIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIiB9KVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllck93bmVyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllck93bmVyLmhhc0NhbmR5KSBwbGF5ZXJPd25lci5EZWxpdmVyQ2FuZHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIENoZWNrRm9yQ2FuZHkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm93bmVyLmhhc0NhbmR5KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMudGV4dC50ZXh0ID0gKyt0aGlzLmNhbmRpZXM7XHJcblxyXG4gICAgICAgIC8vIEVsIGp1Z2Fkb3Igc2FiZSBjw7NtbyBlbnRyZWdhciBlbCBjYW5keVxyXG4gICAgICAgIHRoaXMub3duZXIuRGVsaXZlckNhbmR5KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFJlc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5jYW5kaWVzID0gMDtcclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9IDA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcGVlZFBvd2VyVXAgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsICdzcGVlZF9wb3dlcnVwJywgc2NlbmUsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4gdGhpcy5hcHBseShwbGF5ZXIxKSxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgcGxheWVyMi5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB0aGlzLmFwcGx5KHBsYXllcjIpLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseShwbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBdW1lbnRvIHZlbG9jaWRhZFxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3BlZWQgPSBwbGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgcGxheWVyLnNwZWVkICo9IDEuNTtcclxuXHJcbiAgICAgICAgLy8gRHVyYWNpw7NuIGRlbCBlZmVjdG8gNSBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYXllci5zcGVlZCA9IG9yaWdpbmFsU3BlZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucmVzcGF3bigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3Bhd24oKSB7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oXHJcbiAgICAgICAgICAgIFBoYXNlci5NYXRoLkJldHdlZW4oMjAwLCAxMDAwKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguQmV0d2VlbigyMDAsIDYwMClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy9KVUVHT1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBmbG9vciBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvc3RvbmVfdGlsZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lX2JvdW5kYXJ5IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9nYW1lX2JvdW5kYXJ5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGxlYXZlcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvbGVhdmVzX292ZXJsYXkucG5nJztcclxuXHJcbi8vVElNRVJcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJJbWcgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1RpbWVyMS5wbmcnO1xyXG5cclxuXHJcbi8vSVRFTVNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY2FuZHlTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2NhcmFtZWxvLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4xIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjIgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAyLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4zIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMy5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByb2NrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogcGllZHJhLnBuZyc7XHJcblxyXG4vL0NPTlRST0xFU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sV0FTRCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc1dBU0QucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbElKTEsgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNJSktMLnBuZyc7XHJcblxyXG4vL1BPV0VSIFVQU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBzcGVlZFBvd2VyVXBTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29ial9mb2NvX2RlZi5wbmcnO1xyXG5cclxuLy9QRVJTT05BSkVTXHJcbi8vUGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy9BbmltYWNpb25lc1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FiYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX3JpZ2h0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlCYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9yaWdodC5wbmcnO1xyXG5cclxuLy9TT05JRE9TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVNdXNpYyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL2dhbWVfbXVzaWMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJBbGVydCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL3RpbWVyX2FsZXJ0Lm1wMyc7XHJcblxyXG4vL0NMQVNFU1xyXG5pbXBvcnQgeyBUaW1lckNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBFbnRpdGllc0NvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9FbnRpdGllc0NvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBDYW5keSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL0NhbmR5LmpzJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvcGxheWVyL3BsYXllckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBUaHJvd2FibGVJdGVtIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvVGhyb3dhYmxlSXRlbS5qcyc7XHJcbmltcG9ydCB7IENhbmR5QmFza2V0IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvQ2FuZHlCYXNrZXQuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgU3BlZWRQb3dlclVwIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgLy9HYW1lXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbG9vcicsIGZsb29yKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2dhbWVfYm91bmRhcnknLCBnYW1lX2JvdW5kYXJ5KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xlYXZlcycsIGxlYXZlcyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aW1lckltZycsIHRpbWVySW1nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2dhbWVfbXVzaWMnLCBnYW1lTXVzaWMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndGltZXJfYWxlcnQnLCB0aW1lckFsZXJ0KTtcclxuICAgICAgICAvL0l0ZW1zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5keScsIGNhbmR5U3ByaXRlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4xJywgcHVtcGtpbjEpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjInLCBwdW1wa2luMik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMycsIHB1bXBraW4zKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JvY2snLCByb2NrKTtcclxuICAgICAgICAvL0NvbnRyb2xzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sV0FTRCcsIGNvbnRyb2xXQVNEKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xJSkxLJywgY29udHJvbElKTEspO1xyXG4gICAgICAgIC8vUG93ZXIgVXBzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzcGVlZF9wb3dlcnVwJywgc3BlZWRQb3dlclVwU3ByaXRlKTtcclxuICAgICAgICAvL1BsYXllcnNcclxuICAgICAgICAvL3BhcmEgZWwgaWRsZSAodGVtcG9yYWwpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2YW1waXJlc2FfZnJvbnRFc3QnLCB2YW1waXJlc2FGcm9udEVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd6b21iaV9mcm9udEVzdCcsIHpvbWJpRnJvbnRFc3QpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfZnJvbnQnLCB2YW1waXJlc2FGcm9udCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfYmFjaycsIHZhbXBpcmVzYWJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2xlZnQnLCAgdmFtcGlyZXNhTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfcmlnaHQnLCB2YW1waXJlc2FSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9mcm9udCcsICB6b21iaUZyb250LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2JhY2snLCB6b21iaUJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfbGVmdCcsICB6b21iaUxlZnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfcmlnaHQnLCB6b21iaVJpZ2h0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvL0VzY2VuYXJpb1xyXG4gICAgICAgIGNvbnN0IGZsb29yID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCAxMjAwLCA4MDAsICdmbG9vcicpIFxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKSBcclxuICAgICAgICAuc2V0U2NhbGUoMykgXHJcbiAgICAgICAgLnNldERlcHRoKDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2dhbWVfYm91bmRhcnknKSAvLyAxMjAwLzIgeSA4MDAvMiBwYXJhIHF1ZSBlc3TDqSBlbiBlbCBjZW50cm9cclxuICAgICAgICAuc2V0U2NhbGUoMylcclxuICAgICAgICAuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIC8vIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLCBib3VuZGFyeSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnbGVhdmVzJylcclxuICAgICAgICAuc2V0U2NhbGUoMylcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcblxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdnYW1lX211c2ljJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vQmFzZXMgZGUganVnYWRvcmVzLiBDdWFuZG8gc2UgY29saXNpb25lIGNvbiBlbGxhcyArIHRlbmdhbiBjYXJhbWVsbywgc2UgaGFyw6EgY2FsbGJhY2shXHJcbiAgICAgICAgICAgIC8vIEJhc2UgYXp1bCBpenF1aWVyZGEgLSBQTEFZRVIgMVxyXG4gICAgICAgICAgICAvLyBCYXNlIHJvamEgZGVyZWNoYSAtIFBMQVlFUiAyXHJcbiAgICAgICAgY29uc3QgYmFzZV9TSVpFID0gOTY7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMzM7IC8vb2Zmc2V0IHBvciBlbCBnYW1lYm91bmRhcnksIHBhcmEgcXVlIHNhbGdhIGxhIGJhc2UgZW50ZXJhXHJcblxyXG4gICAgICAgIGNvbnN0IGJsdWVCYXNlID0gdGhpcy5hZGQucmVjdGFuZ2xlKChiYXNlX1NJWkUvMikgKyBvZmZzZXQgLCA0MDAsIGJhc2VfU0laRSwgYmFzZV9TSVpFLCAweDNlM2VhYylcclxuICAgICAgICAuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICBjb25zdCByZWRCYXNlID0gdGhpcy5hZGQucmVjdGFuZ2xlKCgxMjAwIC0gYmFzZV9TSVpFIC8gMikgLSBvZmZzZXQsIDQwMCwgYmFzZV9TSVpFLCBiYXNlX1NJWkUsIDB4QTMwMDAwKVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICAvL1RlbXBvcml6YWRvclxyXG4gICAgICAgIGNvbnN0IHRpbWVySW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDk1LCAndGltZXJJbWcnKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OSlcclxuICAgICAgICAuc2V0U2NhbGUoNilcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcbiAgICAgICAgbGV0IHRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsIFwiNDVcIiwge2ZvbnRTaXplOiBcIjQ4cHhcIixjb2xvcjogXCIjZmZmZmZmXCJ9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41LCAwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvdW50ZG93biA9IG5ldyBUaW1lckNvbnRyb2xsZXIodGhpcywgdGltZXJUZXh0KTtcclxuICAgICAgICB0aGlzLnJvdW5kID0gMTtcclxuICAgICAgICB0aGlzLnN0YXJ0Um91bmQoNDUwMDApO1xyXG5cclxuICAgICAgICAvL0FjY2VkZXIgYSBlc2NlbmEgZGUgUGF1c2EgYWwgcHVsc2FyIEVTQ1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICBDb250cm9sYWRvciBkZSBlbnRpZGFkZXMsIGxpc3RhIGRlIGVudGlkYWRlcyBxdWUgYWN0dWFsaXphIGVuICd1cGRhdGUnXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIgPSBuZXcgRW50aXRpZXNDb250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgIC8vUGxheWVyc1xyXG4gICAgICAgIC8vQW5pbWFjaW9uZXNcclxuICAgICAgICAvL1ZhbXBpcmVzYVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAndmFtcGlyZXNhX2Zyb250X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9mcm9udCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LCAvL1ZlbG9jaWRhZCBhbmltYWNpw7NuXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTEgLy9TZSByZXBpdGUgZW4gYnVjbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9iYWNrX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9iYWNrJywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9sZWZ0X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9sZWZ0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9yaWdodF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfcmlnaHQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1pvbWJpZVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfZnJvbnRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfZnJvbnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfYmFja19hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd6b21iaV9iYWNrJywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2xlZnRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfbGVmdCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd6b21iaV9yaWdodF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd6b21iaV9yaWdodCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5rZXlzMSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IC8vUDFcclxuICAgICAgICAgICAgdXA6ICdXJyxcclxuICAgICAgICAgICAgZG93bjogJ1MnLFxyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5rZXlzMiA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IC8vUDJcclxuICAgICAgICAgICAgdXA6ICdJJyxcclxuICAgICAgICAgICAgZG93bjogJ0snLFxyXG4gICAgICAgICAgICBsZWZ0OiAnSicsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnTCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGNvbnRyb2xlcyBhbCBpbmljaW9cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkxPSB0aGlzLmFkZC5pbWFnZSgxODAsIDIwLCAnY29udHJvbFdBU0QnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jb250cm9sc1VJMSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzVUkxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNVSTI9IHRoaXMuYWRkLmltYWdlKDgzMCwgMjAsICdjb250cm9sSUpMSycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAuc2V0U2NhbGUoMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNvbnRyb2xzVUkyLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNVSTIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG5cclxuICAgICAgICAvL0luc3RhbmNpYXIganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gbmV3IFBsYXllcigxMDAsIDQwMCwgMC40LCAnem9tYmknLCB0aGlzLCB0aGlzLmtleXMxLCAnRScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IG5ldyBQbGF5ZXIoMTEwMCwgNDAwLCAwLjQsICd2YW1waXJlc2EnLCB0aGlzLCB0aGlzLmtleXMyLCAnTycpO1xyXG5cclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5wbGF5ZXIxKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5wbGF5ZXIyKTtcclxuXHJcbiAgICAgICAgLy8gIENhbmR5XHJcbiAgICAgICAgdGhpcy5jYW5keSA9IG5ldyBDYW5keSgwLjIsICdjYW5keScsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2FuZHkuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5jYW5keSk7XHJcblxyXG4gICAgICAgIC8vICBUaHJvd2FibGUgSXRlbXNcclxuICAgICAgICB0aGlzLml0ZW0xID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjEnLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTEuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtMSk7XHJcbiAgICAgICAgdGhpcy5pdGVtMiA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4yJywgdGhpcylcclxuICAgICAgICB0aGlzLml0ZW0yLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuaXRlbTIpO1xyXG4gICAgICAgIHRoaXMuaXRlbTMgPSBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtMy5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW0zKTtcclxuICAgICAgICB0aGlzLml0ZW00ID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtNC5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW00KTtcclxuICAgICAgICB0aGlzLml0ZW01ID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtNS5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW01KTtcclxuXHJcbiAgICAgICAgLy8gIEJhc2tldHNcclxuICAgICAgICB0aGlzLmJhc2tldDEgPSBuZXcgQ2FuZHlCYXNrZXQoNjAsIDQwMCwgNzAsIDMxMCwgdGhpcy5wbGF5ZXIxLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIgPSBuZXcgQ2FuZHlCYXNrZXQoMTIwMCAtIDYwLCA0MDAsIDEyMDAgLSA5MCwgMzEwLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcjFTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg0NDcsIDgwLCBcIjBcIiwge2ZvbnRTaXplOiBcIjQ4cHhcIixjb2xvcjogXCIjZmZmZmZmXCJ9KVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG4gICAgICAgIHRoaXMucGxheWVyMlNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDcyMywgODAsIFwiMFwiLCB7Zm9udFNpemU6IFwiNDhweFwiLGNvbG9yOiBcIiNmZmZmZmZcIn0pXHJcbiAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG5cclxuICAgICAgICAvLyBQb3dlciBVcFxyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbmV3IFNwZWVkUG93ZXJVcCg2MDAsIDQwMCwgMC4zLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcC5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24udXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuVXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRSb3VuZChzZWNvbmRzKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY291bnRkb3duLnN0YXJ0KHNlY29uZHMsICgpID0+IHRoaXMuZW5kUm91bmQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kUm91bmQoKXtcclxuICAgICAgICB0aGlzLnJvdW5kKys7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuYmFza2V0MS5jYW5kaWVzID4gdGhpcy5iYXNrZXQyLmNhbmRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0LnRleHQgPSBgJHsrK3RoaXMucGxheWVyMVNjb3JlfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5iYXNrZXQxLmNhbmRpZXMgPCB0aGlzLmJhc2tldDIuY2FuZGllcykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQudGV4dCA9IGAkeysrdGhpcy5wbGF5ZXIyU2NvcmV9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYmFza2V0MS5SZXN0YXJ0KCk7XHJcbiAgICAgICAgdGhpcy5iYXNrZXQyLlJlc3RhcnQoKTtcclxuXHJcbiAgICAgICAgLy8gU2kgZXMgbGEgw7psdGltYSByb25kYSwgbW9zdHJhciBHYW1lT3ZlclxyXG4gICAgICAgIGlmICh0aGlzLnJvdW5kID4gNCkge1xyXG4gICAgICAgICAgICBjb25zdCBtc2dHYW1lT3ZlciA9IHRoaXMuYWRkLnRleHQoNjAwLCAzNTAsIGBGSU4gREUgTEEgUEFSVElEQWAsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjQ4cHhcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmYwMDAwZmZcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIixcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgd2lubmVyVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcjFTY29yZSA+IHRoaXMucGxheWVyMlNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXJUZXh0ID0gXCLCoUdhbmEgSnVnYWRvciAxIVwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyMlNjb3JlID4gdGhpcy5wbGF5ZXIxU2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhR2FuYSBKdWdhZG9yIDIhXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXJUZXh0ID0gXCLCoUVtcGF0ZSFcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbXNnV2lubmVyID0gdGhpcy5hZGQudGV4dCg2MDAsIDQ1MCwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMzZweFwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIixcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbXNnR2FtZU92ZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgbXNnV2lubmVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJNYWluTWVudVwiKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtc2dSb3VuZCA9IHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsIGBSb25kYSAke3RoaXMucm91bmQgLSAxfSB0ZXJtaW5hZGFgLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjQ4cHhcIixcclxuICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1zZ1JvdW5kLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RHVyYXRpb24gPSBNYXRoLm1heCgwLCA0NTAwMCAtICgxNTAwMCAqICh0aGlzLnJvdW5kIC0gMSkpKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFJvdW5kKG5ld0R1cmF0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuLy9pbXBvcnRhciBpbWFnZW5lc1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBtZW51UGF1c2UgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvUGF1c2VCYWNrZ3JvdW5kLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGJ1dHRvbkJhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vL2ltcG9ydGFyIGNsYXNlcyBCdXR0b25cclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGJ1dHRvblNvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc2Z4L0J1dHRvblByZXNzLm1wMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtZW51UGF1c2UnLCBtZW51UGF1c2UpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2J1dHRvbkJhY2tncm91bmQnLCBidXR0b25CYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2J1dHRvbl9zb3VuZCcsIGJ1dHRvblNvdW5kKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBGb25kbyBncmlzXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDQwMCwgMTIwMCwgODAwLCAweDAwMDAwMCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gY2VudHJhZG9cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnbWVudVBhdXNlJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgLy8gQWp1c3RhciBsYSBpbWFnZW5cclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwOyAgIC8vIGFuY2hvIGRlbCBjYW52YXNcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwOyAgLy8gYWx0byBkZWwgY2FudmFzIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIFwiUmVhbnVkYXJcIlxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCAzMDAsIHRoaXMsICdidXR0b25CYWNrZ3JvdW5kJywgJ1JlYW51ZGFyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoJ0dhbWVTY2VuZScpOyAvLyBSZWFudWRhciBsYSBlc2NlbmEgZGVsIGp1ZWdvXHJcbiAgICAgICAgfSwgeyBmb250U2l6ZTogJzIzcHgnIH0pO1xyXG4gICAgICAgICBcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBuZXcgQnV0dG9uKDYwMCwgNDI1LCB0aGlzLCAnYnV0dG9uQmFja2dyb3VuZCcsICdNZW7DuicsICgpID0+IHtcclxuICAgICAgICAgICAgLy9BdWRpb01hbmFnZXIuUGxheSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lU2NlbmUnKTsgLy8gRGV0ZW5lciBsYSBlc2NlbmEgZGVsIGp1ZWdvXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7IC8vIElyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAvL0JvdMOzbiBkZSBcIkFqdXN0ZXNcIlxyXG4gICAgICAgIGNvbnN0IGNvbmZpZ0J1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCA1NTAsIHRoaXMsICdidXR0b25CYWNrZ3JvdW5kJywgJ0FqdXN0ZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vQXVkaW9NYW5hZ2VyLlBsYXkodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc01lbnUnLCB7IGZyb206ICdQYXVzZVNjZW5lJyB9KTsgLy8gQWJyaXIgbGEgZXNjZW5hIGRlIGNvbmZpZ3VyYWNpw7NuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYnJpbmdUb1RvcCgnU2V0dGluZ3NNZW51Jyk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpOyAvLyBQYXVzYXIgbGEgZXNjZW5hIGRlIHBhdXNhXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZVRocm93YWJsZUl0ZW0gZXh0ZW5kcyBJdGVtIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpY2nDs24gWCBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWSBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZSBcclxuICAgICAqIEBwYXJhbSB7UGhhc2VyLlNjZW5lfSBzY2VuZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIMO6bmljbyBkZWwgY2FyYW1lbG8gZW52aWFkbyBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIGlkKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcbiAgICAgICAgLy8gTm8gc3Bhd24sIG5vIHNwYXduVGltZSwgbmFkYSBkZSByYW5kb21cclxuICAgIH1cclxuXHJcbiAgICBPbkNvbGxlY3RlZCgpIHtcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oLTY0LCAtNjQpOyAvLyBvY3VsdGFybG8gbWllbnRyYXMgbGxlZ2EgbGEgbnVldmEgcG9zaWNpw7NuXHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLndzICYmIHRoaXMuc2NlbmUud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdSRVFVRVNUX0NBTkRZX1JFU1BBV04nLFxyXG4gICAgICAgICAgICAgICAgY2FuZHlJZDogdGhpcy5pZFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwT3ZlcmxhcChwbGF5ZXIxLCBwbGF5ZXIyLCBzY2VuZSkge1xyXG4gICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgcGxheWVyMS5nYW1lT2JqZWN0LFxyXG4gICAgICAgICgpID0+IHRoaXMub25QbGF5ZXJPdmVybGFwKHBsYXllcjEpXHJcbiAgICApO1xyXG5cclxuICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgIHBsYXllcjIuZ2FtZU9iamVjdCxcclxuICAgICAgICAoKSA9PiB0aGlzLm9uUGxheWVyT3ZlcmxhcChwbGF5ZXIyKVxyXG4gICAgKTtcclxufVxyXG5cclxub25QbGF5ZXJPdmVybGFwKHBsYXllcikge1xyXG4gICAgaWYgKCFwbGF5ZXIuaXNMb2NhbCkgcmV0dXJuO1xyXG4gICAgcGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSB0aGlzO1xyXG5cclxuICAgIC8vIEF1dG8tcmVjb2dlciBzaSBxdWllcmVzIHF1ZSBubyBoYXlhIHRlY2xhXHJcbiAgICBpZiAocGxheWVyLmdyYWJJdGVtSW5wdXRPbikge1xyXG4gICAgICAgIHBsYXllci5HcmFiSXRlbSh0aGlzKTtcclxuICAgIH1cclxufVxyXG5cclxuICAgIFxyXG4gICAgUmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgIC8vIG5vIG1vdmVyIGEgLTY0LCAtNjRcclxuICAgICAgICAvLyBubyBzcGF3blRpbWVcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy9KVUVHT1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBmbG9vciBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvc3RvbmVfdGlsZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lX2JvdW5kYXJ5IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9nYW1lX2JvdW5kYXJ5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGxlYXZlcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvbGVhdmVzX292ZXJsYXkucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZGVzY29uZWN0aW9uU2NyZWVuSW1nIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0Rpc2NvbmVjdGlvbi5qcGcnO1xyXG5cclxuLy9JVEVNU1xyXG5pbXBvcnQgY2FuZHlTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2NhcmFtZWxvLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4xIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjIgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAyLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4zIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMy5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByb2NrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogcGllZHJhLnBuZyc7XHJcblxyXG4vL0NPTlRST0xFUy9CT1RPTkVTXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xXQVNEIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzV0FTRC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sSUpMSyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc0lKS0wucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcblxyXG4vL1BPV0VSIFVQU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBzcGVlZFBvd2VyVXBTcHJpdGUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29ial9mb2NvX2RlZi5wbmcnO1xyXG5cclxuLy9QRVJTT05BSkVTXHJcbi8vUGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuLy9BbmltYWNpb25lc1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FiYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX3JpZ2h0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlCYWNrIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2JhY2sucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9yaWdodC5wbmcnO1xyXG5cclxuLy9TT05JRE9TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVNdXNpYyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL2dhbWVfbXVzaWMubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJBbGVydCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL3RpbWVyX2FsZXJ0Lm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNGWF9CdXR0b25QcmVzcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG5cclxuLy9DTEFTRVNcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvcGxheWVyL3BsYXllckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgRW50aXRpZXNDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvRW50aXRpZXNDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgQ2FuZHkgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9DYW5keS5qcyc7XHJcbmltcG9ydCB7IFRocm93YWJsZUl0ZW0gfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzJztcclxuaW1wb3J0IHsgQ2FuZHlCYXNrZXQgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9DYW5keUJhc2tldC5qcyc7XHJcbmltcG9ydCB7IFNwZWVkUG93ZXJVcCB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL1NwZWVkUG93ZXJVcC5qcyc7XHJcbmltcG9ydCB7IE9ubGluZUNhbmR5IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvT25saW5lQ2FuZHkuanMnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBPbmxpbmVUaHJvd2FibGVJdGVtIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvT25saW5lVGhyb3dhYmxlSXRlbS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ011bHRpcGxheWVyR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7ICAgICAgICAgICAgICAgICAvLyBXZWJTb2NrZXRcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyB8ICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmNhbmR5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLml0ZW0gPSBudWxsO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL0dhbWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zsb29yJywgZmxvb3IpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ2FtZV9ib3VuZGFyeScsIGdhbWVfYm91bmRhcnkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGVhdmVzJywgbGVhdmVzKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2dhbWVfbXVzaWMnLCBnYW1lTXVzaWMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndGltZXJfYWxlcnQnLCB0aW1lckFsZXJ0KTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1NGWF9CdXR0b25QcmVzcycsIFNGWF9CdXR0b25QcmVzcyk7XHJcbiAgICAgICAgLy9JdGVtc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuZHknLCBjYW5keVNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMScsIHB1bXBraW4xKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4yJywgcHVtcGtpbjIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjMnLCBwdW1wa2luMyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyb2NrJywgcm9jayk7XHJcbiAgICAgICAgLy9Db250cm9scyB5IEJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xXQVNEJywgY29udHJvbFdBU0QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbElKTEsnLCBjb250cm9sSUpMSyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgLy9Qb3dlciBVcHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NwZWVkX3Bvd2VydXAnLCBzcGVlZFBvd2VyVXBTcHJpdGUpO1xyXG4gICAgICAgIC8vUGxheWVyc1xyXG4gICAgICAgIC8vcGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZhbXBpcmVzYV9mcm9udEVzdCcsIHZhbXBpcmVzYUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3pvbWJpX2Zyb250RXN0Jywgem9tYmlGcm9udEVzdCk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9mcm9udCcsIHZhbXBpcmVzYUZyb250LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9iYWNrJywgdmFtcGlyZXNhYmFjaywgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfbGVmdCcsIHZhbXBpcmVzYUxlZnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX3JpZ2h0JywgdmFtcGlyZXNhUmlnaHQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfZnJvbnQnLCB6b21iaUZyb250LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2JhY2snLCB6b21iaUJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfbGVmdCcsIHpvbWJpTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9yaWdodCcsIHpvbWJpUmlnaHQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG5cclxuICAgICAgICAvL0Rlc2NvbmVjdGlvbiBpbWFnZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGlzY29uZWN0aW9uU2NyZWVuJywgZGVzY29uZWN0aW9uU2NyZWVuSW1nKTtcclxuXHJcbiAgICAgICAgLy9DYXJnYXIgZnVlbnRlXHJcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZSgnQnV0dG9uc0ZvbnQnLCAndXJsKGZvbnRzL2FsYWdhcmRfZm9udC50dGYpJyk7XHJcbiAgICAgICAgZm9udC5sb2FkKCkudGhlbigobG9hZGVkRm9udCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRm9udCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEVzY2VuYXJpbyBpZ3VhbCBxdWUgR2FtZVNjZW5lXHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCAxMjAwLCA4MDAsICdmbG9vcicpLnNldE9yaWdpbigwLCAwKS5zZXRTY2FsZSgzKTtcclxuICAgICAgICBjb25zdCBib3VuZGFyeSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdnYW1lX2JvdW5kYXJ5Jykuc2V0U2NhbGUoMykuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnbGVhdmVzJykuc2V0U2NhbGUoMykuc2V0QWxwaGEoMC43NSk7XHJcblxyXG4gICAgICAgIC8vIEF1ZGlvXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdnYW1lX211c2ljJywgeyB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSwgbG9vcDogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGFkb3Jlc1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyID0gbmV3IEVudGl0aWVzQ29udHJvbGxlcigpO1xyXG5cclxuICAgICAgICAvLyBJbnN0YW5jaWFyIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMua2V5czEgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyB1cDogJ1cnLCBkb3duOiAnUycsIGxlZnQ6ICdBJywgcmlnaHQ6ICdEJyB9KTtcclxuICAgICAgICB0aGlzLmtleXMyID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHsgdXA6ICdJJywgZG93bjogJ0snLCBsZWZ0OiAnSicsIHJpZ2h0OiAnTCcgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG5ldyBQbGF5ZXIoMTAwLCA0MDAsIDAuNCwgJ3pvbWJpJywgdGhpcywgdGhpcy5rZXlzMSwgJ0UnLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBuZXcgUGxheWVyKDExMDAsIDQwMCwgMC40LCAndmFtcGlyZXNhJywgdGhpcywgbnVsbCwgbnVsbCwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjInKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gbmV3IFBsYXllcigxMTAwLCA0MDAsIDAuNCwgJ3ZhbXBpcmVzYScsIHRoaXMsIHRoaXMua2V5czIsICdPJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbmV3IFBsYXllcigxMDAsIDQwMCwgMC40LCAnem9tYmknLCB0aGlzLCBudWxsLCBudWxsLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMubG9jYWxQbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnJlbW90ZVBsYXllcik7XHJcblxyXG4gICAgICAgIC8vIEl0ZW1zLCBjYW5keSBiYXNrZXRzLCBwb3dlci11cHNcclxuICAgICAgICAvKiB0aGlzLmNhbmR5ID0gbmV3IENhbmR5KDAuMiwgJ2NhbmR5JywgdGhpcyk7XHJcbiAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmNhbmR5KTsqL1xyXG5cclxuICAgICAgICAvLyBBZ3JlZ2FyIHRocm93YWJsZSBpdGVtc1xyXG4gICAgICAgIC8qIHRoaXMuaXRlbXMgPSBbXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4xJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4yJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4zJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKSxcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkoaXRlbSkpO1xyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uc2V0dXBPdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKSk7Ki9cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxID0gbmV3IENhbmR5QmFza2V0KDYwLCA0MDAsIDcwLCAzMTAsIHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0MiA9IG5ldyBDYW5keUJhc2tldCgxMjAwIC0gNjAsIDQwMCwgMTIwMCAtIDkwLCAzMTAsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAgPSBuZXcgU3BlZWRQb3dlclVwKDYwMCwgNDAwLCAwLjMsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuc2V0dXBPdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKTtcclxuXHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBJTlBVVCBMT0NBTFxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFdFQlNPQ0tFVFxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0KCk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBxdWUgZXN0YW1vcyBsaXN0b3NcclxuICAgICAgICB0aGlzLnNlbmQoeyB0eXBlOiAnUExBWUVSX1JFQURZJyB9KTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5pbkxvYmJ5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBXZWJTb2NrZXQoKSB7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUVuZGVkKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnU1RBUlRfR0FNRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NUQVJUX0dBTUUgcmVjaWJpZG8nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdQTEFZRVJfTU9WRUQnOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbG8gbW92ZXIgYWwganVnYWRvciBSRU1PVE9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wbGF5ZXIgIT09IHRoaXMucGxheWVyUm9sZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuTW92ZVRvKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ0FORFlfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDQU5EWV9TUEFXTiByZWNpYmlkbycsIGRhdGEuY2FuZHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5keSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5ID0gbmV3IE9ubGluZUNhbmR5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbmR5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhbmR5LmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmNhbmR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuZHkuTW92ZVRvKGRhdGEuY2FuZHkueCwgZGF0YS5jYW5keS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnSVRFTV9TUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0lURU1fU1BBV04gcmVjaWJpZG8nLCBkYXRhLml0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbSA9IG5ldyBPbmxpbmVUaHJvd2FibGVJdGVtKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW0ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyb2NrJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW0uaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5Nb3ZlVG8oZGF0YS5pdGVtLngsIGRhdGEuaXRlbS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRUpFQ1VUQU5ETyBIQU5ETEUgRElTQ09OTkVDVCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0VsIG90cm8ganVnYWRvciBzZSBoYSBkZXNjb25lY3RhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCAnVm9sdmVyIGFsIG1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5zaG93RGlzY29ubmVjdFNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dEaXNjb25uZWN0U2NyZWVuKCkge1xyXG4gICAgICAgIC8vIE1vc3RyYXIgaW1hZ2VuIGRlIGRlc2NvbmV4acOzblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdkaXNjb25lY3Rpb25TY3JlZW4nKTtcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oODgwLCA2MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgJ01lbsO6JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmQobXNnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZVN0YXJ0ZWQgfHwgdGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gYWwgc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgdHlwZTogJ1BMQVlFUl9NT1ZFJyxcclxuICAgICAgICAgICAgcGxheWVyOiB0aGlzLnBsYXllclJvbGUsXHJcbiAgICAgICAgICAgIHg6IHRoaXMubG9jYWxQbGF5ZXIueCxcclxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBsYXllci55XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgdG9kbyBsbyBkZW3DoXNcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5VcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHJlYXNvbikge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSByZWFzb24gPT09ICdkaXNjb25uZWN0JyA/ICdKdWdhZG9yIGRlc2NvbmVjdGFkbycgOiAnRmluIGRlIGxhIHBhcnRpZGEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsIHRleHQsIHsgZm9udFNpemU6ICc0OHB4JywgY29sb3I6ICcjZmZmZmZmJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cykgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIsIHsgR2FtZSB9IGZyb20gJ3BoYXNlcic7XHJcblxyXG5pbXBvcnQgeyBMb2dpblNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1haW5NZW51IH0gZnJvbSAnLi9zY2VuZXMvTWFpbk1lbnUuanMnO1xyXG5pbXBvcnQgeyBQbGF5TW9kZU1lbnUgfSBmcm9tICcuL3NjZW5lcy9QbGF5TW9kZU1lbnUuanMnO1xyXG5pbXBvcnQgeyBUdXRvcmlhbE1lbnUgfSBmcm9tICcuL3NjZW5lcy9UdXRvcmlhbE1lbnUuanMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nc01lbnUgfSBmcm9tICcuL3NjZW5lcy9TZXR0aW5nc01lbnUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzTWVudSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNNZW51LmpzJztcclxuaW1wb3J0IHsgTG9iYnkgfSBmcm9tICcuL3NjZW5lcy9Mb2JieS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBfQ09ORklHID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogMTIwMCxcclxuICAgIGhlaWdodDogODAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzY2VuZTogW0xvZ2luU2NlbmUsIE1haW5NZW51LCBQbGF5TW9kZU1lbnUsIFR1dG9yaWFsTWVudSwgU2V0dGluZ3NNZW51LCBDcmVkaXRzTWVudSwgTG9iYnksIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgXHJcbiAgICBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBpeGVsQXJ0OiB0cnVlLFxyXG4gICAgZG9tOiB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IF9HQU1FID0gbmV3IFBoYXNlci5HYW1lKF9DT05GSUcpO1xyXG4vLyBBc2VndXJhciBxdWUgY29taWVuemEgZW4gbG9naW5cclxuX0dBTUUuc2NlbmUuc3RhcnQoJ0xvZ2luU2NlbmUnKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlBoYXNlciIsIkF1ZGlvTWFuYWdlciIsInZvbHVtZSIsIlNldFZvbHVtZSIsInYiLCJHZXRWb2x1bWUiLCJQbGF5IiwiYXVkaW8iLCJzY2VuZSIsInNvdW5kIiwicGxheSIsIkJ1dHRvbiIsImNvbnN0cnVjdG9yIiwieCIsInkiLCJ0ZXh0dXJlIiwidGV4dCIsImNhbGxiYWNrIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsImltYWdlIiwiYWRkIiwic2V0T3JpZ2luIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0U2NhbGUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNldFRpbnQiLCJzZXRDb2xvciIsImNsZWFyVGludCIsInNldFRleHQiLCJuZXdUZXh0Iiwic2V0UG9zaXRpb24iLCJkZXN0cm95IiwiTG9naW5TY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJGb250RmFjZSIsInRoZW4iLCJsb2FkZWRGb250IiwiZm9udHMiLCJjcmVhdGUiLCJjb25zb2xlIiwibG9nIiwiYmciLCJkaXNwbGF5V2lkdGgiLCJkaXNwbGF5SGVpZ2h0Iiwic3RvcEFsbCIsIm11c2ljIiwibG9vcCIsInVzZXJuYW1lIiwiZm9jdXNlZCIsInJlY3RhbmdsZSIsImlucHV0QmciLCJzZXRTdHJva2VTdHlsZSIsImlucHV0VGV4dCIsImxpbmUiLCJ0aW1lIiwiYWRkRXZlbnQiLCJkZWxheSIsInZpc2libGUiLCJpbnB1dCIsIm1hbmFnZXIiLCJjYW52YXMiLCJjdXJzb3IiLCJwb2ludGVyIiwib2JqZWN0cyIsImluY2x1ZGVzIiwia2V5Ym9hcmQiLCJldmVudCIsImtleSIsInNsaWNlIiwidHJpbSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzIiwianNvbiIsInVzZXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiaWQiLCJTdGFydE1lbnUiLCJ1c2VySWQiLCJnZXRJdGVtIiwib2siLCJjYXRjaCIsInJlbW92ZUl0ZW0iLCJjYW1lcmFzIiwibWFpbiIsImZhZGVPdXQiLCJvbmNlIiwiU2NlbmUyRCIsIkV2ZW50cyIsIkZBREVfT1VUX0NPTVBMRVRFIiwic3RhcnQiLCJNYWluTWVudSIsIlN0YXJ0UGxheSIsIlN0YXJ0VHV0b3JpYWwiLCJTdGFydFNldHRpbmdzIiwiU3RhcnRDcmVkaXRzIiwiU3RhcnRMb2NhbEdhbWUiLCJzaG93Q3VycmVudFVzZXIiLCJmYWRlSW4iLCJ3YXJuIiwiUGxheU1vZGVNZW51IiwiR29CYWNrIiwiaW5pdCIsImRhdGEiLCJzb2NrZXQiLCJyb29tSWQiLCJUdXRvcmlhbE1lbnUiLCJwbGF5ZXIxSWNvbiIsInBsYXllcjJJY29uIiwiY29udHJvbHNVSTEiLCJzZXREZXB0aCIsImNvbnRyb2xzVUkyIiwiU2V0dGluZ3NNZW51IiwiYmFyV2lkdGgiLCJ2b2x1bWVCYXIiLCJjdXJyZW50Vm9sdW1lIiwidm9sdW1lSW5kaWNhdG9yIiwiYmFyWCIsImhhbmRsZSIsImNpcmNsZSIsImRyYWdnYWJsZSIsInNldERyYWdnYWJsZSIsImRyYWdYIiwiZHJhZ1kiLCJzZXRWb2x1bWUiLCJsb2NhbFgiLCJDbGFtcCIsIm9wZW5lZEZyb20iLCJzdG9wIiwicmVzdW1lIiwiSW5pdCIsImZyb20iLCJDcmVkaXRzTWVudSIsInNldEJhY2tncm91bmRDb2xvciIsImxvZ29JbWciLCJzZXRBbHBoYSIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJkZWxheWVkQ2FsbCIsIlNob3dDcmVkaXRzTWVudSIsImNyZWRpdHNHcnVwbyIsImZvckVhY2giLCJuYW1lIiwiaW5kZXgiLCJhbGlnbiIsIkxvYmJ5Iiwic3RhcnRCdXR0b24iLCJ3cyIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwic2VuZCIsInR5cGUiLCJzdGF0ZVRleHQiLCJMZWF2ZSIsInBsYXllcjFOYW1lIiwicGxheWVyMk5hbWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJMZWF2ZVF1ZXVlIiwid3NVcmwiLCJob3N0IiwiaW5Mb2JieSIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInBhcnNlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsImVycm9yIiwib25lcnJvciIsIm9uY2xvc2UiLCJpc0FjdGl2ZSIsInBsYXllcjFVc2VybmFtZSIsInBsYXllcjJVc2VybmFtZSIsImVuZW15SWQiLCJyb2xlIiwicGxheWVyUm9sZSIsImNsb3NlIiwiVGltZXJDb250cm9sbGVyIiwiY3ljbGVzIiwibWF4Q3ljbGVzIiwiYWxlcnRQbGF5ZWQiLCJ0aW1lckV2ZW50IiwidW5kZWZpbmVkIiwidXBkYXRlIiwiZWxhcHNlZCIsImdldEVsYXBzZWQiLCJyZW1haW5pbmciLCJzZWNvbmRzIiwiTWF0aCIsIm1heCIsInRvRml4ZWQiLCJFbnRpdGllc0NvbnRyb2xsZXIiLCJlbnRpdGllcyIsIkFkZEVudGl0eSIsImVudGl0eSIsInB1c2giLCJVcGRhdGUiLCJlbGVtZW50IiwiRW50aXR5Iiwic2NhbGUiLCJzcHJpdGUiLCJ1c2VTcHJpdGUiLCJnYW1lT2JqZWN0IiwicGh5c2ljcyIsIk1vdmVUbyIsIlVwZGF0ZUJvZHlDb29yZHMiLCJNb3ZlIiwiSXRlbSIsInBsYXllckdyYWJiaW5nIiwic2V0dXBPdmVybGFwIiwicGxheWVyMSIsInBsYXllcjIiLCJvdmVybGFwIiwiR3JhYkl0ZW0iLCJwbGF5ZXIiLCJjdXJyZW50SXRlbUdyYWJiaW5nIiwiQ2xlYXJQbGF5ZXIiLCJDYW5keSIsIlJlc2V0IiwiaGFzU3Bhd25lZCIsInNwYXduVGltZSIsIkJldHdlZW4iLCJUaHJvd2FibGVJdGVtIiwidGhyb3dTcGVlZFgiLCJ0aHJvd1NwZWVkWSIsImlzVGhyb3duIiwidGhyb3dPd25lciIsIktub2NrT3V0IiwiVGhyb3ciLCJ4RGlyIiwieURpciIsIlRocm93TW92ZW1lbnQiLCJhYnMiLCJzaWduIiwiT25saW5lQ2FuZHkiLCJPbkNvbGxlY3RlZCIsImNhbmR5SWQiLCJvblBsYXllck92ZXJsYXAiLCJpc0xvY2FsIiwiZ3JhYkl0ZW1JbnB1dE9uIiwiUGxheWVyIiwiY2hhcmFjdGVyTmFtZSIsImN1cnNvcnMiLCJncmFiSXRlbUtleSIsInNwZWVkIiwiaGFzQ2FuZHkiLCJoYXNJbnRlcmFjdGVkV2l0aEl0ZW1zIiwiaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiIsIml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duIiwiZmFjaW5nWCIsImZhY2luZ1kiLCJrbm9ja091dFRpbWVyIiwiTW92ZW1lbnQiLCJJdGVtSW5wdXRzIiwidngiLCJ2eSIsIm1vdmluZyIsImxlZnQiLCJpc0Rvd24iLCJyaWdodCIsInVwIiwiZG93biIsImFuaW1hdGlvbiIsImFuaW1zIiwic2V0VGV4dHVyZSIsImdhbWUiLCJkZWx0YSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJzeXMiLCJjb25maWciLCJpdGVtIiwiRGVsaXZlckNhbmR5IiwiY2FuZHkiLCJDYW5keUJhc2tldCIsInRleHRYIiwidGV4dFkiLCJwbGF5ZXJPd25lciIsIm93bmVyIiwiY2FuZGllcyIsImJhY2tncm91bmRDb2xvciIsIkNoZWNrRm9yQ2FuZHkiLCJSZXN0YXJ0IiwiU3BlZWRQb3dlclVwIiwiYWN0aXZlIiwiYXBwbHkiLCJzZXRWaXNpYmxlIiwiZW5hYmxlIiwib3JpZ2luYWxTcGVlZCIsInJlc3Bhd24iLCJHYW1lU2NlbmUiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsInRpbGVTcHJpdGUiLCJzZXRJbW1vdmFibGUiLCJ0aW1lclRleHQiLCJjb3VudGRvd24iLCJyb3VuZCIsInN0YXJ0Um91bmQiLCJwYXVzZSIsImxhdW5jaCIsImVudGl0aWVzQ29udHJvbGxlciIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmVwZWF0Iiwia2V5czEiLCJhZGRLZXlzIiwia2V5czIiLCJpdGVtMSIsIml0ZW0yIiwiaXRlbTMiLCJpdGVtNCIsIml0ZW01IiwiYmFza2V0MSIsImJhc2tldDIiLCJwbGF5ZXIxU2NvcmUiLCJwbGF5ZXIxU2NvcmVUZXh0IiwicGxheWVyMlNjb3JlIiwicGxheWVyMlNjb3JlVGV4dCIsInNwZWVkUG93ZXJVcCIsImVuZFJvdW5kIiwibXNnR2FtZU92ZXIiLCJmb250U3R5bGUiLCJ3aW5uZXJUZXh0IiwibXNnV2lubmVyIiwibXNnUm91bmQiLCJuZXdEdXJhdGlvbiIsIlBhdXNlU2NlbmUiLCJicmluZ1RvVG9wIiwiT25saW5lVGhyb3dhYmxlSXRlbSIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwiZ2FtZVN0YXJ0ZWQiLCJnYW1lRW5kZWQiLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsInNldHVwV2ViU29ja2V0IiwiZW5kR2FtZSIsIndpbm5lciIsImhhbmRsZURpc2Nvbm5lY3QiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImNyZWF0ZU1lbnVCdXR0b24iLCJzaG93RGlzY29ubmVjdFNjcmVlbiIsIm1zZyIsInJlYXNvbiIsInNodXRkb3duIiwiX0NPTkZJRyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJwaXhlbEFydCIsImRvbSIsImNyZWF0ZUNvbnRhaW5lciJdLCJzb3VyY2VSb290IjoiIn0=