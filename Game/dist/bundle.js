(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=i[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=Phaser,s={volume:.1,SetVolume(e){this.volume=e},GetVolume(){return this.volume},Play(e,t){t.sound.play(e,{volume:this.volume})}};class i{constructor(e,t,i,a,n,o,r={}){this.scene=i,this.style={fontFamily:"ButtonsFont",fontSize:"29px",color:"#ffffff",...r},this.image=i.add.image(0,0,a),this.text=i.add.text(0,0,n,this.style).setOrigin(.5),this.container=i.add.container(e,t,[this.image,this.text]),this.container.setSize(this.image.width,this.image.height),this.container.setScale(1.5),this.container.setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.image.setTint(16776960),this.text.setColor("#ffffdd"),this.text.setScale(1.2)}).on("pointerout",()=>{this.image.clearTint(),this.text.setColor("#ffffffff"),this.text.setScale(1)}).on("pointerdown",()=>{s.Play("SFX_ButtonPress",this.scene),o()})}setText(e){this.text.setText(e)}setPosition(e,t){this.container.setPosition(e,t)}destroy(){this.container.destroy()}}const a=e.p+"b407307dacd2d4ad4c5d.jpg",n=e.p+"aef8fe9cfb896b6ec2b8.png",o=e.p+"public/assets/music_sounds/ButtonPress.mp3",r=e.p+"public/assets/music_sounds/MainMenu.mp3";class h extends t.Scene{constructor(){super("LoginScene")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",o),this.load.audio("MUSIC_MainMenu",r),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){console.log("LOGIN SCENE CREATE");const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play();let t="",a=!1;this.add.rectangle(600,450,500,350,0,.6).setOrigin(.5);const n=this.add.rectangle(600,420,420,50,16777215).setStrokeStyle(2,0).setInteractive({useHandCursor:!0}),o=this.add.text(402,420,"",{fontFamily:"ButtonsFont",fontSize:"28px",color:"#000000"}).setOrigin(0,.5),r=this.add.rectangle(o.x+2,420,2,30,0);this.time.addEvent({delay:500,loop:!0,callback:()=>{r.visible=a}}),n.on("pointerdown",()=>{a=!0,this.input.manager.canvas.style.cursor="text"}),this.input.on("pointerdown",(e,t)=>{t.includes(n)||(a=!1,this.input.manager.canvas.style.cursor="default")}),this.input.keyboard.on("keydown",e=>{a&&("Backspace"===e.key?t=t.slice(0,-1):1===e.key.length&&t.length<12&&(t+=e.key),o.setText(t),r.x=o.x+o.width+4)}),new i(600,540,this,"SPR_Button","Login",()=>{t.trim()&&fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})}).then(e=>e.json()).then(e=>{localStorage.setItem("userId",e.id),this.StartMenu()})});const h=localStorage.getItem("userId");h&&fetch(`/api/users/${h}`).then(e=>{if(!e.ok)throw new Error;this.StartMenu()}).catch(()=>{localStorage.removeItem("userId")}),this.add.text(600,330,"Introduce tu nombre",{fontFamily:"ButtonsFont",fontSize:"32px",color:"#ffffff"}).setOrigin(.5)}StartMenu(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}class d extends t.Scene{constructor(){super("MainMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",o),this.load.audio("MUSIC_MainMenu",r),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(600,350,this,"SPR_Button","Online",()=>this.StartPlay()),new i(300,700,this,"SPR_Button","Tutorial",()=>this.StartTutorial(),{fontSize:"25px"}),new i(600,700,this,"SPR_Button","Ajustes",()=>this.StartSettings()),new i(900,700,this,"SPR_Button","CrÃ©ditos",()=>this.StartCredits(),{fontSize:"25px"}),new i(600,500,this,"SPR_Button","Local",()=>this.StartLocalGame()),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.showCurrentUser(),this.cameras.main.fadeIn(100,0,0,0)}showCurrentUser(){const e=localStorage.getItem("userId");e&&fetch(`/api/users/${e}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(e=>{this.add.text(1170,30,`${e.username}`,{fontFamily:"ButtonsFont",fontSize:"40px",color:"#ffffff"}).setOrigin(1,0)}).catch(()=>{console.warn("No se pudo cargar el usuario")})}StartPlay(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("Lobby"))}StartTutorial(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("TutorialMenu"))}StartSettings(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("SettingsMenu"))}StartCredits(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("CreditsMenu"))}StartLocalGame(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("GameScene"))}}class c extends t.Scene{constructor(){super("PlayModeMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n)}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(420,400,this,"SPR_Button","Crear Partida",null),new i(780,400,this,"SPR_Button","Unirse a Partida",null),new i(600,550,this,"SPR_Button","Local",null),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}init(e){this.socket=e.socket,this.roomId=e.roomId}}const l=e.p+"9a928a9771ed5cc44933.png",m=e.p+"847e97fd19535fdc4879.png",p=e.p+"2ef0c778cd3a032c2a24.png",u=e.p+"04f18ed3df26adbfcd22.png",g=e.p+"2e7e3e24e916d2095b86.png";class y extends t.Scene{constructor(){super("TutorialMenu")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Button",n),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p),this.load.image("controlWASD",u),this.load.image("controlIJLK",g)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.player1Icon=this.add.image(350,450,"SPR_Zombie"),this.player2Icon=this.add.image(850,450,"SPR_Vampire"),this.controlsUI1=this.add.image(190,100,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.35),this.controlsUI2=this.add.image(700,100,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.35),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}const f=e.p+"7a873f3ca0b32de0935a.jpg",b=e.p+"public/assets/music_sounds/Settings.mp3";class S extends t.Scene{constructor(){super("SettingsMenu")}preload(){this.load.image("IMG_SettingsBackground",f),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Settings",b)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Settings",{volume:s.GetVolume(),loop:!0}),this.music.play();const e=this.add.image(600,400,"IMG_SettingsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0),this.add.text(600,365,"Volumen",{fontSize:"32px",color:"#2c2a2aff"}).setOrigin(.5);const a=300,n=this.add.rectangle(600,400,a,20,8947848);let o=s.GetVolume();this.sound.volume=o;const r=this.add.rectangle(450+o*a/2,400,o*a,20,2236962),h=this.add.circle(450+o*a,400,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(h),h.on("drag",(e,t,i)=>{t<450&&(t=450),t>750&&(t=750),h.x=t,o=(h.x-450)/a,s.SetVolume(o),this.sound.setVolume(o),r.width=o*a}),n.setInteractive(),n.on("pointerdown",e=>{const i=e.x-450;o=t.Math.Clamp(i/a,0,1),s.SetVolume(o),this.sound.setVolume(o),h.x=450+o*a,r.width=o*a})}GoBack(){"MainMenu"===this.openedFrom?(this.scene.stop(),this.scene.stop("PauseScene"),this.scene.start("MainMenu")):"PauseScene"===this.openedFrom&&(this.scene.stop(),this.sound.stopAll(),this.scene.resume("PauseScene"),this.sound.volume=s.GetVolume(),this.music=this.sound.add("MUSIC_Game",{volume:s.GetVolume(),loop:!0}),this.music.play()),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}Init(e){this.openedFrom=e?.from||"MainMenu"}}const w=e.p+"d1d9fdf9592522a9b114.jpg",v=e.p+"public/assets/music_sounds/Credits.mp3",O=e.p+"9a98b2a4689f990db35a.png";class x extends t.Scene{constructor(){super("CreditsMenu")}preload(){this.load.image("IMG_Logo",O),this.load.image("IMG_CreditsBackground",w),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Credits",v)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Credits",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.cameras.main.setBackgroundColor("#000000");const e=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"IMG_Logo").setOrigin(.5).setAlpha(0).setScale(.3);this.tweens.add({targets:e,alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(1e3,()=>{this.tweens.add({targets:e,alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{e.destroy(),this.ShowCreditsMenu()}})})}})}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}ShowCreditsMenu(){const e=this.add.image(600,400,"IMG_CreditsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800;const t=["Grupo 13 - Juegos en Red","Marta de Miguel Tapia","Ãngel Younes Karim MÃ©rida","Sara Mesa Pacheco","Claudia Morago Amigo","Iris MuÃ±oz Montero",""];t.forEach((e,t)=>{this.add.text(600,250+50*t,e,{fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5)}),["public/assets de sprites GameScene: 13th CandyWeb","public/assets pantallas: Canva","MÃºsica y efectos de sonido: FreeSound"].forEach((e,s)=>{this.add.text(600,250+50*(t.length+s)+85,e,{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5)}),this.cameras.main.fadeIn(300,0,0,0),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack())}}class _ extends t.Scene{constructor(){super("Lobby")}preload(){this.load.image("IMG_DefaultBackground",l),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.startButton=new i(600,600,this,"SPR_Button","Comenzar",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"PLAYER_READY"})),this.startButton.setPosition(-128,-128),this.stateText.setText("Esperando que el rival estÃ© listo..."),this.stateText.setColor("#ffff00"))}),this.startButton.setPosition(-128,-128),new i(600,750,this,"SPR_Button","Salir",()=>this.Leave()),this.player1Icon=this.add.image(300,300,"SPR_Vampire"),this.player1Name=this.add.text(300,120,"...",{fontSize:"32px"}).setOrigin(.5),this.player2Icon=this.add.image(900,300,"SPR_Zombie"),this.player2Name=this.add.text(900,120,"...",{fontSize:"32px"}).setOrigin(.5),this.stateText=this.add.text(600,500,"...",{fontSize:"32px"}).setOrigin(.5),this.cameras.main.fadeIn(100,0,0,0),this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.socket=null,this.connectToServer()}Leave(){this.LeaveQueue(),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.inLobby=!0,this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.ws.send(JSON.stringify({type:"JOIN_QUEUE",userId:localStorage.getItem("userId")}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{this.startButton.setPosition(-128,-128),console.error("WebSocket error:",e),this.stateText.setText("# Error de conexiÃ³n #"),this.stateText.setColor("#ff0000")},this.ws.onclose=()=>{this.startButton.setPosition(-128,-128),console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.stateText.setText("# ConexiÃ³n perdida #"),this.stateText.setColor("#ff0000"))}}catch(e){this.startButton.setPosition(-128,-128),console.error("Error connecting to server:",e),this.stateText.setText("# Fallo al conectar #"),this.stateText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"playerNotConnected":case"playerDisconnected":this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.player1Name.setText("..."),this.player2Name.setText("..."),this.socket=null,this.connectToServer();break;case"gameStart":this.stateText.setText("Â¡Rival encontrado!"),this.stateText.setColor("#00ff00"),this.startButton.setPosition(600,600);let t="TÃš",s="TÃš";fetch(`/api/users/${e.enemyId}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(i=>{"player1"==e.role?s=i.username:t=i.username,this.player1Name.setText(t),this.player2Name.setText(s)}).catch(()=>{console.warn("No se pudo cargar el usuario")});break;case"START_GAME":console.log("Game starting in room:",e.roomId),this.ws.onmessage=null,this.ws.onmessage=null,this.scene.stop("Lobby"),this.scene.start("MultiplayerGameScene",{ws:this.ws,roomId:e.roomId,playerRole:e.role});break;default:console.log("Unknown server message type:",e.type)}}LeaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}}const C=e.p+"d2c5034eb163da60aae4.png",P=e.p+"18cea01896ee5b01dac0.png",I=e.p+"1af89219a86c804731e9.png",E=e.p+"f0ee1e507522759db3b1.png",k=e.p+"1d41e789bd411830a21b.png",M=e.p+"8bb21662fefcc91026f4.png",T=e.p+"d51231f872d559f02ffb.png",R=e.p+"3e80967c975244f1509f.png",G=e.p+"7e444efb12890a6ed135.png",D=e.p+"4168b3b402b4c13e4c18.png",U=e.p+"28f70a4c08d8e6333b6c.png",A=e.p+"af7b5953f41ea57f384a.png",B=e.p+"0479f4f4f8c30fd26251.png",W=e.p+"ebd6a23e5e37fa692b09.png",N=e.p+"d484fd76bdace8d888b9.png",j=e.p+"34c5b1ce05d87422cc6d.png",L=e.p+"4da35e924f108de8f5d6.png",z=e.p+"038266542e54b8bb2c08.png",F=e.p+"7ccd325b7a47867c37c5.png",V=e.p+"10678e2a3e49ff51abf9.png",H=e.p+"public/assets/music_sounds/game_music.mp3",J=e.p+"public/assets/music_sounds/timer_alert.mp3";class Y{constructor(e,t){this.scene=e,this.text=t,this.remainingTime=100,this.canCountDown=!0,this.cycles=0,this.maxCycles=3}disableCountdown(){this.canCountDown=!1,this.stop()}set(e){this.remainingTime=e}setNotCooldownEvent(e){this.notCooldownEvent=e}start(e,t){this.stop(),this.canCountDown&&(this.duration=e,this.alertPlayed=!1,this.timerEvent=this.scene.time.addEvent({delay:e,loop:!1,callback:()=>{t()}}))}stop(){this.timerEvent&&(this.timerEvent.destroy(),this.timerEvent=void 0)}update(){if(this.canCountDown&&(!this.timerEvent||this.duration<=0))return;if(this.canCountDown){const e=this.timerEvent.getElapsed();this.remainingTime=this.duration-e}const e=Math.max(0,this.remainingTime/1e3);this.text.text=`${e.toFixed(2)}`,e<=5&&!this.alertPlayed&&(this.scene.sound.add("timer_alert").play({volume:4*s.GetVolume()}),this.alertPlayed=!0),e<=0&&this.notCooldownEvent&&(this.notCooldownEvent(),this.notCooldownEvent=null)}}class K{constructor(){this.entities=[]}AddEntity(e){this.entities.push(e)}Update(){this.entities.forEach(e=>{e.Update()})}}class ${constructor(e,t,s,i,a,n=!1){this.x=e,this.y=t,this.sprite=i,this.scene=a,this.gameObject=n?a.physics.add.sprite(e,t,i):a.physics.add.image(e,t,i),this.gameObject.setScale(s),this.gameObject.body.setCollideWorldBounds(!0),this.gameObject.body.setSize(.8*this.gameObject.width,.8*this.gameObject.height),this.gameObject.body.setOffset(.1*this.gameObject.width,.1*this.gameObject.height)}MoveTo(e,t){this.x=e,this.y=t,this.UpdateBodyCoords()}Move(e,t){this.x+=e,this.y+=t,this.UpdateBodyCoords()}UpdateBodyCoords(){this.gameObject.x=this.x,this.gameObject.y=this.y}Update(){}}class X extends ${constructor(e,t,s,i,a){super(e,t,s,i,a),this.playerGrabbing=null}setupOverlap(e,t,s){s.physics.add.overlap(e.gameObject,this.gameObject,()=>{e.GrabItem(this)}),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{t.GrabItem(this)})}GrabItem(e){console.log("ðŸ§ª GrabItem llamado con:",X),null!=e&&null==this.playerGrabbing&&null==e.currentItemGrabbing&&(this.playerGrabbing=e)}ClearPlayer(){this.playerGrabbing=null}Update(){null!=this.playerGrabbing&&this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y-60)}}class Q extends X{constructor(e,t,s){super(-64,-64,e,t,s),this.Reset()}Update(){super.Update(),this.hasSpawned||(this.spawnTime--,this.spawnTime<0&&(this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.hasSpawned=!0))}Reset(){this.MoveTo(-64,-64),this.spawnTime=Phaser.Math.Between(60,240),this.hasSpawned=!1,this.ClearPlayer()}}class Z extends X{constructor(e,t,s){super(-128,-128,e,t,s),this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.throwSpeedX=0,this.throwSpeedY=0,this.isThrown=!1,this.throwOwner=null}setupOverlap(e,t,s){super.setupOverlap(e,t,s),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==e&&e.KnockOut()}),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==t&&t.KnockOut()})}Throw(e,t){null!=this.playerGrabbing&&(this.throwSpeedX=30*(e>0?1:0==e?0:-1),this.throwSpeedY=30*(t>0?1:0==t?0:-1),this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y),this.isThrown=!0,this.throwOwner=this.playerGrabbing,this.ClearPlayer())}Update(){super.Update(),this.ThrowMovement()}ThrowMovement(){if(Math.abs(this.throwSpeedX)<1&&Math.abs(this.throwSpeedY)<1)return this.throwOwner=null,void(this.isThrown=!1);this.Move(this.throwSpeedX*=.9,this.throwSpeedY*=.9),(this.x<50||this.x>1150)&&(this.throwSpeedX*=-1,this.Move(5*Math.sign(this.throwSpeedX),0)),(this.y<50||this.y>750)&&(this.throwSpeedY*=-1,this.Move(0,5*Math.sign(this.throwSpeedY)))}}class q extends X{constructor(e,t,s,i,a,n){super(e,t,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}Reset(){this.ClearPlayer()}}class ee extends ${constructor(e,t,s,i,a,n,o,r=!0){super(e,t,s,`${i}_frontEst`,a,!0),this.scene=a,this.speed=200,this.characterName=i,this.cursors=n,this.grabItemKey=o,this.currentItemGrabbing=null,this.isLocal=r,this.hasCandy=!1,this.hasInteractedWithItems=!1,this.hasUpdatedItemInteraction=!1,this.grabItemInputOn=!1,this.itemInteractionCooldown=0,this.facingX=0,this.facingY=0,this.knockOutTimer=0,this.grabItemKey&&(this.grabKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes[o]))}Update(){this.isLocal&&(this.Movement(),this.ItemInputs(),this.CheckPickup())}Movement(){if(!this.cursors)return;this.vx=0,this.vy=0;let e=!1;this.facingX=0,this.facingY=0,this.cursors.left?.isDown&&(this.vx=-this.speed,this.facingX=-1,e=!0),this.cursors.right?.isDown&&(this.vx=this.speed,this.facingX=1,e=!0),this.cursors.up?.isDown&&(this.vy=-this.speed,this.facingY=-1,e=!0),this.cursors.down?.isDown&&(this.vy=this.speed,this.facingY=1,e=!0);let t=null;e&&(0!==this.vx&&0!==this.vy||0!==this.vx?t=this.vx>0?`${this.characterName}_right_anim`:`${this.characterName}_left_anim`:0!==this.vy&&(t=this.vy>0?`${this.characterName}_front_anim`:`${this.characterName}_back_anim`)),t?this.gameObject.anims.play(t,!0):this.gameObject.setTexture(`${this.characterName}_frontEst`),this.knockOutTimer>0&&(this.knockOutTimer--,this.vx=0,this.vy=0,this.facingX=0,this.facingY=0),this.Move(this.vx*this.scene.game.loop.delta/1e3,this.vy*this.scene.game.loop.delta/1e3);const s=this.gameObject.displayWidth/2,i=this.gameObject.displayHeight/2;this.x<s&&this.MoveTo(s,this.y),this.x>this.scene.sys.game.config.width-s&&this.MoveTo(this.scene.sys.game.config.width-s,this.y),this.y<i&&this.MoveTo(this.x,i),this.y>this.scene.sys.game.config.height-i&&this.MoveTo(this.x,this.scene.sys.game.config.height-i)}ItemInputs(){if(this.knockOutTimer>0)return this.hasUpdatedItemInteraction=!1,void(this.hasInteractedWithItems=!1);this.hasUpdatedItemInteraction?this.hasInteractedWithItems=!1:this.grabItemInputOn&&(this.hasInteractedWithItems=!0,this.hasUpdatedItemInteraction=!0),this.grabItemInputOn||(this.hasUpdatedItemInteraction=!1,this.hasInteractedWithItems=!1),this.itemInteractionCooldown>0&&this.itemInteractionCooldown--}GrabItem(e){if(!(this.itemInteractionCooldown>0))return e instanceof q||e instanceof Q?(this.currentItemGrabbing=e,this.hasCandy=!0,void(this.itemInteractionCooldown=10)):void 0}CheckPickup(){if(!this.grabKey||!this.grabKey.isDown)return;if(this.currentItemGrabbing)return;const e=this.scene.entitiesController.entities;for(let t of e){if(!(t instanceof Q||t instanceof q))continue;if(!t.hasSpawned)continue;const e=Math.abs(this.x-t.x),s=Math.abs(this.y-t.y),i=50;if(e<i&&s<i){this.currentItemGrabbing=t,this.hasCandy=!0,t instanceof q&&(t.OnCollected(),this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"POINT",candyId:t.id})));break}}}DeliverCandy(){if(!this.hasCandy)return;const e=this.currentItemGrabbing;e&&(this.hasCandy=!1,this.currentItemGrabbing=null,e.Reset(),this.isLocal&&(console.log("CANDY_DELIVERED enviado al server, candyId:",e.id),this.scene.send({type:"CANDY_DELIVERED",candyId:e.id})))}KnockOut(){this.knockOutTimer>0||(this.knockOutTimer=100,null!=this.currentItemGrabbing&&(this.currentItemGrabbing.MoveTo(this.x,this.y),this.currentItemGrabbing.ClearPlayer(),this.currentItemGrabbing=null,this.hasCandy=!1))}}class te extends ${constructor(e,t,s,i,a,n){super(e,t,.15,null,n),this.owner=a,this.candies=0,this.text=n.add.text(s,i,0,{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000a7"}),this.gameObject.visible=!1,n.physics.add.overlap(a.gameObject,this.gameObject,()=>{a.hasCandy&&a.DeliverCandy()})}CheckForCandy(){this.owner.hasCandy&&(this.text.text=++this.candies,this.owner.hasCandy=!1,this.owner.currentItemGrabbing&&(this.owner.currentItemGrabbing.Reset(),this.owner.currentItemGrabbing=null),this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"CANDY_DELIVERED",player:this.owner===this.scene.localPlayer?"player1":"player2"})))}Restart(){this.candies=0,this.text.text=0}}class se extends ${constructor(e,t,s,i){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.active=!0}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.apply(e),null,this),s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.apply(t),null,this)}apply(e){if(!this.active)return;this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1;const t=e.speed;e.speed*=1.5,this.scene.time.delayedCall(5e3,()=>{e.speed=t,this.respawn()})}respawn(){this.MoveTo(Phaser.Math.Between(200,1e3),Phaser.Math.Between(200,600)),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0}}class ie extends t.Scene{constructor(){super("GameScene")}preload(){this.load.image("floor",C),this.load.image("game_boundary",P),this.load.image("leaves",I),this.load.image("blueBase",E),this.load.image("redBase",k),this.load.audio("game_music",H),this.load.image("timerImg",M),this.load.audio("timer_alert",J),this.load.image("candy",T),this.load.image("pumpkin1",R),this.load.image("pumpkin2",G),this.load.image("pumpkin3",D),this.load.image("rock",U),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("speed_powerup",A),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3).setDepth(0),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.add.image(81,400,"blueBase").setScale(3),this.add.image(1120.5,400,"redBase").setScale(3),this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75);let e=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100);this.countdown=new Y(this,e),this.round=1,this.startRound(45e3),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.scene.launch("PauseScene")}),this.entitiesController=new K,this.anims.create({key:"vampiresa_front_anim",frames:this.anims.generateFrameNumbers("vampiresa_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_back_anim",frames:this.anims.generateFrameNumbers("vampiresa_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_left_anim",frames:this.anims.generateFrameNumbers("vampiresa_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_right_anim",frames:this.anims.generateFrameNumbers("vampiresa_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_front_anim",frames:this.anims.generateFrameNumbers("zombi_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_back_anim",frames:this.anims.generateFrameNumbers("zombi_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_left_anim",frames:this.anims.generateFrameNumbers("zombi_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_right_anim",frames:this.anims.generateFrameNumbers("zombi_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),this.controlsUI1=this.add.image(180,20,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI1,alpha:0,duration:500,onComplete:()=>{this.controlsUI1.destroy()}})}),this.controlsUI2=this.add.image(830,20,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI2,alpha:0,duration:500,onComplete:()=>{this.controlsUI2.destroy()}})}),this.player1=new ee(100,400,.4,"zombi",this,this.keys1,"E"),this.player2=new ee(1100,400,.4,"vampiresa",this,this.keys2,"O"),this.entitiesController.AddEntity(this.player1),this.entitiesController.AddEntity(this.player2),this.candy=new Q(.2,"candy",this),this.candy.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.candy),this.item1=new Z(.3,"pumpkin1",this),this.item1.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item1),this.item2=new Z(.3,"pumpkin2",this),this.item2.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item2),this.item3=new Z(.3,"pumpkin3",this),this.item3.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item3),this.item4=new Z(.3,"rock",this),this.item4.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item4),this.item5=new Z(.3,"rock",this),this.item5.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item5),this.basket1=new te(81,400,70,310,this.player1,this),this.basket2=new te(1120.5,400,1110,310,this.player2,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.speedPowerUp=new se(600,400,.3,this),this.speedPowerUp.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.speedPowerUp)}update(){this.countdown.update(),this.entitiesController.Update()}startRound(e){this.countdown.start(e,()=>this.endRound())}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){const e=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let t="";t=this.player1Score>this.player2Score?"Â¡Gana Jugador 1!":this.player2Score>this.player1Score?"Â¡Gana Jugador 2!":"Â¡Empate!";const s=this.add.text(600,450,t,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return void this.time.delayedCall(3e3,()=>{e.destroy(),s.destroy(),this.scene.start("MainMenu")})}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}}const ae=e.p+"13e3bfed51399d5225e1.png";class ne extends t.Scene{constructor(){super("PauseScene")}preload(){this.load.image("menuPause",ae),this.load.image("buttonBackground",n),this.load.audio("button_sound",o)}create(){this.add.rectangle(600,400,1200,800,0,.5);const e=this.add.image(600,400,"menuPause").setOrigin(.5);e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),new i(600,300,this,"buttonBackground","Reanudar",()=>{this.scene.stop(),this.scene.resume("GameScene")},{fontSize:"23px"}),new i(600,425,this,"buttonBackground","MenÃº",()=>{this.scene.stop("GameScene"),this.scene.start("MainMenu")}),new i(600,550,this,"buttonBackground","Ajustes",()=>{this.scene.launch("SettingsMenu",{from:"PauseScene"}),this.scene.bringToTop("SettingsMenu")})}}const oe=e.p+"11b55ffb7a52e8ee03ac.jpg";class re extends ${constructor(e,t,s,i,a){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.id=a,this.active=!0,this.gameObject.body.setAllowGravity(!1),this.gameObject.body.setSize(this.gameObject.width*s,this.gameObject.height*s),this.gameObject.body.setOffset((this.gameObject.width-this.gameObject.body.width)/2,(this.gameObject.height-this.gameObject.body.height)/2),this.gameObject.body.setEnable(!0),this.gameObject.setVisible(!0)}setupOverlap(e,t){t.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onCollected(),null,this)}onCollected(){this.active&&(this.active=!1,this.scene.send({type:"POWERUP_COLLECTED",powerUpId:this.id}))}deactivate(){this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1}activate(e,t){this.MoveTo(e,t),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0,this.gameObject.body.updateFromGameObject()}}class he extends t.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.hasCandy=!1,this.currentItemGrabbing=null,this.gameStarted=!1,this.gameEnded=!1,this.candy=null,this.item=null,this.speedPowerUp=null}preload(){this.load.image("floor",C),this.load.image("game_boundary",P),this.load.image("leaves",I),this.load.image("blueBase",E),this.load.image("redBase",k),this.load.image("timerImg",M),this.load.audio("game_music",H),this.load.audio("SFX_ButtonPress",o),this.load.audio("timer_alert",J),this.load.image("timerImg",M),this.load.image("candy",T),this.load.image("pumpkin1",R),this.load.image("pumpkin2",G),this.load.image("pumpkin3",D),this.load.image("rock",U),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("SPR_Button",n),this.load.image("speed_powerup",A),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256}),this.load.image("disconectionScreen",oe),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){localStorage.getItem("userId"),this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.add.image(81,400,"blueBase").setScale(3),this.add.image(1120.5,400,"redBase").setScale(3),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.entitiesController=new K,this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),"player1"===this.playerRole?(this.localPlayer=new ee(100,400,.4,"zombi",this,this.keys1,"E",!0),this.remotePlayer=new ee(1100,400,.4,"vampiresa",this,null,null,!1)):"player2"===this.playerRole&&(this.localPlayer=new ee(1100,400,.4,"vampiresa",this,this.keys2,"O",!0),this.remotePlayer=new ee(100,400,.4,"zombi",this,null,null,!1)),this.entitiesController.AddEntity(this.localPlayer),this.entitiesController.AddEntity(this.remotePlayer),this.basket1=new te(1120.5,400,70,310,this.localPlayer,this),this.basket2=new te(81,400,1110,310,this.remotePlayer,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.basket1=new te(60,400,70,310,this.localPlayer,this),this.basket2=new te(1140,400,1110,310,this.remotePlayer,this),this.timerImage=this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75),this.timerText=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100),this.countdown=new Y(this,this.timerText),"player1"!==this.playerRole&&this.countdown.disableCountdown(),this.round=1,this.startRound(45e3),this.setupWebSocket(),this.send({type:"PLAYER_READY"}),this.ws.inLobby=!1,this.ws.send(JSON.stringify({type:"GAME_SCENE_READY"})),this.gameStarted=!0}setupWebSocket(){console.log("MultiplayerGameScene: handler activado"),this.ws.onmessage=e=>{if(this.gameEnded)return;const t=JSON.parse(e.data);switch(t.type){case"START_GAME":console.log("START_GAME recibido"),this.gameStarted=!0;break;case"UPDATE_TIMER":t.owner!==this.playerRole&&this.countdown.set(t.timeLeft);break;case"PLAYER_MOVED":t.player!==this.playerRole&&this.remotePlayer.MoveTo(t.x,t.y);break;case"CANDY_SPAWN":console.log("CANDY_SPAWN recibido",t.candy),this.candy?(this.candy.MoveTo(t.candy.x,t.candy.y),this.candy.hasSpawned=!0):(this.candy=new q(t.candy.x,t.candy.y,.2,"candy",this,t.candy.id),this.entitiesController.AddEntity(this.candy));break;case"ITEM_SPAWN":console.log(`ITEM_SPAWN recibido â†’ ID: ${t.item.id}, x: ${t.item.x}, y: ${t.item.y}`),this.items||(this.items=[]);let e=this.items.find(e=>e.id===t.item.id);if(e)e.MoveTo(t.item.x,t.item.y),e.hasSpawned=!0;else{const e=new OnlineThrowableItem(t.item.x,t.item.y,.3,t.item.sprite,this,t.item.id);this.entitiesController.AddEntity(e),e.setupOverlap(this.localPlayer,this.remotePlayer,this),this.items.push(e)}break;case"POWERUP_SPAWN":console.log("Recibido POWERUP_SPAWN:",t.powerUp),this.speedPowerUp?(this.speedPowerUp.id=t.powerUp.id,this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y)):(this.speedPowerUp=new re(t.powerUp.x,t.powerUp.y,.3,this,t.powerUp.id),this.entitiesController.AddEntity(this.speedPowerUp),this.speedPowerUp.setupOverlap(this.localPlayer,this));break;case"POWERUP_DESPAWN":if(console.log("Recibido POWERUP_DESPAWN:",t.powerUpId),this.speedPowerUp?.id===t.powerUpId&&this.speedPowerUp.deactivate(),t.player===this.playerRole){const e=this.localPlayer.speed;this.localPlayer.speed*=1.5,this.time.delayedCall(5e3,()=>{this.localPlayer.speed=e})}break;case"POWERUP_RESPAWN":this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y);break;case"gameOver":this.endGame(t.winner);break;case"playerDisconnected":this.handleDisconnect()}}}setupWebSocketListeners(){this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnect()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnect()}}handleDisconnect(){console.error("EJECUTANDO HANDLE DISCONNECT"),this.gameEnded=!0,this.gameStarted=!1,this.add.text(400,250,"El otro jugador se ha desconectado",{fontSize:"48px",color:"#ff0000ff"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){this.add.text(600,400,"Volver al menÃº",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MainMenu")}),this.gameEnded=!0,this.gameStarted=!1,this.physics.pause(),this.showDisconnectScreen()}showDisconnectScreen(){this.timerImage.destroy(),this.timerText.destroy(),this.player1ScoreText.destroy(),this.player2ScoreText.destroy();const e=this.add.image(600,400,"disconectionScreen").setOrigin(.5);e.displayWidth=1200,e.displayHeight=800,new i(880,600,this,"SPR_Button","MenÃº",()=>{this.scene.start("MainMenu")})}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){console.log("UPDATE ejecutÃ¡ndose"),this.gameStarted&&!this.gameEnded&&(this.localPlayer.Update(),this.send({type:"PLAYER_MOVE",player:this.playerRole,x:this.localPlayer.x,y:this.localPlayer.y}),this.localPlayer.hasCandy&&this.localPlayer.currentItemGrabbing&&this.localPlayer.currentItemGrabbing.MoveTo(this.localPlayer.x,this.localPlayer.y),this.remotePlayer.hasCandy&&this.remotePlayer.currentItemGrabbing&&this.remotePlayer.currentItemGrabbing.MoveTo(this.remotePlayer.x,this.remotePlayer.y),this.countdown.canCountDown&&this.send({type:"UPDATE_TIME",owner:this.playerRole,timeLeft:this.countdown.remainingTime}),this.countdown.update(),this.entitiesController.Update())}shutdown(){this.ws&&this.ws.close()}startRound(e){this.countdown.canCountDown?this.countdown.start(e,()=>this.endRound()):this.countdown.setNotCooldownEvent(()=>this.endRound())}endGame(e){const t="disconnect"===e?"Jugador desconectado":"Fin de la partida";this.add.text(600,400,t,{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.time.delayedCall(3e3,()=>this.scene.start("MenuScene"))}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){let e=null;const t=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let s="";this.player1Score>this.player2Score?(s="Â¡Gana Jugador 1!",e="player1"):this.player2Score>this.player1Score?(s="Â¡Gana Jugador 2!",e="player2"):(s="Â¡Empate!",e="empate");const i=this.add.text(600,450,s,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return this.time.delayedCall(3e3,()=>{t.destroy(),i.destroy(),this.scene.start("MainMenu")}),void("empate"!==e&&e!==this.playerRole||this.addWinToCurrentUser())}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}addWinToCurrentUser(){const e=localStorage.getItem("userId");e&&fetch(`/api/users/${e}/win`,{method:"PUT"}).then(e=>e.json()).then(e=>{console.log("ðŸ† Win aÃ±adido:",e.wins)}).catch(e=>{console.error("Error al aÃ±adir win",e)})}}const de={type:t.AUTO,width:1200,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[h,d,c,y,S,x,_,ie,ne,he],backgroundColor:"#000000",pixelArt:!0,dom:{createContainer:!0}};new t.Game(de).scene.start("LoginScene")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEIsQ0FFQSxtQkFBQWtDLEdBRUksTUFBTWhULEVBQVNKLGFBQWFLLFFBQVEsVUFFL0JELEdBRURiLE1BQU0sY0FBY2EsUUFBYyxDQUM5QlosT0FBUSxRQUVYcEMsS0FBS3lDLEdBQU9BLEVBQUlDLFFBQ2hCMUMsS0FBSzJDLElBQ0Z2QyxRQUFRQyxJQUFJLGtCQUFtQnNDLEVBQUtzVCxRQUV2QzlTLE1BQU0rUyxJQUNIOVYsUUFBUXdJLE1BQU0sc0JBQXVCc04sSUFFakQsRUNwbUJKLE1BQU1DLEdBQVUsQ0FDWnJPLEtBQU0sT0FDTmhKLE1BQU8sS0FDUEMsT0FBUSxJQUNScVgsT0FBUSxpQkFDUi9LLFFBQVMsQ0FDTGdMLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUV2WSxFQUFHLEVBQUdDLEVBQUcsR0FDcEJ1WSxPQUFPLElBSWY3WSxNQUFPLENBQUNnQyxFQUFZa0UsRUFBVVMsRUFBY00sRUFBY00sRUFBY29CLEVBQWFpQixFQUFPaUssR0FBV3VDLEdBQ3ZHVSxJQUNBNUQsZ0JBQWlCLFVBQ2pCNEYsVUFBVSxFQUNWQyxJQUFLLENBQ0RDLGlCQUFpQixJQUlYLElBQUksT0FBWVIsSUFFeEJ4WSxNQUFNaUcsTUFBTSxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC91aS9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvZ2luU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL01haW5NZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9QbGF5TW9kZU1lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1R1dG9yaWFsTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvU2V0dGluZ3NNZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9iYnkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9FbnRpdGllc0NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb3JlL0VudGl0eS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL0l0ZW0uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9DYW5keS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVDYW5keS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL3BsYXllci9wbGF5ZXJDb250cm9sbGVyLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvY29udHJvbGxlcnMvQ2FuZHlCYXNrZXQuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9TcGVlZFBvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL09ubGluZVNwZWVkUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdTQ1JJUFQnKVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAoIXNjcmlwdFVybCB8fCAhL15odHRwKHM/KTovLnRlc3Qoc2NyaXB0VXJsKSkpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoL15ibG9iOi8sIFwiXCIpLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsImV4cG9ydCBjb25zdCBBdWRpb01hbmFnZXIgPSB7XHJcbiAgICB2b2x1bWU6IDAuMSxcclxuXHJcbiAgICBTZXRWb2x1bWUodikge1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdjtcclxuICAgIH0sXHJcblxyXG4gICAgR2V0Vm9sdW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZvbHVtZTtcclxuICAgIH0sXHJcblxyXG4gICAgUGxheShhdWRpbywgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5zb3VuZC5wbGF5KGF1ZGlvLCB7IHZvbHVtZTogdGhpcy52b2x1bWUgfSk7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2VuZSwgdGV4dHVyZSwgdGV4dCwgY2FsbGJhY2ssIHN0eWxlID0ge30pIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIHRoaXMuc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdCdXR0b25zRm9udCcsIFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI5cHgnLCAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAuLi5zdHlsZVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB0aGlzLmltYWdlID0gc2NlbmUuYWRkLmltYWdlKDAsIDAsIHRleHR1cmUpO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHNjZW5lLmFkZC50ZXh0KDAsIDAsIHRleHQsIHRoaXMuc3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHNjZW5lLmFkZC5jb250YWluZXIoeCwgeSwgW3RoaXMuaW1hZ2UsIHRoaXMudGV4dF0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFNpemUodGhpcy5pbWFnZS53aWR0aCwgdGhpcy5pbWFnZS5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFNjYWxlKDEuNSk7IC8vIGVzY2FsYXIgZm9uZG8geSB0ZXh0b1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNldFRpbnQoMHhmZmZmMDApOyBcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRDb2xvcignI2ZmZmZkZCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldFNjYWxlKDEuMik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuY2xlYXJUaW50KCk7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNldENvbG9yKCcjZmZmZmZmZmYnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5QbGF5KCdTRlhfQnV0dG9uUHJlc3MnLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dChuZXdUZXh0KSB7XHJcbiAgICAgICAgdGhpcy50ZXh0LnNldFRleHQobmV3VGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSl7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UG9zaXRpb24oeCwgeSlcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9NYWluTWVudUJhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNGWF9CdXR0b25QcmVzcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBNVVNJQ19NYWluTWVudSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL01haW5NZW51Lm1wMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9naW5TY2VuZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkICgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19CYWNrZ3JvdW5kJywgSU1HX0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU0ZYX0J1dHRvblByZXNzJywgU0ZYX0J1dHRvblByZXNzKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ01VU0lDX01haW5NZW51JywgTVVTSUNfTWFpbk1lbnUpO1xyXG5cclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdCdXR0b25zRm9udCcsJ3VybChmb250cy9hbGFnYXJkX2ZvbnQudHRmKScpO1xyXG5cclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKChsb2FkZWRGb250KSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSAoKSB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMT0dJTiBTQ0VORSBDUkVBVEUnKTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX01haW5NZW51Jywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICAvLyBJbnRyb2R1Y2lyIHVzdWFyaW9cclxuICAgICAgICBjb25zdCBJTlBVVF9XSURUSCA9IDQyMDtcclxuICAgICAgICBjb25zdCBJTlBVVF9IRUlHSFQgPSA1MDtcclxuICAgICAgICBjb25zdCBNQVhfTEVOR1RIID0gMTI7XHJcblxyXG4gICAgICAgIGxldCB1c2VybmFtZSA9ICcnO1xyXG4gICAgICAgIGxldCBmb2N1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIGRlbCB0ZXh0b1xyXG4gICAgICAgIGNvbnN0IHRpdGxlQmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNjAwLCA0NTAsIDUwMCwgMzUwLCAweDAwMDAwMCwgMC42KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDQyMCwgSU5QVVRfV0lEVEgsIElOUFVUX0hFSUdIVCwgMHhmZmZmZmYpXHJcbiAgICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIDB4MDAwMDAwKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0VGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwIC0gSU5QVVRfV0lEVEggLyAyICsgMTIsIDQyMCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBMw61uZWEgdmVydGljYWwgZGUgZXNjcml0dXJhXHJcbiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSggaW5wdXRUZXh0LnggKyAyLCA0MjAsIDIsIDMwLCAweDAwMDAwMCk7XHJcblxyXG4gICAgICAgIC8vIFBhcnBhZGVvXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtsaW5lLnZpc2libGUgPSBmb2N1c2VkO31cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5wdXRCZy5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1hbmFnZXIuY2FudmFzLnN0eWxlLmN1cnNvciA9ICd0ZXh0JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlciwgb2JqZWN0cykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIW9iamVjdHMuaW5jbHVkZXMoaW5wdXRCZykpIHtcclxuICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1hbmFnZXIuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUZWNsYWRvXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWZvY3VzZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnNsaWNlKDAsIC0xKTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSAmJiB1c2VybmFtZS5sZW5ndGggPCBNQVhfTEVOR1RIKSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lICs9IGV2ZW50LmtleTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5wdXRUZXh0LnNldFRleHQodXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gTW92ZXIgbGEgbMOtbmVhIGNvbiB0ZXh0b1xyXG4gICAgICAgICAgICBsaW5lLnggPSBpbnB1dFRleHQueCArIGlucHV0VGV4dC53aWR0aCArIDQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgaW5pY2lvIGRlIHNlc2nDs25cclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDU0MCwgdGhpcywgJ1NQUl9CdXR0b24nLCAnTG9naW4nLCgpID0+IFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXJuYW1lLnRyaW0oKSkgcmV0dXJuOyAvLyBTaSBubyBoYXkgbm9tYnJlLCBkZXZvbHZlclxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWFyIHVzdWFyaW9cclxuICAgICAgICAgICAgICAgIGZldGNoKCcvYXBpL3VzZXJzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB1c2VyLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlN0YXJ0TWVudSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBBdXRvIGxvZ2luXHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG5cclxuICAgICAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgICAgICAgIGZldGNoKGAvYXBpL3VzZXJzLyR7dXNlcklkfWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlN0YXJ0TWVudSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcklkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIDMzMCwgJ0ludHJvZHVjZSB0dSBub21icmUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdCdXR0b25zRm9udCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgU3RhcnRNZW51KCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTWFpbk1lbnVCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTRlhfQnV0dG9uUHJlc3MgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zZngvQnV0dG9uUHJlc3MubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgTVVTSUNfTWFpbk1lbnUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9NYWluTWVudS5tcDMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5NZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNYWluTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfQmFja2dyb3VuZCcsIElNR19CYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1NGWF9CdXR0b25QcmVzcycsIFNGWF9CdXR0b25QcmVzcyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19NYWluTWVudScsIE1VU0lDX01haW5NZW51KTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZSgnQnV0dG9uc0ZvbnQnLCd1cmwoZm9udHMvYWxhZ2FyZF9mb250LnR0ZiknKTtcclxuXHJcbiAgICAgICAgZm9udC5sb2FkKCkudGhlbigobG9hZGVkRm9udCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19CYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCAzNTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJPbmxpbmVcIiwgKCkgPT4gdGhpcy5TdGFydFBsYXkoKSk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAgLSAzMDAsIDcwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlR1dG9yaWFsXCIsICgpID0+IHRoaXMuU3RhcnRUdXRvcmlhbCgpLCB7IGZvbnRTaXplOiAnMjVweCcgfSk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDcwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkFqdXN0ZXNcIiwgKCkgPT4gdGhpcy5TdGFydFNldHRpbmdzKCkpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwICsgMzAwLCA3MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJDcsOpZGl0b3NcIiwgKCkgPT4gdGhpcy5TdGFydENyZWRpdHMoKSwgeyBmb250U2l6ZTogJzI1cHgnIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBzb2xvIGxvY2FsXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDUwMCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIkxvY2FsXCIsICgpID0+IHRoaXMuU3RhcnRMb2NhbEdhbWUoKSwpO1xyXG5cclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfTWFpbk1lbnUnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd0N1cnJlbnRVc2VyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dDdXJyZW50VXNlcigpIHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7XHJcbiAgICAgICAgaWYgKCF1c2VySWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VySWR9YClcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoMTE3MCwgMzAsIGAke3VzZXIudXNlcm5hbWV9YCwge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0J1dHRvbnNGb250JyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigxLCAwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gc2UgcHVkbyBjYXJnYXIgZWwgdXN1YXJpbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBTdGFydFBsYXkoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTG9iYnknKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFN0YXJ0VHV0b3JpYWwoKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxNZW51JykpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBTdGFydFNldHRpbmdzKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ1NldHRpbmdzTWVudScpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgU3RhcnRDcmVkaXRzKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNNZW51JykpO1xyXG4gICAgfVxyXG5cclxuICAgIFN0YXJ0TG9jYWxHYW1lKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19CYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL01haW5NZW51QmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5TW9kZU1lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BsYXlNb2RlTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfQmFja2dyb3VuZCcsIElNR19CYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19CYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwIC0gMTgwLCA0MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJDcmVhciBQYXJ0aWRhXCIsIG51bGwpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwICsgMTgwLCA0MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJVbmlyc2UgYSBQYXJ0aWRhXCIsIG51bGwpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCA1NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJMb2NhbFwiLCBudWxsKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDEwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVm9sdmVyXCIsICgpID0+IHRoaXMuR29CYWNrKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApXHJcbiAgICB9XHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLnNvY2tldCA9IGRhdGEuc29ja2V0O1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfRGVmYXVsdEJhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvRGVmYXVsdEJhY2tncm91bmQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy92YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvem9tYmllX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xXQVNEIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzV0FTRC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sSUpMSyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc0lKS0wucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbE1lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfRGVmYXVsdEJhY2tncm91bmQnLCBJTUdfRGVmYXVsdEJhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX1ZhbXBpcmUnLCB2YW1waXJlc2FGcm9udEVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfWm9tYmllJywgem9tYmlGcm9udEVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sV0FTRCcsIGNvbnRyb2xXQVNEKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xJSkxLJywgY29udHJvbElKTEspO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0RlZmF1bHRCYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMUljb24gPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDQ1MCwgJ1NQUl9ab21iaWUnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJJY29uID0gdGhpcy5hZGQuaW1hZ2UoMTIwMCAtIDM1MCwgNDUwLCAnU1BSX1ZhbXBpcmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sc1VJMT0gdGhpcy5hZGQuaW1hZ2UoMTkwLCAxMDAsICdjb250cm9sV0FTRCcpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc1VJMj0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAxMDAsICdjb250cm9sSUpMSycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAuc2V0U2NhbGUoMC4zNSk7XHJcblxyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDEwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVm9sdmVyXCIsICgpID0+IHRoaXMuR29CYWNrKCkpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHb0JhY2soKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19TZXR0aW5nc0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvU2V0dGluZ3NCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBNVVNJQ19TZXR0aW5ncyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL211c2ljL1NldHRpbmdzLm1wMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZXR0aW5nc01lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX1NldHRpbmdzQmFja2dyb3VuZCcsIElNR19TZXR0aW5nc0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTVVTSUNfU2V0dGluZ3MnLCBNVVNJQ19TZXR0aW5ncyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19TZXR0aW5ncycsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19TZXR0aW5nc0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbigxMDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlZvbHZlclwiLCAoKSA9PiB0aGlzLkdvQmFjaygpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vVGV4dG8gZGUgXCJWb2x1bWVuXCJcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMzY1LCAnVm9sdW1lbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMmMyYTJhZmYnLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9CYXJyYSBkZSB2b2x1bWVuXHJcbiAgICAgICAgY29uc3QgYmFyWCA9IDYwMDtcclxuICAgICAgICBjb25zdCBiYXJZID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGJhcldpZHRoID0gMzAwO1xyXG4gICAgICAgIGNvbnN0IGJhckhlaWdodCA9IDIwO1xyXG4gICAgICAgIC8vQmFycmEgYmFzZVxyXG4gICAgICAgIGNvbnN0IHZvbHVtZUJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZShiYXJYLCBiYXJZLCBiYXJXaWR0aCwgYmFySGVpZ2h0LCAweDg4ODg4OCk7XHJcbiAgICAgICAgLy9Wb2x1bWVuIGluaWNpYWxcclxuICAgICAgICBsZXQgY3VycmVudFZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IGN1cnJlbnRWb2x1bWU7XHJcbiAgICAgICAgLy9CYXJyYSBkZSByZWxsZW5vXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lSW5kaWNhdG9yID0gdGhpcy5hZGQucmVjdGFuZ2xlKGJhclggLSBiYXJXaWR0aCAvIDIgKyAoY3VycmVudFZvbHVtZSAqIGJhcldpZHRoKSAvIDIsIGJhclksIGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aCwgYmFySGVpZ2h0LDB4MjIyMjIyKTtcclxuICAgICAgICAvL0hhY2VyIGJhcnJhIGludGVyYWN0aXZhXHJcbiAgICAgICAgY29uc3QgaGFuZGxlID0gdGhpcy5hZGQuY2lyY2xlKFxyXG4gICAgICAgICAgICBiYXJYIC0gYmFyV2lkdGggLyAyICsgY3VycmVudFZvbHVtZSAqIGJhcldpZHRoLCBiYXJZLCAxMiwgMHhmZmZmZmZcclxuICAgICAgICApXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgZHJhZ2dhYmxlOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvL1BvZGVyIGFycmFzdHJhciBlbCBoYW5kbGVcclxuICAgICAgICB0aGlzLmlucHV0LnNldERyYWdnYWJsZShoYW5kbGUpO1xyXG4gICAgICAgIGhhbmRsZS5vbignZHJhZycsIChwb2ludGVyLCBkcmFnWCwgZHJhZ1kpID0+IHtcclxuICAgICAgICAgICAgLy9MaW1pdGFyIGVsIG1vdmltaWVudG8gZGVsIGhhbmRsZSBkZW50cm8gZGUgbGEgYmFycmFcclxuICAgICAgICAgICAgY29uc3QgbWluWCA9IGJhclggLSBiYXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heFggPSBiYXJYICsgYmFyV2lkdGggLyAyO1xyXG4gICAgICAgICAgICBpZiAoZHJhZ1ggPCBtaW5YKSBkcmFnWCA9IG1pblg7XHJcbiAgICAgICAgICAgIGlmIChkcmFnWCA+IG1heFgpIGRyYWdYID0gbWF4WDtcclxuICAgICAgICAgICAgaGFuZGxlLnggPSBkcmFnWDtcclxuICAgICAgICAgICAgLy9BY3R1YWxpemFyIHZvbHVtZW4gYmFzYWRvIGVuIGxhIHBvc2ljacOzbiBkZWwgaGFuZGxlXHJcbiAgICAgICAgICAgIGN1cnJlbnRWb2x1bWUgPSAoaGFuZGxlLnggLSBtaW5YKSAvIGJhcldpZHRoO1xyXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIuU2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTtcclxuICAgICAgICAgICAgLy9BY3R1YWxpemFyIGxhIGJhcnJhIGRlIHZvbHVtZW5cclxuICAgICAgICAgICAgdm9sdW1lSW5kaWNhdG9yLndpZHRoID0gY3VycmVudFZvbHVtZSAqIGJhcldpZHRoO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NsaWNrIGVuIGxhIGJhcnJhIHBhcmEgbW92ZXIgZWwgaGFuZGxlXHJcbiAgICAgICAgdm9sdW1lQmFyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgdm9sdW1lQmFyLm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsWCA9IHBvaW50ZXIueCAtIChiYXJYIC0gYmFyV2lkdGggLyAyKTtcclxuICAgICAgICAgICAgLy9BY3R1YWxpemFyIHZvbHVtZW4gYmFzYWRvIGVuIGxhIHBvc2ljacOzbiBkZWwgY2xpY2tcclxuICAgICAgICAgICAgY3VycmVudFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKGxvY2FsWCAvIGJhcldpZHRoLCAwLCAxKTtcclxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLlNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUoY3VycmVudFZvbHVtZSk7XHJcbiAgICAgICAgICAgIC8vQWN0dWFsaXphciBsYSBwb3NpY2nDs24gZGVsIGhhbmRsZSB5IGxhIGJhcnJhIGRlIHZvbHVtZW5cclxuICAgICAgICAgICAgaGFuZGxlLnggPSBiYXJYIC0gYmFyV2lkdGggLyAyICsgY3VycmVudFZvbHVtZSAqIGJhcldpZHRoO1xyXG4gICAgICAgICAgICB2b2x1bWVJbmRpY2F0b3Iud2lkdGggPSBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIEdvQmFjaygpe1xyXG4gICAgICAgIC8vQm90w7NuIGRlIFwiVm9sdmVyXCIgc2Vnw7puIGRlc2RlIGTDs25kZSBzZSBhYnJpw7MgbGEgZXNjZW5hXHJcbiAgICAgICAgaWYodGhpcy5vcGVuZWRGcm9tID09PSAnTWFpbk1lbnUnKXtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIERldGVuZXIgbGEgZXNjZW5hIGRlIGNvbmZpZ3VyYWNpw7NuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnUGF1c2VTY2VuZScpOyAvLyBBc2VndXJhcnNlIGRlIGRldGVuZXIgbGEgZXNjZW5hIGRlIHBhdXNhIHNpIGVzdGFiYSBhYmllcnRhXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7IC8vIElyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHRoaXMub3BlbmVkRnJvbSA9PT0gJ1BhdXNlU2NlbmUnKXtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIERldGVuZXIgbGEgZXNjZW5hIGRlIGNvbmZpZ3VyYWNpw7NuXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSgnUGF1c2VTY2VuZScpOyAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfR2FtZScsIHtcclxuICAgICAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcbiAgICBJbml0KGRhdGEpe1xyXG4gICAgICAgIHRoaXMub3BlbmVkRnJvbSA9IGRhdGE/LmZyb20gfHwgJ01haW5NZW51JzsgLy8gTWFpbk1lbnUgbyBQYXVzZVNjZW5lXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfQ3JlZGl0c0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ3JlZGl0c0JhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX0NyZWRpdHMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9DcmVkaXRzLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19Mb2dvIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0xvZ28ucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c01lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0xvZ28nLCBJTUdfTG9nbyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfQ3JlZGl0c0JhY2tncm91bmQnLCBJTUdfQ3JlZGl0c0JhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX0J1dHRvbicsIFNQUl9CdXR0b24pO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTVVTSUNfQ3JlZGl0cycsIE1VU0lDX0NyZWRpdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfQ3JlZGl0cycsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QmFja2dyb3VuZENvbG9yKCcjMDAwMDAwJyk7XHJcbiAgICAgICAgLy9Mb2dvIGluaWNpYWxcclxuICAgICAgICBjb25zdCBsb2dvSW1nID0gdGhpcy5hZGQuaW1hZ2UoIHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMixcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgLyAyLCdJTUdfTG9nbycpLnNldE9yaWdpbigwLjUpLnNldEFscGhhKDApLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogbG9nb0ltZyxcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBlYXNlOiAnUG93ZXIyJyxcclxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBsb2dvSW1nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6ICdQb3dlcjInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dvSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2hvd0NyZWRpdHNNZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIEdvQmFjaygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG5cclxuICAgIFNob3dDcmVkaXRzTWVudSgpe1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfQ3JlZGl0c0JhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgLy8gQXJyYXkgY29uIGxvcyBub21icmVzXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0dydXBvID0gW1xyXG4gICAgICAgICAgICAnR3J1cG8gMTMgLSBKdWVnb3MgZW4gUmVkJywgXHJcbiAgICAgICAgICAgICdNYXJ0YSBkZSBNaWd1ZWwgVGFwaWEnLFxyXG4gICAgICAgICAgICAnw4FuZ2VsIFlvdW5lcyBLYXJpbSBNw6lyaWRhJyxcclxuICAgICAgICAgICAgJ1NhcmEgTWVzYSBQYWNoZWNvJyxcclxuICAgICAgICAgICAgJ0NsYXVkaWEgTW9yYWdvIEFtaWdvJyxcclxuICAgICAgICAgICAgJ0lyaXMgTXXDsW96IE1vbnRlcm8nLFxyXG4gICAgICAgICAgICAnJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRzT3RoZXJzPVtcclxuICAgICAgICAgICAgJ3B1YmxpYy9hc3NldHMgZGUgc3ByaXRlcyBHYW1lU2NlbmU6IDEzdGggQ2FuZHlXZWInLFxyXG4gICAgICAgICAgICAncHVibGljL2Fzc2V0cyBwYW50YWxsYXM6IENhbnZhJyxcclxuICAgICAgICAgICAgJ03DunNpY2EgeSBlZmVjdG9zIGRlIHNvbmlkbzogRnJlZVNvdW5kJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBBbHR1cmEgaW5pY2lhbCBwYXJhIGVsIHByaW1lciBub21icmUgXHJcbiAgICAgICAgbGV0IHN0YXJ0WSA9IDI1MDtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gNTA7IC8vIGVzcGFjaW8gdmVydGljYWwgZW50cmUgbm9tYnJlc1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjYWRhIG5vbWJyZSBjZW50cmFkb1xyXG4gICAgICAgIGNyZWRpdHNHcnVwby5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgc3RhcnRZICsgaW5kZXggKiBzcGFjaW5nLCBuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVkaXRzT3RoZXJzLmZvckVhY2goKG5hbWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCBzdGFydFkgKyAoY3JlZGl0c0dydXBvLmxlbmd0aCArIGluZGV4KSAqIHNwYWNpbmcgKzg1LCBuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDMwMCwgMCwgMCwgMClcclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbigxMDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlZvbHZlclwiLCAoKSA9PiB0aGlzLkdvQmFjaygpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19EZWZhdWx0QmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9EZWZhdWx0QmFja2dyb3VuZC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfVmFtcGlyZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9ab21iaWUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3pvbWJpZV9mcm9udC5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvYmJ5IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2JieScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfRGVmYXVsdEJhY2tncm91bmQnLCBJTUdfRGVmYXVsdEJhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX1ZhbXBpcmUnLCBTUFJfVmFtcGlyZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfWm9tYmllJywgU1BSX1pvbWJpZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfRGVmYXVsdEJhY2tncm91bmQnKVxyXG4gICAgICAgIGJnLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7XHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCA2MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJDb21lbnphclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdQTEFZRVJfUkVBRFknIH0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOCk7IC8vIG9jdWx0YXIgYm90w7NuIHRyYXMgcHVsc2FyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCdFc3BlcmFuZG8gcXVlIGVsIHJpdmFsIGVzdMOpIGxpc3RvLi4uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KTsgLy8gb2N1bHRvIGFsIGluaWNpb1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiU2FsaXJcIiwgKCkgPT4gdGhpcy5MZWF2ZSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxSWNvbiA9IHRoaXMuYWRkLmltYWdlKDMwMCwgMzAwLCAnU1BSX1ZhbXBpcmUnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjFOYW1lID0gdGhpcy5hZGQudGV4dCgzMDAsIDEyMCwgXCIuLi5cIiwgeyBmb250U2l6ZTogXCIzMnB4XCIgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMkljb24gPSB0aGlzLmFkZC5pbWFnZSgxMjAwIC0gMzAwLCAzMDAsICdTUFJfWm9tYmllJyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyTmFtZSA9IHRoaXMuYWRkLnRleHQoMTIwMCAtIDMwMCwgMTIwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZVRleHQgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNTAwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoYEVzcGVyYW5kbyByaXZhbC4uLmApO1xyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG5cclxuICAgICAgICB0aGlzLnNvY2tldCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIExlYXZlKCkge1xyXG4gICAgICAgIHRoaXMuTGVhdmVRdWV1ZSgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcbiAgICAgICAgICAgIHRoaXMud3MuaW5Mb2JieSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgICAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ0pPSU5fUVVFVUUnLCB1c2VySWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSB9KSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dCgnIyBFcnJvciBkZSBjb25leGnDs24gIycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0xvYmJ5U2NlbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoJyMgQ29uZXhpw7NuIHBlcmRpZGEgIycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoJyMgRmFsbG8gYWwgY29uZWN0YXIgIycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGxheWVyTm90Q29ubmVjdGVkJzpcclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoYEVzcGVyYW5kbyByaXZhbC4uLmApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcjFOYW1lLnNldFRleHQoXCIuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcjJOYW1lLnNldFRleHQoXCIuLi5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoYMKhUml2YWwgZW5jb250cmFkbyFgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKDYwMCwgNjAwKTsgLy8gQWhvcmEgc8OtIGVzIGNsaWNhYmxlXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllcjFVc2VybmFtZSA9IFwiVMOaXCI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyMlVzZXJuYW1lID0gXCJUw5pcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBmZXRjaChgL2FwaS91c2Vycy8ke2RhdGEuZW5lbXlJZH1gKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucm9sZSA9PSBcInBsYXllcjFcIikgcGxheWVyMlVzZXJuYW1lID0gdXNlci51c2VybmFtZTsgZWxzZSBwbGF5ZXIxVXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIxTmFtZS5zZXRUZXh0KHBsYXllcjFVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyMk5hbWUuc2V0VGV4dChwbGF5ZXIyVXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBzZSBwdWRvIGNhcmdhciBlbCB1c3VhcmlvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdTVEFSVF9HQU1FJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIGluIHJvb206JywgZGF0YS5yb29tSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElNUE9SVEFOVEU6IGRlc2FjdGl2YXIgZWwgaGFuZGxlciBkZWwgTG9iYnlcclxuICAgICAgICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEZXNhY3RpdmFyIGhhbmRsZXIgZGVsIExvYmJ5XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUGFyYXIgbGEgZXNjZW5hIExvYmJ5XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0xvYmJ5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSW5pY2lhciBsYSBlc2NlbmEgZGVsIGp1ZWdvXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBzZXJ2ZXIgbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIExlYXZlUXVldWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uLy4uLy4uL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lckNvbnRyb2xsZXJ7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2NlbmUsIHRleHQpe1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICB0aGlzLnJlbWFpbmluZ1RpbWUgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5jYW5Db3VudERvd24gPSB0cnVlO1xyXG5cclxuICAgICAgICAvL0N1ZW50YSBkZSByb25kYXNcclxuICAgICAgICB0aGlzLmN5Y2xlcyA9IDA7ICAgICAgICAvLyBjdcOhbnRhcyB2ZWNlcyBoYSB0ZXJtaW5hZG9cclxuICAgICAgICB0aGlzLm1heEN5Y2xlcyA9IDM7ICAgICAvLyBtw6F4aW1vIGRlIHJlcGV0aWNpb25lc1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGVDb3VudGRvd24oKXtcclxuICAgICAgICB0aGlzLmNhbkNvdW50RG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCh0aW1lKXtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ1RpbWUgPSB0aW1lO1xyXG4gICAgfVxyXG4gICAgc2V0Tm90Q29vbGRvd25FdmVudChjYWxsYmFjayl7XHJcbiAgICAgICAgdGhpcy5ub3RDb29sZG93bkV2ZW50ID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoZHVyYXRpb24sIGNhbGxiYWNrKXtcclxuICAgICAgICAvL1NpIHlhIGV4aXN0ZSwgZGVzdHJ1aXIgZWwgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmNhbkNvdW50RG93bikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgdGhpcy5hbGVydFBsYXllZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudChcclxuICAgICAgICB7ZGVsYXk6ZHVyYXRpb24sXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpe1xyXG4gICAgICAgIGlmKHRoaXMudGltZXJFdmVudCl7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy9TaSBubyBleGlzdGUsIHZvbHZlclxyXG4gICAgICAgIGlmICh0aGlzLmNhbkNvdW50RG93biAmJiAoIXRoaXMudGltZXJFdmVudCB8fCB0aGlzLmR1cmF0aW9uIDw9IDApKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5jYW5Db3VudERvd24pe1xyXG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGhpcy50aW1lckV2ZW50LmdldEVsYXBzZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdUaW1lID0gdGhpcy5kdXJhdGlvbiAtIGVsYXBzZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFdml0YXIgbmVnYXRpdm9cclxuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5tYXgoMCwgdGhpcy5yZW1haW5pbmdUaW1lIC8gMTAwMCk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dC50ZXh0ID0gYCR7c2Vjb25kcy50b0ZpeGVkKDIpfWA7XHJcblxyXG4gICAgICAgIC8vU29uaWRvIGRlIGFsZXJ0YSBjdWFuZG8gcXVlZGFuIDEwIHNlZ3VuZG9zIG8gbWVub3NcclxuICAgICAgICBpZiAoc2Vjb25kcyA8PSA1ICYmICF0aGlzLmFsZXJ0UGxheWVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyQWxlcnQgPSB0aGlzLnNjZW5lLnNvdW5kLmFkZCgndGltZXJfYWxlcnQnKTtcclxuICAgICAgICAgICAgdGltZXJBbGVydC5wbGF5KHsgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCkgKiA0IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0UGxheWVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNlY29uZHMgPD0gMCAmJiB0aGlzLm5vdENvb2xkb3duRXZlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLm5vdENvb2xkb3duRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5ub3RDb29sZG93bkV2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRW50aXRpZXNDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZEVudGl0eShlbnRpdHkpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5VcGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIHVzZVNwcml0ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIGlmICh1c2VTcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHNwcml0ZSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0ID0gc2NlbmUucGh5c2ljcy5hZGQuaW1hZ2UoeCwgeSwgc3ByaXRlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFNjYWxlKHNjYWxlKTtcclxuXHJcbiAgICAgICAgLy8gQm9keSBiw6FzaWNvIHBhcmEgb3ZlcmxhcFxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTsgLy8gb3BjaW9uYWwsIGV2aXRhIHF1ZSBzYWxnYSBkZWwgbWFwYVxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldFNpemUoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC53aWR0aCAqIDAuOCwgIC8vIGFuY2hvIGRlbCBjdWVycG9cclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmhlaWdodCAqIDAuOCAgLy8gYWx0byBkZWwgY3VlcnBvXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRPZmZzZXQoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC53aWR0aCAqIDAuMSwgIC8vIG9wY2lvbmFsLCBjZW50cmFyIGJvZHlcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmhlaWdodCAqIDAuMVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIE11ZXZlIGxhIGVudGlkYWQgYSB1bmEgcG9zaWNpb25cclxuICAgIE1vdmVUbyh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuVXBkYXRlQm9keUNvb3JkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICBNdWV2ZSBhIGxhIGVudGlkYWQgJ3gnIGUgJ3knIHVuaWRhZGVzXHJcbiAgICBNb3ZlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnggKz0geDtcclxuICAgICAgICB0aGlzLnkgKz0geTtcclxuICAgICAgICB0aGlzLlVwZGF0ZUJvZHlDb29yZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVCb2R5Q29vcmRzKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC54ID0gdGhpcy54O1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC55ID0gdGhpcy55O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICBBY3R1YWxpemEgbGEgZW50aWRhZFxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSXRlbSBleHRlbmRzIEVudGl0eXtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzcHJpdGUsIHNjZW5lKXtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyR3JhYmJpbmcgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllcjEuZ2FtZU9iamVjdCwgdGhpcy5nYW1lT2JqZWN0LCAoKSA9PiB7IHBsYXllcjEuR3JhYkl0ZW0odGhpcykgfSk7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIyLmdhbWVPYmplY3QsIHRoaXMuZ2FtZU9iamVjdCwgKCkgPT4geyBwbGF5ZXIyLkdyYWJJdGVtKHRoaXMpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIEdyYWJJdGVtKHBsYXllcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp6ogR3JhYkl0ZW0gbGxhbWFkbyBjb246JywgSXRlbSk7XHJcbiAgICAgICAgaWYocGxheWVyID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXJHcmFiYmluZyAhPSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgaWYocGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmcgIT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyR3JhYmJpbmcgPSBwbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgQ2xlYXJQbGF5ZXIoKXtcclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLnBsYXllckdyYWJiaW5nICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSAtIDYwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FuZHkgZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC02NCwgLTY0LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVzZXQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgVXBkYXRlKCl7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmhhc1NwYXduZWQpe1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduVGltZS0tO1xyXG4gICAgICAgICAgICBpZih0aGlzLnNwYXduVGltZSA8IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlc2V0KCl7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oLTY0LCAtNjQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3Bhd25UaW1lID0gUGhhc2VyLk1hdGguQmV0d2Vlbig2MCwgMjQwKTtcclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRocm93YWJsZUl0ZW0gZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC0xMjgsIC0xMjgsIHNjYWxlLCBzcHJpdGUsIHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcblxyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFggPSAwO1xyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFkgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aHJvd093bmVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzdXBlci5zZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpO1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjEuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjIuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFRocm93KHhEaXIsIHlEaXIpe1xyXG4gICAgICAgIGlmKHRoaXMucGxheWVyR3JhYmJpbmcgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJvd0ZvcmNlID0gMzA7XHJcbiAgICAgICAgdGhpcy50aHJvd1NwZWVkWCA9IHRocm93Rm9yY2UgKiAoeERpciA+IDAgPyAxIDogeERpciA9PSAwID8gMCA6IC0xKTtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRZID0gdGhyb3dGb3JjZSAqICh5RGlyID4gMCA/IDEgOiB5RGlyID09IDAgPyAwIDogLTEpO1xyXG5cclxuICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRocm93T3duZXIgPSB0aGlzLnBsYXllckdyYWJiaW5nO1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBzdXBlci5VcGRhdGUoKTtcclxuICAgICAgICB0aGlzLlRocm93TW92ZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBUaHJvd01vdmVtZW50KCl7XHJcbiAgICAgICAgaWYoTWF0aC5hYnModGhpcy50aHJvd1NwZWVkWCkgPCAxICYmIE1hdGguYWJzKHRoaXMudGhyb3dTcGVlZFkpIDwgMSl7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dPd25lciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUaHJvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzaXN0YW5jZSA9IDAuOTtcclxuICAgICAgICB0aGlzLk1vdmUodGhpcy50aHJvd1NwZWVkWCAqPSByZXNpc3RhbmNlLCB0aGlzLnRocm93U3BlZWRZICo9IHJlc2lzdGFuY2UpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnggPCA1MCB8fCB0aGlzLnggPiAxMjAwIC0gNTApIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd1NwZWVkWCAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlKDUgKiBNYXRoLnNpZ24odGhpcy50aHJvd1NwZWVkWCksIDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMueSA8IDUwIHx8IHRoaXMueSA+IDgwMCAtIDUwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dTcGVlZFkgKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZSgwLCA1ICogTWF0aC5zaWduKHRoaXMudGhyb3dTcGVlZFkpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lQ2FuZHkgZXh0ZW5kcyBJdGVtIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpY2nDs24gWCBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWSBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZSBcclxuICAgICAqIEBwYXJhbSB7UGhhc2VyLlNjZW5lfSBzY2VuZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIMO6bmljbyBkZWwgY2FyYW1lbG8gZW52aWFkbyBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIGlkKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcbiAgICAgICAgLy8gTm8gc3Bhd24sIG5vIHNwYXduVGltZSwgbmFkYSBkZSByYW5kb21cclxuICAgIH1cclxuXHJcblxyXG4gICAgT25Db2xsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKC02NCwgLTY0KTsgLy8gb2N1bHRhcmxvIG1pZW50cmFzIGxsZWdhIGxhIG51ZXZhIHBvc2ljacOzblxyXG4gICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY2VuZS53cyAmJiB0aGlzLnNjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUkVRVUVTVF9DQU5EWV9SRVNQQVdOJyxcclxuICAgICAgICAgICAgICAgIGNhbmR5SWQ6IHRoaXMuaWRcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgXHJcbiAgICBSZXNldCgpIHtcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgLy8gbm8gbW92ZXIgYSAtNjQsIC02NFxyXG4gICAgICAgIC8vIG5vIHNwYXduVGltZVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBUaHJvd2FibGVJdGVtIH0gZnJvbSBcIi4uL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanNcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcbmltcG9ydCB7IENhbmR5IH0gZnJvbSBcIi4uL2l0ZW1zL0NhbmR5LmpzXCI7XHJcbmltcG9ydCB7IE9ubGluZUNhbmR5IH0gZnJvbSBcIi4uL2l0ZW1zL09ubGluZUNhbmR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBjaGFyYWN0ZXJOYW1lLCBzY2VuZSwgY3Vyc29ycywgZ3JhYkl0ZW1LZXksIGlzTG9jYWwgPSB0cnVlKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIGAke2NoYXJhY3Rlck5hbWV9X2Zyb250RXN0YCwgc2NlbmUsIHRydWUpOyAvL0RlZmF1bHQgcGxheWVyIGFsIGluaWNpYXJcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJOYW1lID0gY2hhcmFjdGVyTmFtZTtcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSBjdXJzb3JzO1xyXG5cclxuICAgICAgICB0aGlzLmdyYWJJdGVtS2V5ID0gZ3JhYkl0ZW1LZXk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzTG9jYWwgPSBpc0xvY2FsO1xyXG4gICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ncmFiSXRlbUlucHV0T24gPSBmYWxzZTtcclxuICAgICAgICAvKnRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleWRvd24tJHt0aGlzLmdyYWJJdGVtS2V5fWAsICgpID0+IHRoaXMuZ3JhYkl0ZW1JbnB1dE9uID0gdHJ1ZSApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleXVwLSR7dGhpcy5ncmFiSXRlbUtleX1gLCAoKSA9PiB0aGlzLmdyYWJJdGVtSW5wdXRPbiA9IGZhbHNlICk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5mYWNpbmdYID0gMDtcclxuICAgICAgICB0aGlzLmZhY2luZ1kgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmtub2NrT3V0VGltZXIgPSAwO1xyXG5cclxuICAgICAgICAvLyBFc2N1Y2hhciB0ZWNsYSBkZSByZWNvZ2VyXHJcbiAgICAgICAgaWYgKHRoaXMuZ3JhYkl0ZW1LZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmFiS2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tncmFiSXRlbUtleV1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIFVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0xvY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZW1lbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5JdGVtSW5wdXRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hlY2tQaWNrdXAoKTtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nKSB0aGlzLkdyYWJJdGVtKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZylcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIE1vdmVtZW50KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJzb3JzKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMudnggPSAwO1xyXG4gICAgICAgIHRoaXMudnkgPSAwO1xyXG4gICAgICAgIGxldCBtb3ZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5mYWNpbmdYID0gMDtcclxuICAgICAgICB0aGlzLmZhY2luZ1kgPSAwO1xyXG5cclxuICAgICAgICAvL1BhcmEgcXVlIHNvcG9ydGUgbGFzIGRpYWdvbmFsZXMsIHByaW1lcm8gc2UgZGV0ZWN0YSBsYSBkaXJlY2Npw7NuXHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0Py5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy52eCA9IC10aGlzLnNwZWVkOyB0aGlzLmZhY2luZ1ggPSAtMTsgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5yaWdodD8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnggPSB0aGlzLnNwZWVkOyB0aGlzLmZhY2luZ1ggPSAxOyBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwPy5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy52eSA9IC10aGlzLnNwZWVkOyB0aGlzLmZhY2luZ1kgPSAtMTsgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5kb3duPy5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy52eSA9IHRoaXMuc3BlZWQ7IHRoaXMuZmFjaW5nWSA9IDE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8veSBsdWVnbyBzZSBlbGlnZSBsYSBhbmltYWNpw7NuIGRlbCBwZXJzb25hamVcclxuICAgICAgICBsZXQgYW5pbWF0aW9uID0gbnVsbDtcclxuICAgICAgICBpZiAobW92aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZ4ICE9PSAwICYmIHRoaXMudnkgIT09IDApIHsgLy9jb25kaWNpw7NuIGRlIGxhIGRpYWdvbmFsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLnZ4ID4gMCA/IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fcmlnaHRfYW5pbWAgOiBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X2xlZnRfYW5pbWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52eCAhPT0gMCkgeyAvL212dG8gbm9ybWFsIGl6cS9kY2hhXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLnZ4ID4gMCA/IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fcmlnaHRfYW5pbWAgOiBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X2xlZnRfYW5pbWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52eSAhPT0gMCkgeyAvL212dG8gbm9ybWFsIGFycmliYS9hYmFqb1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy52eSA+IDAgPyBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X2Zyb250X2FuaW1gIDogYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9iYWNrX2FuaW1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmltYXRpb24pIHRoaXMuZ2FtZU9iamVjdC5hbmltcy5wbGF5KGFuaW1hdGlvbiwgdHJ1ZSk7IC8vU2UgZWplY3V0YSBsYSBhbmltYWNpw7NuIHNpIGVsIHBlcnNvbmFqZSBzZSBlc3TDoSBtb3ZpZW5kb1xyXG4gICAgICAgIGVsc2UgdGhpcy5nYW1lT2JqZWN0LnNldFRleHR1cmUoYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9mcm9udEVzdGApOyAvL3NpIG5vLCBpZGxlXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmtub2NrT3V0VGltZXIgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMua25vY2tPdXRUaW1lci0tXHJcbiAgICAgICAgICAgIHRoaXMudnggPSAwXHJcbiAgICAgICAgICAgIHRoaXMudnkgPSAwXHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nWCA9IDBcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmdZID0gMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5Nb3ZlKFxyXG4gICAgICAgICAgICB0aGlzLnZ4ICogdGhpcy5zY2VuZS5nYW1lLmxvb3AuZGVsdGEgLyAxMDAwLFxyXG4gICAgICAgICAgICB0aGlzLnZ5ICogdGhpcy5zY2VuZS5nYW1lLmxvb3AuZGVsdGEgLyAxMDAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy9QYXJhIHF1ZSBubyBzZSBzYWxnYSBkZWwgbWFwYVxyXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMuZ2FtZU9iamVjdC5kaXNwbGF5V2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSB0aGlzLmdhbWVPYmplY3QuZGlzcGxheUhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnggPCBoYWxmV2lkdGgpIHRoaXMuTW92ZVRvKGhhbGZXaWR0aCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy54ID4gdGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcud2lkdGggLSBoYWxmV2lkdGgpIHRoaXMuTW92ZVRvKHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLndpZHRoIC0gaGFsZldpZHRoLCB0aGlzLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnkgPCBoYWxmSGVpZ2h0KSB0aGlzLk1vdmVUbyh0aGlzLngsIGhhbGZIZWlnaHQpO1xyXG4gICAgICAgIGlmICh0aGlzLnkgPiB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy5oZWlnaHQgLSBoYWxmSGVpZ2h0KSB0aGlzLk1vdmVUbyh0aGlzLngsIHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCAtIGhhbGZIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIEl0ZW1JbnB1dHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMua25vY2tPdXRUaW1lciA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2VcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JhYkl0ZW1JbnB1dE9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdyYWJJdGVtSW5wdXRPbikge1xyXG4gICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA+IDApIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24tLTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHcmFiSXRlbShpdGVtKSB7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPiAwKSByZXR1cm47XHJcblxyXG4gICAgLy8gICAgIGlmICghdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zKSByZXR1cm47XHJcblxyXG4gICAgLy8gICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgIT0gbnVsbCkge1xyXG4gICAgLy8gICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nIGluc3RhbmNlb2YgVGhyb3dhYmxlSXRlbSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nLlRocm93KHRoaXMuZmFjaW5nWCwgdGhpcy5mYWNpbmdZKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMztcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBpZiAoaXRlbS5wbGF5ZXJHcmFiYmluZyAhPSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgLy8gICAgIGl0ZW0uR3JhYkl0ZW0odGhpcyk7XHJcbiAgICAvLyAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gaXRlbTtcclxuXHJcbiAgICAvLyAgICAgdGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA9IDM7XHJcblxyXG4gICAgLy8gICAgICBpZiAodGhpcy5pc0xvY2FsICYmIGl0ZW0gaW5zdGFuY2VvZiBPbmxpbmVDYW5keSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmhhc0NhbmR5ID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuc2NlbmUuc2VuZCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zY2VuZS5zZW5kKHtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0eXBlOiAnQ0FORFlfUElDS1VQJyxcclxuICAgIC8vICAgICAgICAgICAgICAgICBjYW5keUlkOiBpdGVtLmlkLFxyXG4gICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHRoaXMuaGFzQ2FuZHkgPSB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgaW5zdGFuY2VvZiBDYW5keSB8fCB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgaW5zdGFuY2VvZiBPbmxpbmVDYW5keTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBHcmFiSXRlbShpdGVtKSB7XHJcbiAgICBpZiAodGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA+IDApIHJldHVybjtcclxuXHJcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIE9ubGluZUNhbmR5IHx8IGl0ZW0gaW5zdGFuY2VvZiBDYW5keSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IGl0ZW07XHJcbiAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA9IDEwO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDaGVja1BpY2t1cCgpIHtcclxuXHJcbiAgICAvLyBTb2xvIHJlY29nZXIgc2kgbGEgdGVjbGEgZXN0w6EgcHJlc2lvbmFkYVxyXG4gICAgaWYgKCF0aGlzLmdyYWJLZXkgfHwgIXRoaXMuZ3JhYktleS5pc0Rvd24pIHJldHVybjtcclxuXHJcbiAgICAvLyBTaSB5YSB0aWVuZXMgdW4gb2JqZXRvLCBubyBwdWVkZXMgcmVjb2dlciBvdHJvXHJcbiAgICBpZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLnNjZW5lLmVudGl0aWVzQ29udHJvbGxlci5lbnRpdGllcztcclxuXHJcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcclxuXHJcbiAgICAgICAgaWYgKCEoZW50aXR5IGluc3RhbmNlb2YgQ2FuZHkgfHwgZW50aXR5IGluc3RhbmNlb2YgT25saW5lQ2FuZHkpKSBjb250aW51ZTtcclxuICAgICAgICBpZiAoIWVudGl0eS5oYXNTcGF3bmVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3QgZHggPSBNYXRoLmFicyh0aGlzLnggLSBlbnRpdHkueCk7XHJcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLmFicyh0aGlzLnkgLSBlbnRpdHkueSk7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2VUaHJlc2hvbGQgPSA1MDtcclxuXHJcbiAgICAgICAgLy8gU09MTyByZWNvZ2VyIHNpIGVzdMOhcyBjZXJjYSBZIHByZXNpb25hcyBsYSB0ZWNsYVxyXG4gICAgICAgIGlmIChkeCA8IGRpc3RhbmNlVGhyZXNob2xkICYmIGR5IDwgZGlzdGFuY2VUaHJlc2hvbGQpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IGVudGl0eTtcclxuICAgICAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgT25saW5lQ2FuZHkpIHtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5PbkNvbGxlY3RlZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLndzICYmIHRoaXMuc2NlbmUud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9JTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5keUlkOiBlbnRpdHkuaWRcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbiAgICAvLyBMbGFtYXIgY3VhbmRvIGVsIGp1Z2Fkb3Igc3VqZXRhIHVuIGNhcmFtZWxvXHJcbiAgICBEZWxpdmVyQ2FuZHkoKSB7XHJcbiAgICBpZiAoIXRoaXMuaGFzQ2FuZHkpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjYW5keSA9IHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZztcclxuICAgIGlmICghY2FuZHkpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmhhc0NhbmR5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG5cclxuICAgIGNhbmR5LlJlc2V0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNMb2NhbCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAnQ0FORFlfREVMSVZFUkVEIGVudmlhZG8gYWwgc2VydmVyLCBjYW5keUlkOicsXHJcbiAgICAgICAgICAgIGNhbmR5LmlkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zZW5kKHtcclxuICAgICAgICAgICAgdHlwZTogJ0NBTkRZX0RFTElWRVJFRCcsXHJcbiAgICAgICAgICAgIGNhbmR5SWQ6IGNhbmR5LmlkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuICAgIEtub2NrT3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmtub2NrT3V0VGltZXIgPiAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMua25vY2tPdXRUaW1lciA9IDEwMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZy5Nb3ZlVG8odGhpcy54LCB0aGlzLnkpXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmhhc0NhbmR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FuZHlCYXNrZXQgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgdGV4dFgsIHRleHRZLCBwbGF5ZXJPd25lciwgc2NlbmUpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCAwLjE1LCBudWxsLCBzY2VuZSlcclxuXHJcbiAgICAgICAgdGhpcy5vd25lciA9IHBsYXllck93bmVyO1xyXG4gICAgICAgIHRoaXMuY2FuZGllcyA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dCA9IHNjZW5lLmFkZC50ZXh0KHRleHRYLCB0ZXh0WSwgMCwgeyBmb250U2l6ZTogXCIzMnB4XCIsIGNvbG9yOiBcIiNmZmZmZmZcIiwgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiIH0pXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgcGxheWVyT3duZXIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyT3duZXIuaGFzQ2FuZHkpIHBsYXllck93bmVyLkRlbGl2ZXJDYW5keSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgQ2hlY2tGb3JDYW5keSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3duZXIuaGFzQ2FuZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0LnRleHQgPSArK3RoaXMuY2FuZGllcztcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXNldCBkZWwganVnYWRvclxyXG4gICAgICAgIHRoaXMub3duZXIuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5vd25lci5jdXJyZW50SXRlbUdyYWJiaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuY3VycmVudEl0ZW1HcmFiYmluZy5SZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOb3RpZmljYXIgYWwgc2Vydmlkb3IgcXVlIHNlIGVudHJlZ8OzIHVuIGNhcmFtZWxvXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0NBTkRZX0RFTElWRVJFRCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6IHRoaXMub3duZXIgPT09IHRoaXMuc2NlbmUubG9jYWxQbGF5ZXIgPyAncGxheWVyMScgOiAncGxheWVyMidcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBSZXN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuY2FuZGllcyA9IDA7XHJcbiAgICAgICAgdGhpcy50ZXh0LnRleHQgPSAwO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BlZWRQb3dlclVwIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHksIHNjYWxlLCAnc3BlZWRfcG93ZXJ1cCcsIHNjZW5lLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBPdmVybGFwKHBsYXllcjEsIHBsYXllcjIsIHNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICBwbGF5ZXIxLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICgpID0+IHRoaXMuYXBwbHkocGxheWVyMSksXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIHBsYXllcjIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgKCkgPT4gdGhpcy5hcHBseShwbGF5ZXIyKSxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHkocGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQXVtZW50byB2ZWxvY2lkYWRcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFNwZWVkID0gcGxheWVyLnNwZWVkO1xyXG4gICAgICAgIHBsYXllci5zcGVlZCAqPSAxLjU7XHJcblxyXG4gICAgICAgIC8vIER1cmFjacOzbiBkZWwgZWZlY3RvIDUgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc3BlZWQgPSBvcmlnaW5hbFNwZWVkO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3Bhd24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNwYXduKCkge1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5CZXR3ZWVuKDIwMCwgMTAwMCksXHJcbiAgICAgICAgICAgIFBoYXNlci5NYXRoLkJldHdlZW4oMjAwLCA2MDApXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3Quc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG4vL2ltcG9ydGFyIGltYWdlbmVzXHJcbi8vSlVFR09cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZmxvb3IgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3N0b25lX3RpbGUucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZ2FtZV9ib3VuZGFyeSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvZ2FtZV9ib3VuZGFyeS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBsZWF2ZXMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2xlYXZlc19vdmVybGF5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGJsdWVCYXNlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9ibHVlQmFzZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByZWRCYXNlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9yZWRCYXNlLnBuZyc7XHJcblxyXG4vL1RJTUVSXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHRpbWVySW1nIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9UaW1lcjEucG5nJztcclxuXHJcblxyXG4vL0lURU1TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNhbmR5U3ByaXRlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9jYXJhbWVsby5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4yIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphIDMucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcm9jayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIHBpZWRyYS5wbmcnO1xyXG5cclxuLy9DT05UUk9MRVNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbFdBU0QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNXQVNELnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xJSkxLIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzSUpLTC5wbmcnO1xyXG5cclxuLy9QT1dFUiBVUFNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgc3BlZWRQb3dlclVwU3ByaXRlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmpfZm9jb19kZWYucG5nJztcclxuXHJcbi8vUEVSU09OQUpFU1xyXG4vL1BhcmEgZWwgaWRsZSAodGVtcG9yYWwpXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy92YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvem9tYmllX2Zyb250LnBuZyc7XHJcbi8vQW5pbWFjaW9uZXNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhYmFjayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9iYWNrLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUxlZnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfbGVmdC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9yaWdodC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpQmFjayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9iYWNrLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpUmlnaHQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfcmlnaHQucG5nJztcclxuXHJcbi8vU09OSURPU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lTXVzaWMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9nYW1lX211c2ljLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHRpbWVyQWxlcnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy90aW1lcl9hbGVydC5tcDMnO1xyXG5cclxuLy9DTEFTRVNcclxuaW1wb3J0IHsgVGltZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvVGltZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgRW50aXRpZXNDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvRW50aXRpZXNDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgQ2FuZHkgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9DYW5keS5qcyc7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL3BsYXllci9wbGF5ZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgVGhyb3dhYmxlSXRlbSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanMnO1xyXG5pbXBvcnQgeyBDYW5keUJhc2tldCB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0NhbmR5QmFza2V0LmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IFNwZWVkUG93ZXJVcCB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL1NwZWVkUG93ZXJVcC5qcyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIC8vR2FtZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmxvb3InLCBmbG9vcik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdnYW1lX2JvdW5kYXJ5JywgZ2FtZV9ib3VuZGFyeSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsZWF2ZXMnLCBsZWF2ZXMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmx1ZUJhc2UnLGJsdWVCYXNlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlZEJhc2UnLHJlZEJhc2UpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZ2FtZV9tdXNpYycsIGdhbWVNdXNpYyk7XHJcbiAgICAgICAgLy9UaW1lclxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGltZXJJbWcnLCB0aW1lckltZyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0aW1lcl9hbGVydCcsIHRpbWVyQWxlcnQpO1xyXG4gICAgICAgIC8vSXRlbXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbmR5JywgY2FuZHlTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjEnLCBwdW1wa2luMSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMicsIHB1bXBraW4yKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4zJywgcHVtcGtpbjMpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncm9jaycsIHJvY2spO1xyXG4gICAgICAgIC8vQ29udHJvbHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xXQVNEJywgY29udHJvbFdBU0QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbElKTEsnLCBjb250cm9sSUpMSyk7XHJcbiAgICAgICAgLy9Qb3dlciBVcHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NwZWVkX3Bvd2VydXAnLCBzcGVlZFBvd2VyVXBTcHJpdGUpO1xyXG4gICAgICAgIC8vUGxheWVyc1xyXG4gICAgICAgIC8vcGFyYSBlbCBpZGxlICh0ZW1wb3JhbClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZhbXBpcmVzYV9mcm9udEVzdCcsIHZhbXBpcmVzYUZyb250RXN0KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3pvbWJpX2Zyb250RXN0Jywgem9tYmlGcm9udEVzdCk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9mcm9udCcsIHZhbXBpcmVzYUZyb250LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9iYWNrJywgdmFtcGlyZXNhYmFjaywgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfbGVmdCcsICB2YW1waXJlc2FMZWZ0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9yaWdodCcsIHZhbXBpcmVzYVJpZ2h0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2Zyb250JywgIHpvbWJpRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfYmFjaycsIHpvbWJpQmFjaywgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9sZWZ0JywgIHpvbWJpTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9yaWdodCcsIHpvbWJpUmlnaHQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vRXNjZW5hcmlvXHJcbiAgICAgICAgY29uc3QgZmxvb3IgPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDEyMDAsIDgwMCwgJ2Zsb29yJykgXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApIFxyXG4gICAgICAgIC5zZXRTY2FsZSgzKSBcclxuICAgICAgICAuc2V0RGVwdGgoMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYm91bmRhcnkgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDYwMCwgNDAwLCAnZ2FtZV9ib3VuZGFyeScpIC8vIDEyMDAvMiB5IDgwMC8yIHBhcmEgcXVlIGVzdMOpIGVuIGVsIGNlbnRyb1xyXG4gICAgICAgIC5zZXRTY2FsZSgzKVxyXG4gICAgICAgIC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnbGVhdmVzJylcclxuICAgICAgICAuc2V0U2NhbGUoMylcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcblxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdnYW1lX211c2ljJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vQmFzZXMgZGUganVnYWRvcmVzLiBDdWFuZG8gc2UgY29saXNpb25lIGNvbiBlbGxhcyArIHRlbmdhbiBjYXJhbWVsbywgc2UgaGFyw6EgY2FsbGJhY2shXHJcbiAgICAgICAgICAgIC8vIEJhc2UgYXp1bCBpenF1aWVyZGEgLSBQTEFZRVIgMVxyXG4gICAgICAgICAgICAvLyBCYXNlIHJvamEgZGVyZWNoYSAtIFBMQVlFUiAyXHJcbiAgICAgICAgY29uc3QgYmFzZV9TSVpFID0gOTY7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMzM7IC8vb2Zmc2V0IHBvciBlbCBnYW1lYm91bmRhcnksIHBhcmEgcXVlIHNhbGdhIGxhIGJhc2UgZW50ZXJhXHJcblxyXG4gICAgICAgIGNvbnN0IGJsdWVCYXNlID0gdGhpcy5hZGQuaW1hZ2UoKGJhc2VfU0laRS8yKSArIG9mZnNldCwgNDAwLCAnYmx1ZUJhc2UnKVxyXG4gICAgICAgIC5zZXRTY2FsZSgzKTtcclxuICAgICAgICBjb25zdCByZWRCYXNlID0gdGhpcy5hZGQuaW1hZ2UoKDEyMDAtYmFzZV9TSVpFKSsgb2Zmc2V0LzIsIDQwMCwgJ3JlZEJhc2UnKVxyXG4gICAgICAgIC5zZXRTY2FsZSgzKTtcclxuXHJcblxyXG4gICAgICAgIC8vVGVtcG9yaXphZG9yXHJcbiAgICAgICAgY29uc3QgdGltZXJJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDYwMCwgOTUsICd0aW1lckltZycpXHJcbiAgICAgICAgLnNldERlcHRoKDk5KVxyXG4gICAgICAgIC5zZXRTY2FsZSg2KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjc1KTtcclxuICAgICAgICBsZXQgdGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCg2MDAsIDEwMCwgXCI0NVwiLCB7Zm9udFNpemU6IFwiNDhweFwiLGNvbG9yOiBcIiNmZmZmZmZcIn0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvdW50ZG93biA9IG5ldyBUaW1lckNvbnRyb2xsZXIodGhpcywgdGltZXJUZXh0KTtcclxuICAgICAgICB0aGlzLnJvdW5kID0gMTtcclxuICAgICAgICB0aGlzLnN0YXJ0Um91bmQoNDUwMDApO1xyXG5cclxuICAgICAgICAvL0FjY2VkZXIgYSBlc2NlbmEgZGUgUGF1c2EgYWwgcHVsc2FyIEVTQ1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICBDb250cm9sYWRvciBkZSBlbnRpZGFkZXMsIGxpc3RhIGRlIGVudGlkYWRlcyBxdWUgYWN0dWFsaXphIGVuICd1cGRhdGUnXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIgPSBuZXcgRW50aXRpZXNDb250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgIC8vUGxheWVyc1xyXG4gICAgICAgIC8vQW5pbWFjaW9uZXNcclxuICAgICAgICAvL1ZhbXBpcmVzYVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAndmFtcGlyZXNhX2Zyb250X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9mcm9udCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LCAvL1ZlbG9jaWRhZCBhbmltYWNpw7NuXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTEgLy9TZSByZXBpdGUgZW4gYnVjbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9iYWNrX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9iYWNrJywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9sZWZ0X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZhbXBpcmVzYV9sZWZ0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9yaWdodF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfcmlnaHQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1pvbWJpZVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfZnJvbnRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfZnJvbnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfYmFja19hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd6b21iaV9iYWNrJywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2xlZnRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfbGVmdCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd6b21iaV9yaWdodF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd6b21iaV9yaWdodCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5rZXlzMSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IC8vUDFcclxuICAgICAgICAgICAgdXA6ICdXJyxcclxuICAgICAgICAgICAgZG93bjogJ1MnLFxyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5rZXlzMiA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IC8vUDJcclxuICAgICAgICAgICAgdXA6ICdJJyxcclxuICAgICAgICAgICAgZG93bjogJ0snLFxyXG4gICAgICAgICAgICBsZWZ0OiAnSicsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnTCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGNvbnRyb2xlcyBhbCBpbmljaW9cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkxPSB0aGlzLmFkZC5pbWFnZSgxODAsIDIwLCAnY29udHJvbFdBU0QnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jb250cm9sc1VJMSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzVUkxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNVSTI9IHRoaXMuYWRkLmltYWdlKDgzMCwgMjAsICdjb250cm9sSUpMSycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLDApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAuc2V0U2NhbGUoMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNvbnRyb2xzVUkyLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNVSTIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG5cclxuICAgICAgICAvL0luc3RhbmNpYXIganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gbmV3IFBsYXllcigxMDAsIDQwMCwgMC40LCAnem9tYmknLCB0aGlzLCB0aGlzLmtleXMxLCAnRScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IG5ldyBQbGF5ZXIoMTEwMCwgNDAwLCAwLjQsICd2YW1waXJlc2EnLCB0aGlzLCB0aGlzLmtleXMyLCAnTycpO1xyXG5cclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5wbGF5ZXIxKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5wbGF5ZXIyKTtcclxuXHJcbiAgICAgICAgLy8gIENhbmR5XHJcbiAgICAgICAgdGhpcy5jYW5keSA9IG5ldyBDYW5keSgwLjIsICdjYW5keScsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2FuZHkuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5jYW5keSk7XHJcblxyXG4gICAgICAgIC8vICBUaHJvd2FibGUgSXRlbXNcclxuICAgICAgICB0aGlzLml0ZW0xID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjEnLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTEuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtMSk7XHJcbiAgICAgICAgdGhpcy5pdGVtMiA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4yJywgdGhpcylcclxuICAgICAgICB0aGlzLml0ZW0yLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuaXRlbTIpO1xyXG4gICAgICAgIHRoaXMuaXRlbTMgPSBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtMy5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW0zKTtcclxuICAgICAgICB0aGlzLml0ZW00ID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtNC5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW00KTtcclxuICAgICAgICB0aGlzLml0ZW01ID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtNS5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW01KTtcclxuXHJcbiAgICAgICAgLy8gIEJhc2tldHNcclxuICAgICAgICB0aGlzLmJhc2tldDEgPSBuZXcgQ2FuZHlCYXNrZXQoKGJhc2VfU0laRS8yKSArIG9mZnNldCwgNDAwLCA3MCwgMzEwLCB0aGlzLnBsYXllcjEsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0MiA9IG5ldyBDYW5keUJhc2tldCgoMTIwMC1iYXNlX1NJWkUpKyBvZmZzZXQvMiwgNDAwLCAxMjAwIC0gOTAsIDMxMCwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyMVNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoNDQ3LCA4MCwgXCIwXCIsIHtmb250U2l6ZTogXCI0OHB4XCIsY29sb3I6IFwiI2ZmZmZmZlwifSlcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg3MjMsIDgwLCBcIjBcIiwge2ZvbnRTaXplOiBcIjQ4cHhcIixjb2xvcjogXCIjZmZmZmZmXCJ9KVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUG93ZXIgVXBcclxuICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcCA9IG5ldyBTcGVlZFBvd2VyVXAoNjAwLCA0MDAsIDAuMywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5zcGVlZFBvd2VyVXApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuY291bnRkb3duLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLlVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0Um91bmQoc2Vjb25kcykge1xyXG5cclxuICAgICAgICB0aGlzLmNvdW50ZG93bi5zdGFydChzZWNvbmRzLCAoKSA9PiB0aGlzLmVuZFJvdW5kKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZFJvdW5kKCl7XHJcbiAgICAgICAgdGhpcy5yb3VuZCsrO1xyXG5cclxuICAgICAgICBpZih0aGlzLmJhc2tldDEuY2FuZGllcyA+IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMVNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjFTY29yZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHRoaXMuYmFza2V0MS5jYW5kaWVzIDwgdGhpcy5iYXNrZXQyLmNhbmRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmVUZXh0LnRleHQgPSBgJHsrK3RoaXMucGxheWVyMlNjb3JlfWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJhc2tldDEuUmVzdGFydCgpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0Mi5SZXN0YXJ0KCk7XHJcblxyXG4gICAgICAgIC8vIFNpIGVzIGxhIMO6bHRpbWEgcm9uZGEsIG1vc3RyYXIgR2FtZU92ZXJcclxuICAgICAgICBpZiAodGhpcy5yb3VuZCA+IDQpIHtcclxuICAgICAgICAgICAgY29uc3QgbXNnR2FtZU92ZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgMzUwLCBgRklOIERFIExBIFBBUlRJREFgLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCI0OHB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmMDAwMGZmXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdpbm5lclRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIxU2NvcmUgPiB0aGlzLnBsYXllcjJTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMSFcIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcjJTY29yZSA+IHRoaXMucGxheWVyMVNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXJUZXh0ID0gXCLCoUdhbmEgSnVnYWRvciAyIVwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFFbXBhdGUhXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ1dpbm5lciA9IHRoaXMuYWRkLnRleHQoNjAwLCA0NTAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjM2cHhcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1zZ0dhbWVPdmVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIG1zZ1dpbm5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiTWFpbk1lbnVcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbXNnUm91bmQgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCBgUm9uZGEgJHt0aGlzLnJvdW5kIC0gMX0gdGVybWluYWRhYCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCI0OHB4XCIsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogXCJib2xkXCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBtc2dSb3VuZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0R1cmF0aW9uID0gTWF0aC5tYXgoMCwgNDUwMDAgLSAoMTUwMDAgKiAodGhpcy5yb3VuZCAtIDEpKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSb3VuZChuZXdEdXJhdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgbWVudVBhdXNlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL1BhdXNlQmFja2dyb3VuZC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBidXR0b25CYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy9pbXBvcnRhciBjbGFzZXMgQnV0dG9uXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uLy4uL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBidXR0b25Tb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3NmeC9CdXR0b25QcmVzcy5tcDMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWVudVBhdXNlJywgbWVudVBhdXNlKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdidXR0b25CYWNrZ3JvdW5kJywgYnV0dG9uQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdidXR0b25fc291bmQnLCBidXR0b25Tb3VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gRm9uZG8gZ3Jpc1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNjAwLCA0MDAsIDEyMDAsIDgwMCwgMHgwMDAwMDAsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIGNlbnRyYWRvXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ21lbnVQYXVzZScpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIC8vIEFqdXN0YXIgbGEgaW1hZ2VuXHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDsgICAvLyBhbmNobyBkZWwgY2FudmFzXHJcbiAgICAgICAgYmcuZGlzcGxheUhlaWdodCA9IDgwMDsgIC8vIGFsdG8gZGVsIGNhbnZhcyBcclxuICAgICAgICBcclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBcIlJlYW51ZGFyXCJcclxuICAgICAgICBjb25zdCByZXN1bWVCdXR0b24gPSBuZXcgQnV0dG9uKDYwMCwgMzAwLCB0aGlzLCAnYnV0dG9uQmFja2dyb3VuZCcsICdSZWFudWRhcicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIERldGVuZXIgbGEgZXNjZW5hIGRlIHBhdXNhXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lU2NlbmUnKTsgLy8gUmVhbnVkYXIgbGEgZXNjZW5hIGRlbCBqdWVnb1xyXG4gICAgICAgIH0sIHsgZm9udFNpemU6ICcyM3B4JyB9KTtcclxuICAgICAgICAgXHJcblxyXG4gICAgICAgIC8vQm90w7NuIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtZW51QnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDQyNSwgdGhpcywgJ2J1dHRvbkJhY2tncm91bmQnLCAnTWVuw7onLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vQXVkaW9NYW5hZ2VyLlBsYXkodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnR2FtZVNjZW5lJyk7IC8vIERldGVuZXIgbGEgZXNjZW5hIGRlbCBqdWVnb1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpOyAvLyBJciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgLy9Cb3TDs24gZGUgXCJBanVzdGVzXCJcclxuICAgICAgICBjb25zdCBjb25maWdCdXR0b24gPSBuZXcgQnV0dG9uKDYwMCwgNTUwLCB0aGlzLCAnYnV0dG9uQmFja2dyb3VuZCcsICdBanVzdGVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL0F1ZGlvTWFuYWdlci5QbGF5KHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NNZW51JywgeyBmcm9tOiAnUGF1c2VTY2VuZScgfSk7IC8vIEFicmlyIGxhIGVzY2VuYSBkZSBjb25maWd1cmFjacOzblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoJ1NldHRpbmdzTWVudScpO1xyXG4gICAgICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTsgLy8gUGF1c2FyIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2NvcmUvRW50aXR5LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lU3BlZWRQb3dlclVwIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzY2VuZSwgaWQpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgJ3NwZWVkX3Bvd2VydXAnLCBzY2VuZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldFNpemUoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC53aWR0aCAqIHNjYWxlLFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QuaGVpZ2h0ICogc2NhbGVcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnNldE9mZnNldChcclxuICAgICAgICAgICAgKHRoaXMuZ2FtZU9iamVjdC53aWR0aCAtIHRoaXMuZ2FtZU9iamVjdC5ib2R5LndpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICh0aGlzLmdhbWVPYmplY3QuaGVpZ2h0IC0gdGhpcy5nYW1lT2JqZWN0LmJvZHkuaGVpZ2h0KSAvIDJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRFbmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwT3ZlcmxhcChsb2NhbFBsYXllciwgc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgIGxvY2FsUGxheWVyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICgpID0+IHRoaXMub25Db2xsZWN0ZWQoKSxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db2xsZWN0ZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IuIE5PIGFwbGljYXIgZWZlY3RvIGFxdcOtXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zZW5kKHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPV0VSVVBfQ09MTEVDVEVEJyxcclxuICAgICAgICAgICAgcG93ZXJVcElkOiB0aGlzLmlkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhY3RpdmF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oeCwgeSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbi8vaW1wb3J0YXIgaW1hZ2VuZXNcclxuLy9KVUVHT1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBmbG9vciBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvc3RvbmVfdGlsZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lX2JvdW5kYXJ5IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9nYW1lX2JvdW5kYXJ5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGxlYXZlcyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvbGVhdmVzX292ZXJsYXkucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYmx1ZUJhc2UgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2JsdWVCYXNlLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHJlZEJhc2UgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3JlZEJhc2UucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZGVzY29uZWN0aW9uU2NyZWVuSW1nIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0Rpc2NvbmVjdGlvbi5qcGcnO1xyXG5cclxuLy9USU1FUlxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB0aW1lckltZyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvVGltZXIxLnBuZyc7XHJcblxyXG4vL0lURU1TXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNhbmR5U3ByaXRlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9jYXJhbWVsby5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHB1bXBraW4yIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmogY2FsYWJhemEgMi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphIDMucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcm9jayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIHBpZWRyYS5wbmcnO1xyXG5cclxuLy9DT05UUk9MRVMvQk9UT05FU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sV0FTRCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc1dBU0QucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbElKTEsgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNJSktMLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG5cclxuLy9QT1dFUiBVUFNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgc3BlZWRQb3dlclVwU3ByaXRlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9vYmpfZm9jb19kZWYucG5nJztcclxuXHJcbi8vUEVSU09OQUpFU1xyXG4vL1BhcmEgZWwgaWRsZSAodGVtcG9yYWwpXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUZyb250RXN0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy92YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvem9tYmllX2Zyb250LnBuZyc7XHJcbi8vQW5pbWFjaW9uZXNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhRnJvbnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfZnJvbnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhYmFjayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9iYWNrLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUxlZnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfbGVmdC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FSaWdodCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3ZhbXBpcmVzYV9yaWdodC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUZyb250IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpQmFjayBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9iYWNrLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpTGVmdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9sZWZ0LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpUmlnaHQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfcmlnaHQucG5nJztcclxuXHJcbi8vU09OSURPU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBnYW1lTXVzaWMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9nYW1lX211c2ljLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHRpbWVyQWxlcnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy90aW1lcl9hbGVydC5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTRlhfQnV0dG9uUHJlc3MgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zZngvQnV0dG9uUHJlc3MubXAzJztcclxuXHJcbi8vQ0xBU0VTXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL3BsYXllci9wbGF5ZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IEVudGl0aWVzQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0VudGl0aWVzQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IFRocm93YWJsZUl0ZW0gfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzJztcclxuaW1wb3J0IHsgQ2FuZHlCYXNrZXQgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9DYW5keUJhc2tldC5qcyc7XHJcbmltcG9ydCB7IFNwZWVkUG93ZXJVcCB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL1NwZWVkUG93ZXJVcC5qcyc7XHJcbmltcG9ydCB7IE9ubGluZUNhbmR5IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvT25saW5lQ2FuZHkuanMnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG4vL2ltcG9ydCB7IE9ubGluZVRocm93YWJsZUl0ZW0gfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzJztcclxuaW1wb3J0IHsgT25saW5lU3BlZWRQb3dlclVwIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvT25saW5lU3BlZWRQb3dlclVwLmpzJztcclxuaW1wb3J0IHsgVGltZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllckdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTXVsdGlwbGF5ZXJHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7ICAgICAgICAgICAgICAgICAvLyBXZWJTb2NrZXRcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyB8ICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmNhbmR5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLml0ZW0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL0dhbWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zsb29yJywgZmxvb3IpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ2FtZV9ib3VuZGFyeScsIGdhbWVfYm91bmRhcnkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGVhdmVzJywgbGVhdmVzKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JsdWVCYXNlJyxibHVlQmFzZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWRCYXNlJyxyZWRCYXNlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpbWVySW1nJywgdGltZXJJbWcpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZ2FtZV9tdXNpYycsIGdhbWVNdXNpYyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIC8vVGltZXJcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RpbWVyX2FsZXJ0JywgdGltZXJBbGVydCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aW1lckltZycsIHRpbWVySW1nKTtcclxuICAgICAgICAvL0l0ZW1zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5keScsIGNhbmR5U3ByaXRlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4xJywgcHVtcGtpbjEpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjInLCBwdW1wa2luMik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMycsIHB1bXBraW4zKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JvY2snLCByb2NrKTtcclxuICAgICAgICAvL0NvbnRyb2xzIHkgQm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbFdBU0QnLCBjb250cm9sV0FTRCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sSUpMSycsIGNvbnRyb2xJSkxLKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICAvL1Bvd2VyIFVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3BlZWRfcG93ZXJ1cCcsIHNwZWVkUG93ZXJVcFNwcml0ZSk7XHJcbiAgICAgICAgLy9QbGF5ZXJzXHJcbiAgICAgICAgLy9wYXJhIGVsIGlkbGUgKHRlbXBvcmFsKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmFtcGlyZXNhX2Zyb250RXN0JywgdmFtcGlyZXNhRnJvbnRFc3QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnem9tYmlfZnJvbnRFc3QnLCB6b21iaUZyb250RXN0KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2Zyb250JywgdmFtcGlyZXNhRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2JhY2snLCB2YW1waXJlc2FiYWNrLCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9sZWZ0JywgdmFtcGlyZXNhTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfcmlnaHQnLCB2YW1waXJlc2FSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9mcm9udCcsIHpvbWJpRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfYmFjaycsIHpvbWJpQmFjaywgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9sZWZ0Jywgem9tYmlMZWZ0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX3JpZ2h0Jywgem9tYmlSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcblxyXG4gICAgICAgIC8vRGVzY29uZWN0aW9uIGltYWdlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkaXNjb25lY3Rpb25TY3JlZW4nLCBkZXNjb25lY3Rpb25TY3JlZW5JbWcpO1xyXG5cclxuICAgICAgICAvL0NhcmdhciBmdWVudGVcclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdCdXR0b25zRm9udCcsICd1cmwoZm9udHMvYWxhZ2FyZF9mb250LnR0ZiknKTtcclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKChsb2FkZWRGb250KSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBJRCBkZWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGxvY2FsVXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDEyMDAsIDgwMCwgJ2Zsb29yJykuc2V0T3JpZ2luKDAsIDApLnNldFNjYWxlKDMpO1xyXG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2dhbWVfYm91bmRhcnknKS5zZXRTY2FsZSgzKS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdsZWF2ZXMnKS5zZXRTY2FsZSgzKS5zZXRBbHBoYSgwLjc1KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gQmFzZXMgZGUganVnYWRvcmVzXHJcbiAgICAgICAgY29uc3QgYmFzZV9TSVpFID0gOTY7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMzM7IC8vb2Zmc2V0IHBvciBlbCBnYW1lYm91bmRhcnksIHBhcmEgcXVlIHNhbGdhIGxhIGJhc2UgZW50ZXJhXHJcblxyXG4gICAgICAgIGNvbnN0IGJsdWVCYXNlID0gdGhpcy5hZGQuaW1hZ2UoKGJhc2VfU0laRS8yKSArIG9mZnNldCwgNDAwLCAnYmx1ZUJhc2UnKVxyXG4gICAgICAgIC5zZXRTY2FsZSgzKTtcclxuICAgICAgICBjb25zdCByZWRCYXNlID0gdGhpcy5hZGQuaW1hZ2UoKDEyMDAtYmFzZV9TSVpFKSsgb2Zmc2V0LzIsIDQwMCwgJ3JlZEJhc2UnKVxyXG4gICAgICAgIC5zZXRTY2FsZSgzKTtcclxuXHJcbiAgICAgICAgLy8gQXVkaW9cclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ2dhbWVfbXVzaWMnLCB7IHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLCBsb29wOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sYWRvcmVzXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIgPSBuZXcgRW50aXRpZXNDb250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgIC8vIEluc3RhbmNpYXIganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5rZXlzMSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IHVwOiAnVycsIGRvd246ICdTJywgbGVmdDogJ0EnLCByaWdodDogJ0QnIH0pO1xyXG4gICAgICAgIHRoaXMua2V5czIgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyB1cDogJ0knLCBkb3duOiAnSycsIGxlZnQ6ICdKJywgcmlnaHQ6ICdMJyB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gbmV3IFBsYXllcigxMDAsIDQwMCwgMC40LCAnem9tYmknLCB0aGlzLCB0aGlzLmtleXMxLCAnRScsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG5ldyBQbGF5ZXIoMTEwMCwgNDAwLCAwLjQsICd2YW1waXJlc2EnLCB0aGlzLCBudWxsLCBudWxsLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMicpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBuZXcgUGxheWVyKDExMDAsIDQwMCwgMC40LCAndmFtcGlyZXNhJywgdGhpcywgdGhpcy5rZXlzMiwgJ08nLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBuZXcgUGxheWVyKDEwMCwgNDAwLCAwLjQsICd6b21iaScsIHRoaXMsIG51bGwsIG51bGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5sb2NhbFBsYXllcik7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMucmVtb3RlUGxheWVyKTtcclxuXHJcbiAgICAgICAgLy8gSXRlbXMsIGNhbmR5IGJhc2tldHMsIHBvd2VyLXVwc1xyXG4gICAgICAgIC8qIHRoaXMuY2FuZHkgPSBuZXcgQ2FuZHkoMC4yLCAnY2FuZHknLCB0aGlzKTtcclxuICAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuY2FuZHkpOyovXHJcblxyXG4gICAgICAgIC8vICBCYXNrZXRzXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxID0gbmV3IENhbmR5QmFza2V0KCgxMjAwLWJhc2VfU0laRSkrIG9mZnNldC8yLCA0MDAsIDcwLCAzMTAsIHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0MiA9IG5ldyBDYW5keUJhc2tldCgoYmFzZV9TSVpFLzIpICsgb2Zmc2V0LCA0MDAsIDEyMDAgLSA5MCwgMzEwLCB0aGlzLnJlbW90ZVBsYXllciwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMVNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDQ0NywgODAsIFwiMFwiLCB7IGZvbnRTaXplOiBcIjQ4cHhcIiwgY29sb3I6IFwiI2ZmZmZmZlwiIH0pXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG4gICAgICAgIHRoaXMucGxheWVyMlNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDcyMywgODAsIFwiMFwiLCB7IGZvbnRTaXplOiBcIjQ4cHhcIiwgY29sb3I6IFwiI2ZmZmZmZlwiIH0pXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuICAgICAgICAvLyBBZ3JlZ2FyIHRocm93YWJsZSBpdGVtc1xyXG4gICAgICAgIC8qIHRoaXMuaXRlbXMgPSBbXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4xJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4yJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4zJywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKSxcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkoaXRlbSkpO1xyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uc2V0dXBPdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKSk7Ki9cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxID0gbmV3IENhbmR5QmFza2V0KDYwLCA0MDAsIDcwLCAzMTAsIHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFza2V0MiA9IG5ldyBDYW5keUJhc2tldCgxMjAwIC0gNjAsIDQwMCwgMTIwMCAtIDkwLCAzMTAsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLyp0aGlzLnNwZWVkUG93ZXJVcCA9IG5ldyBTcGVlZFBvd2VyVXAoNjAwLCA0MDAsIDAuMywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuc3BlZWRQb3dlclVwKTtcclxuICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcC5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpOyovXHJcblxyXG4gICAgICAgIC8vICBUZW1wb3JpemFkb3JcclxuICAgICAgICB0aGlzLnRpbWVySW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDk1LCAndGltZXJJbWcnKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OSlcclxuICAgICAgICAuc2V0U2NhbGUoNilcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KDYwMCwgMTAwLCBcIjQ1XCIsIHsgZm9udFNpemU6IFwiNDhweFwiLCBjb2xvcjogXCIjZmZmZmZmXCIgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24gPSBuZXcgVGltZXJDb250cm9sbGVyKHRoaXMsIHRoaXMudGltZXJUZXh0KTtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlICE9PSBcInBsYXllcjFcIikgdGhpcy5jb3VudGRvd24uZGlzYWJsZUNvdW50ZG93bigpO1xyXG4gICAgICAgIHRoaXMucm91bmQgPSAxO1xyXG4gICAgICAgIHRoaXMuc3RhcnRSb3VuZCg0NTAwMCk7XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBJTlBVVCBMT0NBTFxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFdFQlNPQ0tFVFxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0KCk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBxdWUgZXN0YW1vcyBsaXN0b3NcclxuICAgICAgICB0aGlzLnNlbmQoeyB0eXBlOiAnUExBWUVSX1JFQURZJyB9KTtcclxuICAgICAgICB0aGlzLndzLmluTG9iYnkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcIkdBTUVfU0NFTkVfUkVBRFlcIiB9KSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTXVsdGlwbGF5ZXJHYW1lU2NlbmU6IGhhbmRsZXIgYWN0aXZhZG9cIik7XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1NUQVJUX0dBTUUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVEFSVF9HQU1FIHJlY2liaWRvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnVVBEQVRFX1RJTUVSJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5vd25lciAhPT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRkb3duLnNldChkYXRhLnRpbWVMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnUExBWUVSX01PVkVEJzpcclxuICAgICAgICAgICAgICAgICAgICAvLyBTb2xvIG1vdmVyIGFsIGp1Z2Fkb3IgUkVNT1RPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGxheWVyICE9PSB0aGlzLnBsYXllclJvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuTW92ZVRvKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ0FORFlfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDQU5EWV9TUEFXTiByZWNpYmlkbycsIGRhdGEuY2FuZHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5keSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5ID0gbmV3IE9ubGluZUNhbmR5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYW5keS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbmR5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhbmR5LmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmNhbmR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNhbmR5LnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzLnJlbW90ZVBsYXllciwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5Nb3ZlVG8oZGF0YS5jYW5keS54LCBkYXRhLmNhbmR5LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5Lmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdJVEVNX1NQQVdOJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgSVRFTV9TUEFXTiByZWNpYmlkbyDihpIgSUQ6ICR7ZGF0YS5pdGVtLmlkfSwgeDogJHtkYXRhLml0ZW0ueH0sIHk6ICR7ZGF0YS5pdGVtLnl9YCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJbmljaWFsaXphciBhcnJheSBzaSBubyBleGlzdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXRlbXMpIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVzY2FyIHNpIHlhIGV4aXN0ZSB1biBpdGVtIGNvbiBlc3RlIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nSXRlbSA9IHRoaXMuaXRlbXMuZmluZChpdCA9PiBpdC5pZCA9PT0gZGF0YS5pdGVtLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXIgbnVldm8gT25saW5lVGhyb3dhYmxlSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gbmV3IE9ubGluZVRocm93YWJsZUl0ZW0oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLnNwcml0ZSwgIC8vIGFxdcOtIHVzYXIgc3ByaXRlIHF1ZSB2aWVuZSBkZWwgc2VydmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eShuZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3VhcmRhciBlbiBlbCBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBwb3NpY2nDs24gZGVsIGl0ZW0gZXhpc3RlbnRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbS5Nb3ZlVG8oZGF0YS5pdGVtLngsIGRhdGEuaXRlbS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJdGVtLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX1NQQVdOOicsIGRhdGEucG93ZXJVcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zcGVlZFBvd2VyVXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXIgcG9yIHByaW1lcmEgdmV6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbmV3IE9ubGluZVNwZWVkUG93ZXJVcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBZYSBleGlzdGUg4oaSIGFjdHVhbGl6YXIgSUQsIHBvc2ljacOzbiB5IHJlYWN0aXZhcmxvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmlkID0gZGF0YS5wb3dlclVwLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcC5hY3RpdmF0ZShkYXRhLnBvd2VyVXAueCwgZGF0YS5wb3dlclVwLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdQT1dFUlVQX0RFU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX0RFU1BBV046JywgZGF0YS5wb3dlclVwSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkUG93ZXJVcD8uaWQgPT09IGRhdGEucG93ZXJVcElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwbGljYXIgZWZlY3RvIFNPTE8gYWwganVnYWRvciBjb3JyZWN0b1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3BlZWQgPSB0aGlzLmxvY2FsUGxheWVyLnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkICo9IDEuNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkID0gb3JpZ2luYWxTcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfUkVTUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuYWN0aXZhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBvd2VyVXAueVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRUpFQ1VUQU5ETyBIQU5ETEUgRElTQ09OTkVDVCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0VsIG90cm8ganVnYWRvciBzZSBoYSBkZXNjb25lY3RhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCAnVm9sdmVyIGFsIG1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5zaG93RGlzY29ubmVjdFNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dEaXNjb25uZWN0U2NyZWVuKCkge1xyXG4gICAgICAgIC8vIEJvcnJhciB0aW1lciB5IHB1bnR1YWNpb25lcy4gQW1iYXMgZXN0w6FuIGRlbGFudGUgZGUgbGEgcGFudGFsbGEsIGFzw60gcSBlcyBuZWNlc2FyaW8gYm9ycmFyXHJcbiAgICAgICAgdGhpcy50aW1lckltYWdlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0LmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAvLyBNb3N0cmFyIGltYWdlbiBkZSBkZXNjb25leGnDs25cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnZGlzY29uZWN0aW9uU2NyZWVuJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDg4MCwgNjAwLCB0aGlzLCAnU1BSX0J1dHRvbicsICdNZW7DuicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kKG1zZykge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVVBEQVRFIGVqZWN1dMOhbmRvc2VcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5nYW1lU3RhcnRlZCB8fCB0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBBY3R1YWxpemFyIGxvY2FsXHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5VcGRhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gRW52aWFyIHBvc2ljacOzbiBhbCBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmQoe1xyXG4gICAgICAgICAgICB0eXBlOiAnUExBWUVSX01PVkUnLFxyXG4gICAgICAgICAgICBwbGF5ZXI6IHRoaXMucGxheWVyUm9sZSxcclxuICAgICAgICAgICAgeDogdGhpcy5sb2NhbFBsYXllci54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGxheWVyLnlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW92ZXIgY2FyYW1lbG8gY29uIGVsIGp1Z2Fkb3IgcXVlIGxvIHRpZW5lXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxQbGF5ZXIuaGFzQ2FuZHkgJiYgdGhpcy5sb2NhbFBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmR5ID0gdGhpcy5sb2NhbFBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nO1xyXG4gICAgICAgICAgICBjYW5keS5Nb3ZlVG8odGhpcy5sb2NhbFBsYXllci54LCB0aGlzLmxvY2FsUGxheWVyLnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlUGxheWVyLmhhc0NhbmR5ICYmIHRoaXMucmVtb3RlUGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FuZHkgPSB0aGlzLnJlbW90ZVBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nO1xyXG4gICAgICAgICAgICBjYW5keS5Nb3ZlVG8odGhpcy5yZW1vdGVQbGF5ZXIueCwgdGhpcy5yZW1vdGVQbGF5ZXIueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3VudGRvd24uY2FuQ291bnREb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVudmlhciB0aWVtcG8gYWN0dWFsaXphZG9cclxuICAgICAgICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdVUERBVEVfVElNRScsXHJcbiAgICAgICAgICAgICAgICBvd25lcjogdGhpcy5wbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICAgICAgdGltZUxlZnQ6IHRoaXMuY291bnRkb3duLnJlbWFpbmluZ1RpbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBY3R1YWxpemFyIHRvZG8gbG8gZGVtw6FzXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24udXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzKSB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRSb3VuZChzZWNvbmRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY291bnRkb3duLmNhbkNvdW50RG93bikgdGhpcy5jb3VudGRvd24uc3RhcnQoc2Vjb25kcywgKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgICAgICBlbHNlIHRoaXMuY291bnRkb3duLnNldE5vdENvb2xkb3duRXZlbnQoKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHJlYXNvbikge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSByZWFzb24gPT09ICdkaXNjb25uZWN0JyA/ICdKdWdhZG9yIGRlc2NvbmVjdGFkbycgOiAnRmluIGRlIGxhIHBhcnRpZGEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsIHRleHQsIHsgZm9udFNpemU6ICc0OHB4JywgY29sb3I6ICcjZmZmZmZmJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRSb3VuZCgpIHtcclxuICAgICAgICB0aGlzLnJvdW5kKys7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhc2tldDEuY2FuZGllcyA+IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMVNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjFTY29yZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2tldDEuY2FuZGllcyA8IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjJTY29yZX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxLlJlc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIuUmVzdGFydCgpO1xyXG5cclxuICAgICAgICAvLyBTaSBlcyBsYSDDumx0aW1hIHJvbmRhLCBtb3N0cmFyIEdhbWVPdmVyXHJcbiAgICAgICAgaWYgKHRoaXMucm91bmQgPiA0KSB7XHJcbiAgICAgICAgICAgIGxldCB3aW5uZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbXNnR2FtZU92ZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgMzUwLCBgRklOIERFIExBIFBBUlRJREFgLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCI0OHB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmMDAwMGZmXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdpbm5lclRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIxU2NvcmUgPiB0aGlzLnBsYXllcjJTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMSFcIjtcclxuICAgICAgICAgICAgICAgIHdpbm5lciA9ICdwbGF5ZXIxJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcjJTY29yZSA+IHRoaXMucGxheWVyMVNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXJUZXh0ID0gXCLCoUdhbmEgSnVnYWRvciAyIVwiO1xyXG4gICAgICAgICAgICAgICAgd2lubmVyID0gJ3BsYXllcjInO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFFbXBhdGUhXCI7XHJcbiAgICAgICAgICAgICAgICAgd2lubmVyID0gJ2VtcGF0ZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ1dpbm5lciA9IHRoaXMuYWRkLnRleHQoNjAwLCA0NTAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjM2cHhcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1zZ0dhbWVPdmVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIG1zZ1dpbm5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiTWFpbk1lbnVcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9TaSBlbXBhdGEgbyBnYW5hLCBhw7FhZGlyIHdpblxyXG4gICAgICAgICAgICBpZiAoIHdpbm5lciA9PT0gJ2VtcGF0ZScgfHwgd2lubmVyID09PSB0aGlzLnBsYXllclJvbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkV2luVG9DdXJyZW50VXNlcigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtc2dSb3VuZCA9IHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsIGBSb25kYSAke3RoaXMucm91bmQgLSAxfSB0ZXJtaW5hZGFgLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjQ4cHhcIixcclxuICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1zZ1JvdW5kLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RHVyYXRpb24gPSBNYXRoLm1heCgwLCA0NTAwMCAtICgxNTAwMCAqICh0aGlzLnJvdW5kIC0gMSkpKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFJvdW5kKG5ld0R1cmF0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRXaW5Ub0N1cnJlbnRVc2VyKCkge1xyXG4gICAgICAgIC8vIE9idGVuZXIgaWQgZGUgbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VySWR9L3dpbmAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgICAgICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfj4YgV2luIGHDsWFkaWRvOicsIHVzZXIud2lucyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYcOxYWRpciB3aW4nLCBlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyLCB7IEdhbWUgfSBmcm9tICdwaGFzZXInO1xyXG5cclxuaW1wb3J0IHsgTG9naW5TY2VuZSB9IGZyb20gJy4vc2NlbmVzL0xvZ2luU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNYWluTWVudSB9IGZyb20gJy4vc2NlbmVzL01haW5NZW51LmpzJztcclxuaW1wb3J0IHsgUGxheU1vZGVNZW51IH0gZnJvbSAnLi9zY2VuZXMvUGxheU1vZGVNZW51LmpzJztcclxuaW1wb3J0IHsgVHV0b3JpYWxNZW51IH0gZnJvbSAnLi9zY2VuZXMvVHV0b3JpYWxNZW51LmpzJztcclxuaW1wb3J0IHsgU2V0dGluZ3NNZW51IH0gZnJvbSAnLi9zY2VuZXMvU2V0dGluZ3NNZW51LmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c01lbnUgfSBmcm9tICcuL3NjZW5lcy9DcmVkaXRzTWVudS5qcyc7XHJcbmltcG9ydCB7IExvYmJ5IH0gZnJvbSAnLi9zY2VuZXMvTG9iYnkuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE11bHRpcGxheWVyR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMnO1xyXG5cclxuY29uc3QgX0NPTkZJRyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDEyMDAsXHJcbiAgICBoZWlnaHQ6IDgwMCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2NlbmU6IFtMb2dpblNjZW5lLCBNYWluTWVudSwgUGxheU1vZGVNZW51LCBUdXRvcmlhbE1lbnUsIFNldHRpbmdzTWVudSwgQ3JlZGl0c01lbnUsIExvYmJ5LCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIFxyXG4gICAgTXVsdGlwbGF5ZXJHYW1lU2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICBwaXhlbEFydDogdHJ1ZSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBfR0FNRSA9IG5ldyBQaGFzZXIuR2FtZShfQ09ORklHKTtcclxuLy8gQXNlZ3VyYXIgcXVlIGNvbWllbnphIGVuIGxvZ2luXHJcbl9HQU1FLnNjZW5lLnN0YXJ0KCdMb2dpblNjZW5lJyk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJQaGFzZXIiLCJBdWRpb01hbmFnZXIiLCJ2b2x1bWUiLCJTZXRWb2x1bWUiLCJ2IiwiR2V0Vm9sdW1lIiwiUGxheSIsImF1ZGlvIiwic2NlbmUiLCJzb3VuZCIsInBsYXkiLCJCdXR0b24iLCJjb25zdHJ1Y3RvciIsIngiLCJ5IiwidGV4dHVyZSIsInRleHQiLCJjYWxsYmFjayIsInN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJpbWFnZSIsImFkZCIsInNldE9yaWdpbiIsImNvbnRhaW5lciIsInNldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRUaW50Iiwic2V0Q29sb3IiLCJjbGVhclRpbnQiLCJzZXRUZXh0IiwibmV3VGV4dCIsInNldFBvc2l0aW9uIiwiZGVzdHJveSIsIkxvZ2luU2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiRm9udEZhY2UiLCJ0aGVuIiwibG9hZGVkRm9udCIsImZvbnRzIiwiY3JlYXRlIiwiY29uc29sZSIsImxvZyIsImJnIiwiZGlzcGxheVdpZHRoIiwiZGlzcGxheUhlaWdodCIsInN0b3BBbGwiLCJtdXNpYyIsImxvb3AiLCJ1c2VybmFtZSIsImZvY3VzZWQiLCJyZWN0YW5nbGUiLCJpbnB1dEJnIiwic2V0U3Ryb2tlU3R5bGUiLCJpbnB1dFRleHQiLCJsaW5lIiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJ2aXNpYmxlIiwiaW5wdXQiLCJtYW5hZ2VyIiwiY2FudmFzIiwiY3Vyc29yIiwicG9pbnRlciIsIm9iamVjdHMiLCJpbmNsdWRlcyIsImtleWJvYXJkIiwiZXZlbnQiLCJrZXkiLCJzbGljZSIsInRyaW0iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcyIsImpzb24iLCJ1c2VyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImlkIiwiU3RhcnRNZW51IiwidXNlcklkIiwiZ2V0SXRlbSIsIm9rIiwiY2F0Y2giLCJyZW1vdmVJdGVtIiwiY2FtZXJhcyIsIm1haW4iLCJmYWRlT3V0Iiwib25jZSIsIlNjZW5lMkQiLCJFdmVudHMiLCJGQURFX09VVF9DT01QTEVURSIsInN0YXJ0IiwiTWFpbk1lbnUiLCJTdGFydFBsYXkiLCJTdGFydFR1dG9yaWFsIiwiU3RhcnRTZXR0aW5ncyIsIlN0YXJ0Q3JlZGl0cyIsIlN0YXJ0TG9jYWxHYW1lIiwic2hvd0N1cnJlbnRVc2VyIiwiZmFkZUluIiwid2FybiIsIlBsYXlNb2RlTWVudSIsIkdvQmFjayIsImluaXQiLCJkYXRhIiwic29ja2V0Iiwicm9vbUlkIiwiVHV0b3JpYWxNZW51IiwicGxheWVyMUljb24iLCJwbGF5ZXIySWNvbiIsImNvbnRyb2xzVUkxIiwic2V0RGVwdGgiLCJjb250cm9sc1VJMiIsIlNldHRpbmdzTWVudSIsImJhcldpZHRoIiwidm9sdW1lQmFyIiwiY3VycmVudFZvbHVtZSIsInZvbHVtZUluZGljYXRvciIsImJhclgiLCJoYW5kbGUiLCJjaXJjbGUiLCJkcmFnZ2FibGUiLCJzZXREcmFnZ2FibGUiLCJkcmFnWCIsImRyYWdZIiwic2V0Vm9sdW1lIiwibG9jYWxYIiwiQ2xhbXAiLCJvcGVuZWRGcm9tIiwic3RvcCIsInJlc3VtZSIsIkluaXQiLCJmcm9tIiwiQ3JlZGl0c01lbnUiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJsb2dvSW1nIiwic2V0QWxwaGEiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwiZGVsYXllZENhbGwiLCJTaG93Q3JlZGl0c01lbnUiLCJjcmVkaXRzR3J1cG8iLCJmb3JFYWNoIiwibmFtZSIsImluZGV4IiwiYWxpZ24iLCJMb2JieSIsInN0YXJ0QnV0dG9uIiwid3MiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwic3RhdGVUZXh0IiwiTGVhdmUiLCJwbGF5ZXIxTmFtZSIsInBsYXllcjJOYW1lIiwiY29ubmVjdFRvU2VydmVyIiwiTGVhdmVRdWV1ZSIsIndzVXJsIiwiaG9zdCIsImluTG9iYnkiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJlcnJvciIsIm9uZXJyb3IiLCJvbmNsb3NlIiwiaXNBY3RpdmUiLCJwbGF5ZXIxVXNlcm5hbWUiLCJwbGF5ZXIyVXNlcm5hbWUiLCJlbmVteUlkIiwicm9sZSIsInBsYXllclJvbGUiLCJjbG9zZSIsIlRpbWVyQ29udHJvbGxlciIsInJlbWFpbmluZ1RpbWUiLCJjYW5Db3VudERvd24iLCJjeWNsZXMiLCJtYXhDeWNsZXMiLCJkaXNhYmxlQ291bnRkb3duIiwic2V0Iiwic2V0Tm90Q29vbGRvd25FdmVudCIsIm5vdENvb2xkb3duRXZlbnQiLCJhbGVydFBsYXllZCIsInRpbWVyRXZlbnQiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJlbGFwc2VkIiwiZ2V0RWxhcHNlZCIsInNlY29uZHMiLCJNYXRoIiwibWF4IiwidG9GaXhlZCIsIkVudGl0aWVzQ29udHJvbGxlciIsImVudGl0aWVzIiwiQWRkRW50aXR5IiwiZW50aXR5IiwicHVzaCIsIlVwZGF0ZSIsImVsZW1lbnQiLCJFbnRpdHkiLCJzY2FsZSIsInNwcml0ZSIsInVzZVNwcml0ZSIsImdhbWVPYmplY3QiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0T2Zmc2V0IiwiTW92ZVRvIiwiVXBkYXRlQm9keUNvb3JkcyIsIk1vdmUiLCJJdGVtIiwicGxheWVyR3JhYmJpbmciLCJzZXR1cE92ZXJsYXAiLCJwbGF5ZXIxIiwicGxheWVyMiIsIm92ZXJsYXAiLCJHcmFiSXRlbSIsInBsYXllciIsImN1cnJlbnRJdGVtR3JhYmJpbmciLCJDbGVhclBsYXllciIsIkNhbmR5IiwiUmVzZXQiLCJoYXNTcGF3bmVkIiwic3Bhd25UaW1lIiwiQmV0d2VlbiIsIlRocm93YWJsZUl0ZW0iLCJ0aHJvd1NwZWVkWCIsInRocm93U3BlZWRZIiwiaXNUaHJvd24iLCJ0aHJvd093bmVyIiwiS25vY2tPdXQiLCJUaHJvdyIsInhEaXIiLCJ5RGlyIiwiVGhyb3dNb3ZlbWVudCIsImFicyIsInNpZ24iLCJPbmxpbmVDYW5keSIsIk9uQ29sbGVjdGVkIiwiY2FuZHlJZCIsIlBsYXllciIsImNoYXJhY3Rlck5hbWUiLCJjdXJzb3JzIiwiZ3JhYkl0ZW1LZXkiLCJpc0xvY2FsIiwic3BlZWQiLCJoYXNDYW5keSIsImhhc0ludGVyYWN0ZWRXaXRoSXRlbXMiLCJoYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uIiwiZ3JhYkl0ZW1JbnB1dE9uIiwiaXRlbUludGVyYWN0aW9uQ29vbGRvd24iLCJmYWNpbmdYIiwiZmFjaW5nWSIsImtub2NrT3V0VGltZXIiLCJncmFiS2V5IiwiYWRkS2V5IiwiSW5wdXQiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiTW92ZW1lbnQiLCJJdGVtSW5wdXRzIiwiQ2hlY2tQaWNrdXAiLCJ2eCIsInZ5IiwibW92aW5nIiwibGVmdCIsImlzRG93biIsInJpZ2h0IiwidXAiLCJkb3duIiwiYW5pbWF0aW9uIiwiYW5pbXMiLCJzZXRUZXh0dXJlIiwiZ2FtZSIsImRlbHRhIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInN5cyIsImNvbmZpZyIsIml0ZW0iLCJlbnRpdGllc0NvbnRyb2xsZXIiLCJkeCIsImR5IiwiZGlzdGFuY2VUaHJlc2hvbGQiLCJEZWxpdmVyQ2FuZHkiLCJjYW5keSIsIkNhbmR5QmFza2V0IiwidGV4dFgiLCJ0ZXh0WSIsInBsYXllck93bmVyIiwib3duZXIiLCJjYW5kaWVzIiwiYmFja2dyb3VuZENvbG9yIiwiQ2hlY2tGb3JDYW5keSIsImxvY2FsUGxheWVyIiwiUmVzdGFydCIsIlNwZWVkUG93ZXJVcCIsImFjdGl2ZSIsImFwcGx5Iiwic2V0VmlzaWJsZSIsImVuYWJsZSIsIm9yaWdpbmFsU3BlZWQiLCJyZXNwYXduIiwiR2FtZVNjZW5lIiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ0aWxlU3ByaXRlIiwic2V0SW1tb3ZhYmxlIiwidGltZXJUZXh0IiwiY291bnRkb3duIiwicm91bmQiLCJzdGFydFJvdW5kIiwicGF1c2UiLCJsYXVuY2giLCJmcmFtZXMiLCJnZW5lcmF0ZUZyYW1lTnVtYmVycyIsImVuZCIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImtleXMxIiwiYWRkS2V5cyIsImtleXMyIiwiaXRlbTEiLCJpdGVtMiIsIml0ZW0zIiwiaXRlbTQiLCJpdGVtNSIsImJhc2tldDEiLCJiYXNrZXQyIiwicGxheWVyMVNjb3JlIiwicGxheWVyMVNjb3JlVGV4dCIsInBsYXllcjJTY29yZSIsInBsYXllcjJTY29yZVRleHQiLCJzcGVlZFBvd2VyVXAiLCJlbmRSb3VuZCIsIm1zZ0dhbWVPdmVyIiwiZm9udFN0eWxlIiwid2lubmVyVGV4dCIsIm1zZ1dpbm5lciIsIm1zZ1JvdW5kIiwibmV3RHVyYXRpb24iLCJQYXVzZVNjZW5lIiwiYnJpbmdUb1RvcCIsIk9ubGluZVNwZWVkUG93ZXJVcCIsInNldEFsbG93R3Jhdml0eSIsInNldEVuYWJsZSIsIm9uQ29sbGVjdGVkIiwicG93ZXJVcElkIiwiZGVhY3RpdmF0ZSIsImFjdGl2YXRlIiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJNdWx0aXBsYXllckdhbWVTY2VuZSIsImdhbWVTdGFydGVkIiwiZ2FtZUVuZGVkIiwicmVtb3RlUGxheWVyIiwidGltZXJJbWFnZSIsInNldHVwV2ViU29ja2V0IiwidGltZUxlZnQiLCJpdGVtcyIsImV4aXN0aW5nSXRlbSIsImZpbmQiLCJpdCIsIm5ld0l0ZW0iLCJPbmxpbmVUaHJvd2FibGVJdGVtIiwicG93ZXJVcCIsImVuZEdhbWUiLCJ3aW5uZXIiLCJoYW5kbGVEaXNjb25uZWN0Iiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJjcmVhdGVNZW51QnV0dG9uIiwic2hvd0Rpc2Nvbm5lY3RTY3JlZW4iLCJtc2ciLCJzaHV0ZG93biIsInJlYXNvbiIsImFkZFdpblRvQ3VycmVudFVzZXIiLCJ3aW5zIiwiZXJyIiwiX0NPTkZJRyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJwaXhlbEFydCIsImRvbSIsImNyZWF0ZUNvbnRhaW5lciJdLCJzb3VyY2VSb290IjoiIn0=