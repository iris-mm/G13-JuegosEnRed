(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=i[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=Phaser,s={volume:.1,SetVolume(e){this.volume=e},GetVolume(){return this.volume},Play(e,t){t.sound.play(e,{volume:this.volume})}};class i{constructor(e,t,i,a,n,r,o={}){this.scene=i,this.style={fontFamily:"ButtonsFont",fontSize:"29px",color:"#ffffff",...o},this.image=i.add.image(0,0,a),this.text=i.add.text(0,0,n,this.style).setOrigin(.5),this.container=i.add.container(e,t,[this.image,this.text]),this.container.setSize(this.image.width,this.image.height),this.container.setScale(1.5),this.container.setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.image.setTint(16776960),this.text.setColor("#ffffdd"),this.text.setScale(1.2)}).on("pointerout",()=>{this.image.clearTint(),this.text.setColor("#ffffffff"),this.text.setScale(1)}).on("pointerdown",()=>{s.Play("SFX_ButtonPress",this.scene),r()})}setText(e){this.text.setText(e)}setPosition(e,t){this.container.setPosition(e,t)}destroy(){this.container.destroy()}}const a=e.p+"b407307dacd2d4ad4c5d.jpg",n=e.p+"aef8fe9cfb896b6ec2b8.png",r=e.p+"public/assets/music_sounds/ButtonPress.mp3",o=e.p+"public/assets/music_sounds/MainMenu.mp3";class h extends t.Scene{constructor(){super("LoginScene")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",r),this.load.audio("MUSIC_MainMenu",o),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){console.log("LOGIN SCENE CREATE");const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play();let t="",a=!1;this.add.rectangle(600,450,500,350,0,.6).setOrigin(.5);const n=this.add.rectangle(600,420,420,50,16777215).setStrokeStyle(2,0).setInteractive({useHandCursor:!0}),r=this.add.text(402,420,"",{fontFamily:"ButtonsFont",fontSize:"28px",color:"#000000"}).setOrigin(0,.5),o=this.add.rectangle(r.x+2,420,2,30,0);this.time.addEvent({delay:500,loop:!0,callback:()=>{o.visible=a}}),n.on("pointerdown",()=>{a=!0,this.input.manager.canvas.style.cursor="text"}),this.input.on("pointerdown",(e,t)=>{t.includes(n)||(a=!1,this.input.manager.canvas.style.cursor="default")}),this.input.keyboard.on("keydown",e=>{a&&("Backspace"===e.key?t=t.slice(0,-1):1===e.key.length&&t.length<12&&(t+=e.key),r.setText(t),o.x=r.x+r.width+4)}),new i(600,540,this,"SPR_Button","Login",()=>{t.trim()&&fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})}).then(e=>e.json()).then(e=>{localStorage.setItem("userId",e.id),this.StartMenu()})});const h=localStorage.getItem("userId");h&&fetch(`/api/users/${h}`).then(e=>{if(!e.ok)throw new Error;this.StartMenu()}).catch(()=>{localStorage.removeItem("userId")}),this.add.text(600,330,"Introduce tu nombre",{fontFamily:"ButtonsFont",fontSize:"32px",color:"#ffffff"}).setOrigin(.5)}StartMenu(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}class l extends t.Scene{constructor(){super("MainMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n),this.load.audio("SFX_ButtonPress",r),this.load.audio("MUSIC_MainMenu",o),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(600,350,this,"SPR_Button","Online",()=>this.StartPlay()),new i(300,700,this,"SPR_Button","Tutorial",()=>this.StartTutorial(),{fontSize:"25px"}),new i(600,700,this,"SPR_Button","Ajustes",()=>this.StartSettings()),new i(900,700,this,"SPR_Button","Créditos",()=>this.StartCredits(),{fontSize:"25px"}),new i(600,500,this,"SPR_Button","Local",()=>this.StartLocalGame()),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_MainMenu",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.showCurrentUser(),this.cameras.main.fadeIn(100,0,0,0)}showCurrentUser(){const e=localStorage.getItem("userId");e&&fetch(`/api/users/${e}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(e=>{this.add.text(1170,30,`${e.username}`,{fontFamily:"ButtonsFont",fontSize:"40px",color:"#ffffff"}).setOrigin(1,0)}).catch(()=>{console.warn("No se pudo cargar el usuario")})}StartPlay(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("Lobby"))}StartTutorial(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("TutorialMenu"))}StartSettings(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("SettingsMenu"))}StartCredits(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("CreditsMenu"))}StartLocalGame(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("GameScene"))}}class d extends t.Scene{constructor(){super("PlayModeMenu")}preload(){this.load.image("IMG_Background",a),this.load.image("SPR_Button",n)}create(){const e=this.add.image(600,400,"IMG_Background");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(420,400,this,"SPR_Button","Crear Partida",null),new i(780,400,this,"SPR_Button","Unirse a Partida",null),new i(600,550,this,"SPR_Button","Local",null),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}init(e){this.socket=e.socket,this.roomId=e.roomId}}const c=e.p+"9a928a9771ed5cc44933.png",m=e.p+"847e97fd19535fdc4879.png",p=e.p+"2ef0c778cd3a032c2a24.png",u=e.p+"04f18ed3df26adbfcd22.png",g=e.p+"2e7e3e24e916d2095b86.png";class y extends t.Scene{constructor(){super("TutorialMenu")}preload(){this.load.image("IMG_DefaultBackground",c),this.load.image("SPR_Button",n),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p),this.load.image("controlWASD",u),this.load.image("controlIJLK",g)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.player1Icon=this.add.image(350,450,"SPR_Zombie"),this.player2Icon=this.add.image(850,450,"SPR_Vampire"),this.controlsUI1=this.add.image(190,100,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.35),this.controlsUI2=this.add.image(700,100,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.35),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0)}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}}const f=e.p+"7a873f3ca0b32de0935a.jpg",b=e.p+"public/assets/music_sounds/Settings.mp3";class S extends t.Scene{constructor(){super("SettingsMenu")}preload(){this.load.image("IMG_SettingsBackground",f),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Settings",b)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Settings",{volume:s.GetVolume(),loop:!0}),this.music.play();const e=this.add.image(600,400,"IMG_SettingsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack()),this.cameras.main.fadeIn(100,0,0,0),this.add.text(600,365,"Volumen",{fontSize:"32px",color:"#2c2a2aff"}).setOrigin(.5);const a=300,n=this.add.rectangle(600,400,a,20,8947848);let r=s.GetVolume();this.sound.volume=r;const o=this.add.rectangle(450+r*a/2,400,r*a,20,2236962),h=this.add.circle(450+r*a,400,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(h),h.on("drag",(e,t,i)=>{t<450&&(t=450),t>750&&(t=750),h.x=t,r=(h.x-450)/a,s.SetVolume(r),this.sound.setVolume(r),o.width=r*a}),n.setInteractive(),n.on("pointerdown",e=>{const i=e.x-450;r=t.Math.Clamp(i/a,0,1),s.SetVolume(r),this.sound.setVolume(r),h.x=450+r*a,o.width=r*a})}GoBack(){"MainMenu"===this.openedFrom?(this.scene.stop(),this.scene.stop("PauseScene"),this.scene.start("MainMenu")):"PauseScene"===this.openedFrom&&(this.scene.stop(),this.sound.stopAll(),this.scene.resume("PauseScene"),this.sound.volume=s.GetVolume(),this.music=this.sound.add("MUSIC_Game",{volume:s.GetVolume(),loop:!0}),this.music.play()),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}Init(e){this.openedFrom=e?.from||"MainMenu"}}const w=e.p+"d1d9fdf9592522a9b114.jpg",v=e.p+"public/assets/music_sounds/Credits.mp3",O=e.p+"9a98b2a4689f990db35a.png";class P extends t.Scene{constructor(){super("CreditsMenu")}preload(){this.load.image("IMG_Logo",O),this.load.image("IMG_CreditsBackground",w),this.load.image("SPR_Button",n),this.load.audio("MUSIC_Credits",v)}create(){this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("MUSIC_Credits",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.cameras.main.setBackgroundColor("#000000");const e=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"IMG_Logo").setOrigin(.5).setAlpha(0).setScale(.3);this.tweens.add({targets:e,alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(1e3,()=>{this.tweens.add({targets:e,alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{e.destroy(),this.ShowCreditsMenu()}})})}})}GoBack(){this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}ShowCreditsMenu(){const e=this.add.image(600,400,"IMG_CreditsBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800;const t=["Grupo 13 - Juegos en Red","Marta de Miguel Tapia","Ángel Younes Karim Mérida","Sara Mesa Pacheco","Claudia Morago Amigo","Iris Muñoz Montero",""];t.forEach((e,t)=>{this.add.text(600,250+50*t,e,{fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5)}),["public/assets de sprites GameScene: 13th CandyWeb","public/assets pantallas: Canva","Música y efectos de sonido: FreeSound"].forEach((e,s)=>{this.add.text(600,250+50*(t.length+s)+85,e,{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5)}),this.cameras.main.fadeIn(300,0,0,0),new i(100,750,this,"SPR_Button","Volver",()=>this.GoBack())}}class x extends t.Scene{constructor(){super("Lobby")}preload(){this.load.image("IMG_DefaultBackground",c),this.load.image("SPR_Vampire",m),this.load.image("SPR_Zombie",p)}create(){const e=this.add.image(600,400,"IMG_DefaultBackground");e.setOrigin(.5),e.displayWidth=1200,e.displayHeight=800,this.startButton=new i(600,600,this,"SPR_Button","Comenzar",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"PLAYER_READY"})),this.startButton.setPosition(-128,-128),this.stateText.setText("Esperando que el rival esté listo..."),this.stateText.setColor("#ffff00"))}),this.startButton.setPosition(-128,-128),new i(600,750,this,"SPR_Button","Salir",()=>this.Leave()),this.player1Icon=this.add.image(900,300,"SPR_Vampire"),this.player1Name=this.add.text(300,120,"...",{fontSize:"32px"}).setOrigin(.5),this.player2Icon=this.add.image(300,300,"SPR_Zombie"),this.player2Name=this.add.text(900,120,"...",{fontSize:"32px"}).setOrigin(.5),this.stateText=this.add.text(600,500,"...",{fontSize:"32px"}).setOrigin(.5),this.cameras.main.fadeIn(100,0,0,0),this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.socket=null,this.connectToServer()}Leave(){this.LeaveQueue(),this.cameras.main.fadeOut(100,0,0,0),this.cameras.main.once(t.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>this.scene.start("MainMenu"))}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.inLobby=!0,this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.ws.send(JSON.stringify({type:"JOIN_QUEUE",userId:localStorage.getItem("userId")}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{this.startButton.setPosition(-128,-128),console.error("WebSocket error:",e),this.stateText.setText("# Error de conexión #"),this.stateText.setColor("#ff0000")},this.ws.onclose=()=>{this.startButton.setPosition(-128,-128),console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.stateText.setText("# Conexión perdida #"),this.stateText.setColor("#ff0000"))}}catch(e){this.startButton.setPosition(-128,-128),console.error("Error connecting to server:",e),this.stateText.setText("# Fallo al conectar #"),this.stateText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"playerNotConnected":case"playerDisconnected":this.stateText.setText("Esperando rival..."),this.stateText.setColor("#ff0000"),this.startButton.setPosition(-128,-128),this.player1Name.setText("..."),this.player2Name.setText("..."),this.socket=null,this.connectToServer();break;case"gameStart":this.stateText.setText("¡Rival encontrado!"),this.stateText.setColor("#00ff00"),this.startButton.setPosition(600,600);let t="TÚ",s="TÚ";fetch(`/api/users/${e.enemyId}`).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(i=>{"player1"==e.role?s=i.username:t=i.username,this.player1Name.setText(t),this.player2Name.setText(s)}).catch(()=>{console.warn("No se pudo cargar el usuario")});break;case"START_GAME":console.log("Game starting in room:",e.roomId),this.ws.onmessage=null,this.ws.onmessage=null,this.scene.stop("Lobby"),this.scene.start("MultiplayerGameScene",{ws:this.ws,roomId:e.roomId,playerRole:e.role});break;default:console.log("Unknown server message type:",e.type)}}LeaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}}const I=e.p+"d2c5034eb163da60aae4.png",_=e.p+"18cea01896ee5b01dac0.png",C=e.p+"1af89219a86c804731e9.png",E=e.p+"f0ee1e507522759db3b1.png",M=e.p+"1d41e789bd411830a21b.png",T=e.p+"8bb21662fefcc91026f4.png",k=e.p+"d51231f872d559f02ffb.png",G=e.p+"3e80967c975244f1509f.png",R=e.p+"7e444efb12890a6ed135.png",A=e.p+"4168b3b402b4c13e4c18.png",D=e.p+"28f70a4c08d8e6333b6c.png",U=e.p+"af7b5953f41ea57f384a.png",B=e.p+"0479f4f4f8c30fd26251.png",N=e.p+"ebd6a23e5e37fa692b09.png",W=e.p+"d484fd76bdace8d888b9.png",j=e.p+"34c5b1ce05d87422cc6d.png",L=e.p+"4da35e924f108de8f5d6.png",z=e.p+"038266542e54b8bb2c08.png",F=e.p+"7ccd325b7a47867c37c5.png",V=e.p+"10678e2a3e49ff51abf9.png",H=e.p+"public/assets/music_sounds/game_music.mp3",Y=e.p+"public/assets/music_sounds/timer_alert.mp3";class K{constructor(e,t){this.scene=e,this.text=t,this.remainingTime=100,this.canCountDown=!0,this.cycles=0,this.maxCycles=3}disableCountdown(){this.canCountDown=!1,this.stop()}set(e){this.remainingTime=e}setNotCooldownEvent(e){this.notCooldownEvent=e}start(e,t){this.stop(),this.canCountDown&&(this.duration=e,this.alertPlayed=!1,this.timerEvent=this.scene.time.addEvent({delay:e,loop:!1,callback:()=>{t()}}))}stop(){this.timerEvent&&(this.timerEvent.destroy(),this.timerEvent=void 0)}update(){if(this.canCountDown&&(!this.timerEvent||this.duration<=0))return;if(this.canCountDown){const e=this.timerEvent.getElapsed();this.remainingTime=this.duration-e}const e=Math.max(0,this.remainingTime/1e3);this.text.text=`${e.toFixed(2)}`,e<=5&&!this.alertPlayed&&(this.scene.sound.add("timer_alert").play({volume:4*s.GetVolume()}),this.alertPlayed=!0),e<=0&&this.notCooldownEvent&&(this.notCooldownEvent(),this.notCooldownEvent=null)}}class J{constructor(){this.entities=[]}AddEntity(e){this.entities.push(e)}Update(){this.entities.forEach(e=>{e.Update()})}}class ${constructor(e,t,s,i,a,n=!1){this.x=e,this.y=t,this.sprite=i,this.scene=a,this.gameObject=n?a.physics.add.sprite(e,t,i):a.physics.add.image(e,t,i),this.gameObject.setScale(s),this.gameObject.body.setCollideWorldBounds(!0),this.gameObject.body.setSize(.8*this.gameObject.width,.8*this.gameObject.height),this.gameObject.body.setOffset(.1*this.gameObject.width,.1*this.gameObject.height)}MoveTo(e,t){this.x=e,this.y=t,this.UpdateBodyCoords()}Move(e,t){this.x+=e,this.y+=t,this.UpdateBodyCoords()}UpdateBodyCoords(){this.gameObject.x=this.x,this.gameObject.y=this.y}Update(){}}class X extends ${constructor(e,t,s,i,a){super(e,t,s,i,a),this.playerGrabbing=null,this.playerGrabbingId=null}setupOverlap(e,t){t.physics.add.overlap(e.gameObject,this.gameObject,()=>{e.GrabItem(this)})}GrabItem(e){null!=e&&null==this.playerGrabbing&&null==e.currentItemGrabbing&&(this.playerGrabbing=e)}ClearPlayer(){this.playerGrabbing=null,this.playerGrabbingId=null}Update(){null!=this.playerGrabbing&&this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y-60)}}class Q extends X{constructor(e,t,s){super(-64,-64,e,t,s),this.Reset()}Update(){super.Update(),this.hasSpawned||(this.spawnTime--,this.spawnTime<0&&(this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.hasSpawned=!0))}Reset(){this.MoveTo(-64,-64),this.spawnTime=Phaser.Math.Between(60,240),this.hasSpawned=!1,this.ClearPlayer()}}class Z extends X{constructor(e,t,s){super(-128,-128,e,t,s),this.MoveTo(Phaser.Math.Between(256,944),Phaser.Math.Between(128,672)),this.throwSpeedX=0,this.throwSpeedY=0,this.isThrown=!1,this.throwOwner=null}setupOverlap(e,t,s){super.setupOverlap(e,t,s),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==e&&e.KnockOut()}),s.physics.add.overlap(t.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==t&&t.KnockOut()})}Throw(e,t){null!=this.playerGrabbing&&(this.throwSpeedX=30*(e>0?1:0==e?0:-1),this.throwSpeedY=30*(t>0?1:0==t?0:-1),this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y),this.isThrown=!0,this.throwOwner=this.playerGrabbing,this.ClearPlayer())}Update(){super.Update(),this.ThrowMovement()}ThrowMovement(){if(Math.abs(this.throwSpeedX)<1&&Math.abs(this.throwSpeedY)<1)return this.throwOwner=null,void(this.isThrown=!1);this.Move(this.throwSpeedX*=.9,this.throwSpeedY*=.9),(this.x<50||this.x>1150)&&(this.throwSpeedX*=-1,this.Move(5*Math.sign(this.throwSpeedX),0)),(this.y<50||this.y>750)&&(this.throwSpeedY*=-1,this.Move(0,5*Math.sign(this.throwSpeedY)))}}class q extends X{constructor(e,t,s,i,a,n){super(e,t,s,i,a),this.id=n,this.hasSpawned=!0}Update(){super.Update()}OnCollected(){this.ClearPlayer(),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"CANDY_COLLECTED",candyId:this.id}))}Reset(){this.ClearPlayer()}}class ee extends X{constructor(e,t,s,i,a,n){super(e,t,s,i,a),this.id=n,this.hasSpawned=!0,this.throwSpeedX=0,this.throwSpeedY=0,this.isThrown=!1,this.throwOwner=null}Update(){super.Update(),this.ThrowMovement()}OnCollected(){this.ClearPlayer(),this.MoveTo(-64,-64),this.hasSpawned=!1,this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"REQUEST_CANDY_RESPAWN",candyId:this.id}))}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onPlayerOverlap(e,t)),s.physics.add.overlap(e.gameObject,this.gameObject,()=>{this.throwOwner&&this.throwOwner!==e&&e.KnockOut()})}onPlayerOverlap(e,t){e.grabKey&&e.grabKey.isDown&&(null!=e.currentItemGrabbing||e.hasThrowable||(this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&(this.scene.ws.send(JSON.stringify({type:"THROWABLE_PICKUP",itemId:this.id,picker:t})),this.scene.ws.send(JSON.stringify({type:"REQUEST_THROWABLE_PICKUP",itemId:this.id,picker:t}))),this.playerGrabbingId=t))}Reset(){this.ClearPlayer()}CheckThrow(){this.playerGrabbing.grabKey.isDown&&(this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"THROW_ITEM",itemId:this.id,owner:this.playerGrabbingId})),this.playerGrabbing.hasThrowable=null,this.playerGrabbing.currentItemGrabbing=null,this.playerGrabbingId=null)}ThrowItem(e){this.Throw(e.owner.facingX,e.owner.facingY),this.Reset()}Throw(e,t){null!=this.playerGrabbing&&(this.throwSpeedX=30*(e>0?1:0==e?0:-1),this.throwSpeedY=30*(t>0?1:0==t?0:-1),this.MoveTo(this.playerGrabbing.x,this.playerGrabbing.y),this.isThrown=!0,this.throwOwner=this.playerGrabbing,this.ClearPlayer())}ThrowMovement(){if(Math.abs(this.throwSpeedX)<1&&Math.abs(this.throwSpeedY)<1)return this.throwOwner=null,void(this.isThrown=!1);this.Move(this.throwSpeedX*=.9,this.throwSpeedY*=.9),(this.x<50||this.x>1150)&&(this.throwSpeedX*=-1,this.Move(5*Math.sign(this.throwSpeedX),0)),(this.y<50||this.y>750)&&(this.throwSpeedY*=-1,this.Move(0,5*Math.sign(this.throwSpeedY)))}}class te extends ${constructor(e,t,s,i,a,n,r,o=!0){super(e,t,s,`${i}_frontEst`,a,!0),this.scene=a,this.speed=200,this.characterName=i,this.cursors=n,this.grabItemKey=r,this.currentItemGrabbing=null,this.isLocal=o,this.hasCandy=!1,this.hasInteractedWithItems=!1,this.hasUpdatedItemInteraction=!1,this.grabItemInputOn=!1,this.itemInteractionCooldown=0,this.facingX=0,this.facingY=0,this.knockOutTimer=0,this.grabItemKey&&(this.grabKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes[r]))}Update(){this.isLocal&&(this.Movement(),this.ItemInputs(),this.CheckPickup(),this.currentItemGrabbing instanceof ee&&this.currentItemGrabbing.CheckThrow())}Movement(){if(!this.cursors)return;this.vx=0,this.vy=0;let e=!1;this.facingX=0,this.facingY=0,this.cursors.left?.isDown&&(this.vx=-this.speed,this.facingX=-1,e=!0),this.cursors.right?.isDown&&(this.vx=this.speed,this.facingX=1,e=!0),this.cursors.up?.isDown&&(this.vy=-this.speed,this.facingY=-1,e=!0),this.cursors.down?.isDown&&(this.vy=this.speed,this.facingY=1,e=!0);let t=null;e&&(0!==this.vx&&0!==this.vy||0!==this.vx?t=this.vx>0?`${this.characterName}_right_anim`:`${this.characterName}_left_anim`:0!==this.vy&&(t=this.vy>0?`${this.characterName}_front_anim`:`${this.characterName}_back_anim`)),t?this.gameObject.anims.play(t,!0):this.gameObject.setTexture(`${this.characterName}_frontEst`),this.currentAnimation=t||`${this.characterName}_frontEst`,this.isMoving=e,this.knockOutTimer>0&&(this.knockOutTimer--,this.vx=0,this.vy=0,this.facingX=0,this.facingY=0),this.Move(this.vx*this.scene.game.loop.delta/1e3,this.vy*this.scene.game.loop.delta/1e3);const s=this.gameObject.displayWidth/2,i=this.gameObject.displayHeight/2;this.x<s&&this.MoveTo(s,this.y),this.x>this.scene.sys.game.config.width-s&&this.MoveTo(this.scene.sys.game.config.width-s,this.y),this.y<i&&this.MoveTo(this.x,i),this.y>this.scene.sys.game.config.height-i&&this.MoveTo(this.x,this.scene.sys.game.config.height-i)}ItemInputs(){if(this.knockOutTimer>0)return this.hasUpdatedItemInteraction=!1,void(this.hasInteractedWithItems=!1);this.hasUpdatedItemInteraction?this.hasInteractedWithItems=!1:this.grabItemInputOn&&(this.hasInteractedWithItems=!0,this.hasUpdatedItemInteraction=!0),this.grabItemInputOn||(this.hasUpdatedItemInteraction=!1,this.hasInteractedWithItems=!1),this.itemInteractionCooldown>0&&this.itemInteractionCooldown--}GrabItem(e){if(!(this.itemInteractionCooldown>0))return e instanceof q||e instanceof Q?(this.currentItemGrabbing=e,this.hasCandy=!0,void(this.itemInteractionCooldown=10)):void 0}CheckPickup(){if(!this.grabKey||!this.grabKey.isDown)return;if(this.currentItemGrabbing)return;const e=this.scene.entitiesController.entities;for(let t of e){if(!(t instanceof Q||t instanceof q))continue;if(!t.hasSpawned)continue;const e=Math.abs(this.x-t.x),s=Math.abs(this.y-t.y),i=50;if(e<i&&s<i){this.currentItemGrabbing=t,this.hasCandy=!0,t instanceof q&&(t.OnCollected(),this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"CANDY_COLLECTED",candyId:t.id})));break}}}DeliverCandy(){if(!this.hasCandy)return;const e=this.currentItemGrabbing;e&&(this.hasCandy=!1,this.currentItemGrabbing=null,e.Reset(),this.isLocal&&(console.log("CANDY_DELIVERED enviado al server, candyId:",e.id),this.scene.send({type:"CANDY_DELIVERED",candyId:e.id})))}pickThrowable(e){this.hasThrowable=!0,this.throwableItem=e}KnockOut(){this.knockOutTimer>0||(this.knockOutTimer=100,null!=this.currentItemGrabbing&&(this.currentItemGrabbing.MoveTo(this.x,this.y),this.currentItemGrabbing.ClearPlayer(),this.currentItemGrabbing=null,this.hasCandy=!1))}}class se extends ${constructor(e,t,s,i,a,n){super(e,t,.15,null,n),this.owner=a,this.candies=0,this.text=n.add.text(s,i,0,{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000a7"}),this.gameObject.visible=!1,n.physics.add.overlap(a.gameObject,this.gameObject,()=>{a.hasCandy&&a.DeliverCandy()})}SetCandies(e){this.candies=e,this.text.text=e}CheckForCandy(){this.owner.hasCandy&&(this.text.text=++this.candies,this.owner.hasCandy=!1,this.owner.currentItemGrabbing&&(this.owner.currentItemGrabbing.gameObject.destroy(),this.owner.currentItemGrabbing=null),this.scene.ws&&this.scene.ws.readyState===WebSocket.OPEN&&this.scene.ws.send(JSON.stringify({type:"CANDY_DELIVERED",player:this.owner===this.scene.localPlayer?"player1":"player2"})))}Restart(){this.candies=0,this.text.text=0}}class ie extends ${constructor(e,t,s,i){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.active=!0}setupOverlap(e,t,s){s.physics.add.overlap(this.gameObject,e.gameObject,()=>this.apply(e),null,this),s.physics.add.overlap(this.gameObject,t.gameObject,()=>this.apply(t),null,this)}apply(e){if(!this.active)return;this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1;const t=e.speed;e.speed*=1.5,this.scene.time.delayedCall(5e3,()=>{e.speed=t,this.respawn()})}respawn(){this.MoveTo(Phaser.Math.Between(200,1e3),Phaser.Math.Between(200,600)),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0}}class ae extends t.Scene{constructor(){super("GameScene")}preload(){this.load.image("floor",I),this.load.image("game_boundary",_),this.load.image("leaves",C),this.load.image("blueBase",E),this.load.image("redBase",M),this.load.audio("game_music",H),this.load.image("timerImg",T),this.load.audio("timer_alert",Y),this.load.image("candy",k),this.load.image("pumpkin1",G),this.load.image("pumpkin2",R),this.load.image("pumpkin3",A),this.load.image("rock",D),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("speed_powerup",U),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256})}create(){this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3).setDepth(0),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.add.image(81,400,"blueBase").setScale(3),this.add.image(1120.5,400,"redBase").setScale(3),this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75);let e=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100);this.countdown=new K(this,e),this.round=1,this.startRound(45e3),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.scene.launch("PauseScene")}),this.entitiesController=new J,this.anims.create({key:"vampiresa_front_anim",frames:this.anims.generateFrameNumbers("vampiresa_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_back_anim",frames:this.anims.generateFrameNumbers("vampiresa_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_left_anim",frames:this.anims.generateFrameNumbers("vampiresa_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"vampiresa_right_anim",frames:this.anims.generateFrameNumbers("vampiresa_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_front_anim",frames:this.anims.generateFrameNumbers("zombi_front",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_back_anim",frames:this.anims.generateFrameNumbers("zombi_back",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_left_anim",frames:this.anims.generateFrameNumbers("zombi_left",{start:0,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"zombi_right_anim",frames:this.anims.generateFrameNumbers("zombi_right",{start:0,end:3}),frameRate:6,repeat:-1}),this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),this.controlsUI1=this.add.image(180,20,"controlWASD").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI1,alpha:0,duration:500,onComplete:()=>{this.controlsUI1.destroy()}})}),this.controlsUI2=this.add.image(830,20,"controlIJLK").setOrigin(0,0).setDepth(100).setScale(.25),this.time.delayedCall(5e3,()=>{this.tweens.add({targets:this.controlsUI2,alpha:0,duration:500,onComplete:()=>{this.controlsUI2.destroy()}})}),this.player1=new te(100,400,.4,"zombi",this,this.keys1,"E"),this.player2=new te(1100,400,.4,"vampiresa",this,this.keys2,"O"),this.entitiesController.AddEntity(this.player1),this.entitiesController.AddEntity(this.player2),this.candy=new Q(.2,"candy",this),this.candy.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.candy),this.item1=new Z(.3,"pumpkin1",this),this.item1.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item1),this.item2=new Z(.3,"pumpkin2",this),this.item2.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item2),this.item3=new Z(.3,"pumpkin3",this),this.item3.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item3),this.item4=new Z(.3,"rock",this),this.item4.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item4),this.item5=new Z(.3,"rock",this),this.item5.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.item5),this.basket1=new se(81,400,70,310,this.player1,this),this.basket2=new se(1120.5,400,1110,310,this.player2,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.speedPowerUp=new ie(600,400,.3,this),this.speedPowerUp.setupOverlap(this.player1,this.player2,this),this.entitiesController.AddEntity(this.speedPowerUp)}update(){this.countdown.update(),this.entitiesController.Update()}startRound(e){this.countdown.start(e,()=>this.endRound())}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){const e=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let t="";t=this.player1Score>this.player2Score?"¡Gana Jugador 1!":this.player2Score>this.player1Score?"¡Gana Jugador 2!":"¡Empate!";const s=this.add.text(600,450,t,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return void this.time.delayedCall(3e3,()=>{e.destroy(),s.destroy(),this.scene.start("MainMenu")})}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}}const ne=e.p+"13e3bfed51399d5225e1.png";class re extends t.Scene{constructor(){super("PauseScene")}preload(){this.load.image("menuPause",ne),this.load.image("buttonBackground",n),this.load.audio("button_sound",r)}create(){this.add.rectangle(600,400,1200,800,0,.5);const e=this.add.image(600,400,"menuPause").setOrigin(.5);e.displayWidth=1200,e.displayHeight=800,this.sound.volume=s.GetVolume(),new i(600,300,this,"buttonBackground","Reanudar",()=>{this.scene.stop(),this.scene.resume("GameScene")},{fontSize:"23px"}),new i(600,425,this,"buttonBackground","Menú",()=>{this.scene.stop("GameScene"),this.scene.start("MainMenu")}),new i(600,550,this,"buttonBackground","Ajustes",()=>{this.scene.launch("SettingsMenu",{from:"PauseScene"}),this.scene.bringToTop("SettingsMenu")})}}const oe=e.p+"11b55ffb7a52e8ee03ac.jpg";class he extends ${constructor(e,t,s,i,a){super(e,t,s,"speed_powerup",i,!0),this.scene=i,this.id=a,this.active=!0,this.gameObject.body.setAllowGravity(!1),this.gameObject.body.setSize(this.gameObject.width*s,this.gameObject.height*s),this.gameObject.body.setOffset((this.gameObject.width-this.gameObject.body.width)/2,(this.gameObject.height-this.gameObject.body.height)/2),this.gameObject.body.setEnable(!0),this.gameObject.setVisible(!0)}setupOverlap(e,t){t.physics.add.overlap(this.gameObject,e.gameObject,()=>this.onCollected(),null,this)}onCollected(){this.active&&(this.active=!1,this.scene.send({type:"POWERUP_COLLECTED",powerUpId:this.id}))}deactivate(){this.active=!1,this.gameObject.setVisible(!1),this.gameObject.body.enable=!1}activate(e,t){this.MoveTo(e,t),this.gameObject.setVisible(!0),this.gameObject.body.enable=!0,this.active=!0,this.gameObject.body.updateFromGameObject()}}class le extends t.Scene{constructor(){super("MultiplayerGameScene"),this.lastSentState={x:null,y:null,anim:null,isMoving:null}}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.hasCandy=!1,this.currentItemGrabbing=null,this.gameStarted=!1,this.gameEnded=!1,this.candy=null,this.item=null,this.speedPowerUp=null}preload(){this.load.image("floor",I),this.load.image("game_boundary",_),this.load.image("leaves",C),this.load.image("blueBase",E),this.load.image("redBase",M),this.load.image("timerImg",T),this.load.audio("game_music",H),this.load.audio("SFX_ButtonPress",r),this.load.audio("timer_alert",Y),this.load.image("timerImg",T),this.load.image("candy",k),this.load.image("pumpkin1",G),this.load.image("pumpkin2",R),this.load.image("pumpkin3",A),this.load.image("rock",D),this.load.image("controlWASD",u),this.load.image("controlIJLK",g),this.load.image("SPR_Button",n),this.load.image("speed_powerup",U),this.load.image("vampiresa_frontEst",m),this.load.image("zombi_frontEst",p),this.load.spritesheet("vampiresa_front",B,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_back",N,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_left",W,{frameWidth:256,frameHeight:256}),this.load.spritesheet("vampiresa_right",j,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_front",L,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_back",z,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_left",F,{frameWidth:256,frameHeight:256}),this.load.spritesheet("zombi_right",V,{frameWidth:256,frameHeight:256}),this.load.image("disconectionScreen",oe),new FontFace("ButtonsFont","url(fonts/alagard_font.ttf)").load().then(e=>{document.fonts.add(e)})}create(){localStorage.getItem("userId"),this.add.tileSprite(0,0,1200,800,"floor").setOrigin(0,0).setScale(3),this.physics.add.image(600,400,"game_boundary").setScale(3).setImmovable(!0),this.add.image(600,400,"leaves").setScale(3).setAlpha(.75),this.add.image(81,400,"blueBase").setScale(3),this.add.image(1120.5,400,"redBase").setScale(3),this.sound.volume=s.GetVolume(),this.sound.stopAll(),this.music=this.sound.add("game_music",{volume:s.GetVolume(),loop:!0}),this.music.play(),this.entitiesController=new J,this.createAnimations(),this.keys1=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.keys2=this.input.keyboard.addKeys({up:"I",down:"K",left:"J",right:"L"}),"player1"===this.playerRole?(this.localPlayer=new te(100,400,.4,"zombi",this,this.keys1,"E",!0),this.remotePlayer=new te(1100,400,.4,"vampiresa",this,null,null,!1)):"player2"===this.playerRole&&(this.localPlayer=new te(1100,400,.4,"vampiresa",this,this.keys2,"O",!0),this.remotePlayer=new te(100,400,.4,"zombi",this,null,null,!1)),this.entitiesController.AddEntity(this.localPlayer),this.entitiesController.AddEntity(this.remotePlayer),this.basket1=new se(1120.5,400,70,310,this.localPlayer,this),this.basket2=new se(81,400,1110,310,this.remotePlayer,this),this.player1Score=0,this.player1ScoreText=this.add.text(447,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.player2Score=0,this.player2ScoreText=this.add.text(723,80,"0",{fontSize:"48px",color:"#ffffff"}).setDepth(100),this.basket1=new se(60,400,70,310,this.localPlayer,this),this.basket2=new se(1140,400,1110,310,this.remotePlayer,this),this.timerImage=this.add.image(600,95,"timerImg").setDepth(99).setScale(6).setAlpha(.75),this.timerText=this.add.text(600,100,"45",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5).setDepth(100),this.countdown=new K(this,this.timerText),this.round=1,this.startRound(45e3),this.setupWebSocket(),this.send({type:"PLAYER_READY"}),this.ws.inLobby=!1,this.ws.send(JSON.stringify({type:"GAME_SCENE_READY"})),this.gameStarted=!0}setupWebSocket(){console.log("MultiplayerGameScene: handler activado"),this.ws.onmessage=e=>{if(this.gameEnded)return;const t=JSON.parse(e.data);switch(t.type){case"START_GAME":console.log("START_GAME recibido"),this.gameStarted=!0;break;case"UPDATE_TIMER":t.owner!==this.playerRole&&this.countdown.set(t.timeLeft);break;case"PLAYER_MOVED":if(t.player!==this.playerRole){this.remotePlayer.MoveTo(t.x,t.y);const e=this.remotePlayer.gameObject;if(!t.isMoving)return e.anims.stop(),void(e.texture.key!==t.anim&&e.setTexture(t.anim));t.anim.includes("_anim")&&e.anims.currentAnim?.key!==t.anim&&e.anims.play(t.anim,!0)}break;case"CANDY_SPAWN":this.candy&&(this.candy.gameObject.destroy(),this.candy=null),this.candy=new q(t.candy.x,t.candy.y,.2,"candy",this,t.candy.id),this.entitiesController.AddEntity(this.candy),this.candy.setupOverlap(this.localPlayer,this.remotePlayer);break;case"CANDY_PICKED":if(!this.candy)return;t.picker===this.playerRole?(this.localPlayer.hasCandy=!0,this.localPlayer.currentItemGrabbing=this.candy,this.candy.GrabItem(this.localPlayer)):(this.remotePlayer.hasCandy=!0,this.remotePlayer.currentItemGrabbing=this.candy,this.candy.GrabItem(this.remotePlayer));break;case"CANDY_SCORE_UPDATE":this.player1ScoreText.setText(t.scores.player1),this.player2ScoreText.setText(t.scores.player2);break;case"ITEM_SPAWN":console.log(`ITEM_SPAWN recibido → ID: ${t.item.id}, x: ${t.item.x}, y: ${t.item.y}`),this.items||(this.items=[]);let e=this.items.find(e=>e.id===t.item.id);if(e)e.MoveTo(t.item.x,t.item.y),e.hasSpawned=!0;else{const e=new ee(t.item.x,t.item.y,.3,t.item.sprite,this,t.item.id);this.entitiesController.AddEntity(e),e.setupOverlap(this.localPlayer,this.playerRole,this),this.items.push(e)}break;case"THROWABLE_PICKED":const s=this.items.find(e=>e.id===t.itemId);if(!s)return;s.MoveTo(-9999,-9999),t.picker===this.playerRole?(this.localPlayer.hasThrowable=!0,this.localPlayer.throwableItem=s,s.GrabItem(this.localPlayer)):(this.remotePlayer.hasThrowable=!0,this.remotePlayer.throwableItem=s,s.GrabItem(this.remotePlayer));break;case"ITEM_THROWN":const i=this.items.find(e=>e.id===t.itemId);if(!i)return;i.ThrowItem(t);break;case"POWERUP_SPAWN":console.log("Recibido POWERUP_SPAWN:",t.powerUp),this.speedPowerUp?(this.speedPowerUp.id=t.powerUp.id,this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y)):(this.speedPowerUp=new he(t.powerUp.x,t.powerUp.y,.3,this,t.powerUp.id),this.entitiesController.AddEntity(this.speedPowerUp),this.speedPowerUp.setupOverlap(this.localPlayer,this));break;case"POWERUP_DESPAWN":if(console.log("Recibido POWERUP_DESPAWN:",t.powerUpId),this.speedPowerUp?.id===t.powerUpId&&this.speedPowerUp.deactivate(),t.player===this.playerRole){const e=this.localPlayer.speed;this.localPlayer.speed*=1.5,this.time.delayedCall(5e3,()=>{this.localPlayer.speed=e})}break;case"POWERUP_RESPAWN":this.speedPowerUp.activate(t.powerUp.x,t.powerUp.y);break;case"gameOver":this.endGame(t.winner);break;case"playerDisconnected":this.handleDisconnect()}}}setupWebSocketListeners(){this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnect()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnect()}}handleDisconnect(){console.error("EJECUTANDO HANDLE DISCONNECT"),this.gameEnded=!0,this.gameStarted=!1,this.add.text(400,250,"El otro jugador se ha desconectado",{fontSize:"48px",color:"#ff0000ff"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){this.add.text(600,400,"Volver al menú",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MainMenu")}),this.gameEnded=!0,this.gameStarted=!1,this.physics.pause(),this.showDisconnectScreen()}showDisconnectScreen(){this.timerImage.destroy(),this.timerText.destroy(),this.player1ScoreText.destroy(),this.player2ScoreText.destroy();const e=this.add.image(600,400,"disconectionScreen").setOrigin(.5);e.displayWidth=1200,e.displayHeight=800,new i(880,600,this,"SPR_Button","Menú",()=>{this.scene.start("MainMenu")})}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){this.gameStarted&&!this.gameEnded&&(this.localPlayer.Update(),(this.localPlayer.x!==this.lastSentState.x||this.localPlayer.y!==this.lastSentState.y||this.localPlayer.currentAnimation!==this.lastSentState.anim||this.localPlayer.isMoving!==this.lastSentState.isMoving)&&(this.send({type:"PLAYER_MOVE",player:this.playerRole,x:this.localPlayer.x,y:this.localPlayer.y,anim:this.localPlayer.currentAnimation,isMoving:this.localPlayer.isMoving}),this.lastSentState.x=this.localPlayer.x,this.lastSentState.y=this.localPlayer.y,this.lastSentState.anim=this.localPlayer.currentAnimation,this.lastSentState.isMoving=this.localPlayer.isMoving),this.localPlayer.hasCandy&&this.localPlayer.currentItemGrabbing&&this.localPlayer.currentItemGrabbing.MoveTo(this.localPlayer.x,this.localPlayer.y),this.remotePlayer.hasCandy&&this.remotePlayer.currentItemGrabbing&&this.remotePlayer.currentItemGrabbing.MoveTo(this.remotePlayer.x,this.remotePlayer.y),this.localPlayer.hasThrowable&&this.localPlayer.throwableItem&&this.localPlayer.throwableItem.MoveTo(this.localPlayer.x,this.localPlayer.y),this.remotePlayer.hasThrowable&&this.remotePlayer.throwableItem&&this.remotePlayer.throwableItem.MoveTo(this.remotePlayer.x,this.remotePlayer.y),"player1"===this.playerRole&&this.send({type:"UPDATE_TIME",owner:this.playerRole,timeLeft:this.countdown.remainingTime}),this.countdown.update(),this.entitiesController.Update())}shutdown(){this.ws&&this.ws.close()}startRound(e){this.countdown.canCountDown?this.countdown.start(e,()=>this.endRound()):this.countdown.setNotCooldownEvent(()=>this.endRound())}endGame(e){const t="disconnect"===e?"Jugador desconectado":"Fin de la partida";this.add.text(600,400,t,{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.time.delayedCall(3e3,()=>this.scene.start("MenuScene"))}endRound(){if(this.round++,this.basket1.candies>this.basket2.candies?this.player1ScoreText.text=""+ ++this.player1Score:this.basket1.candies<this.basket2.candies&&(this.player2ScoreText.text=""+ ++this.player2Score),this.basket1.Restart(),this.basket2.Restart(),this.round>4){let e=null;const t=this.add.text(600,350,"FIN DE LA PARTIDA",{fontSize:"48px",fontStyle:"bold",color:"#ff0000ff",backgroundColor:"#000000a7"}).setOrigin(.5);let s="";this.player1Score>this.player2Score?(s="¡Gana Jugador 1!",e="player1"):this.player2Score>this.player1Score?(s="¡Gana Jugador 2!",e="player2"):(s="¡Empate!",e="empate");const i=this.add.text(600,450,s,{fontSize:"36px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);return this.time.delayedCall(3e3,()=>{t.destroy(),i.destroy(),this.scene.start("MainMenu")}),void("empate"!==e&&e!==this.playerRole||this.addWinToCurrentUser())}const e=this.add.text(600,400,`Ronda ${this.round-1} terminada`,{fontSize:"48px",fontStyle:"bold",color:"#ffffff",backgroundColor:"#000000a7"}).setOrigin(.5);this.time.delayedCall(2e3,()=>{e.destroy();const t=Math.max(0,45e3-15e3*(this.round-1));this.startRound(t)})}addWinToCurrentUser(){const e=localStorage.getItem("userId");e&&fetch(`/api/users/${e}/win`,{method:"PUT"}).then(e=>e.json()).then(e=>{console.log("Win añadido:",e.wins)})}createAnimations(){const e=this.anims,t=[{name:"front",sheet:"front"},{name:"back",sheet:"back"},{name:"left",sheet:"left"},{name:"right",sheet:"right"}];["zombi","vampiresa"].forEach(s=>{t.forEach(t=>{const i=`${s}_${t.name}_anim`;e.exists(i)||e.create({key:i,frames:e.generateFrameNumbers(`${s}_${t.sheet}`,{start:0,end:3}),frameRate:8,repeat:-1})})})}}const de={type:t.AUTO,width:1200,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[h,l,d,y,S,P,x,ae,re,le],backgroundColor:"#000000",pixelArt:!0,dom:{createContainer:!0}};new t.Game(de).scene.start("LoginScene")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlwUSxZQUV2QjZJLEVBQU13SCxPQUFPelYsSUFFakJpTyxFQUFNOVAsT0FBTyxDQUNUNkIsTUFDQWtSLE9BQVFqRCxFQUFNa0QscUJBQ1YsR0FBR29FLEtBQVFDLEVBQUlGLFFBQ2YsQ0FBRTFULE1BQU8sRUFBR3dQLElBQUssSUFFckJDLFVBQVcsRUFDWEMsUUFBUyxPQUl6QixFQ250QkosTUFBTW9FLEdBQVUsQ0FDWjVQLEtBQU0sT0FDTmhKLE1BQU8sS0FDUEMsT0FBUSxJQUNSNFksT0FBUSxpQkFDUnRNLFFBQVMsQ0FDTHVNLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUU5WixFQUFHLEVBQUdDLEVBQUcsR0FDcEI4WixPQUFPLElBSWZwYSxNQUFPLENBQUNnQyxFQUFZa0UsRUFBVVMsRUFBY00sRUFBY00sRUFBY29CLEVBQWFpQixFQUFPK0ssR0FBV3VDLEdBQ3ZHVSxJQUNBOUQsZ0JBQWlCLFVBQ2pCdUcsVUFBVSxFQUNWQyxJQUFLLENBQ0RDLGlCQUFpQixJQUlYLElBQUksT0FBWVIsSUFFeEIvWixNQUFNaUcsTUFBTSxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC91aS9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvZ2luU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL01haW5NZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9QbGF5TW9kZU1lbnUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1R1dG9yaWFsTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvU2V0dGluZ3NNZW51LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzTWVudS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9iYnkuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9UaW1lckNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9FbnRpdGllc0NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9jb3JlL0VudGl0eS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL0l0ZW0uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9DYW5keS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL1Rocm93YWJsZUl0ZW0uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVDYW5keS5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2l0ZW1zL09ubGluZVRocm93YWJsZUl0ZW0uanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9wbGF5ZXIvcGxheWVyQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jcmVwdXNjdWxvbmVzLy4vc3JjL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0NhbmR5QmFza2V0LmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L2dhbWUvaXRlbXMvU3BlZWRQb3dlclVwLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVTcGVlZFBvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vY3JlcHVzY3Vsb25lcy8uL3NyYy9jbGllbnQvc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2NyZXB1c2N1bG9uZXMvLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC9eYmxvYjovLCBcIlwiKS5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJleHBvcnQgY29uc3QgQXVkaW9NYW5hZ2VyID0ge1xyXG4gICAgdm9sdW1lOiAwLjEsXHJcblxyXG4gICAgU2V0Vm9sdW1lKHYpIHtcclxuICAgICAgICB0aGlzLnZvbHVtZSA9IHY7XHJcbiAgICB9LFxyXG5cclxuICAgIEdldFZvbHVtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52b2x1bWU7XHJcbiAgICB9LFxyXG5cclxuICAgIFBsYXkoYXVkaW8sIHNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUuc291bmQucGxheShhdWRpbywgeyB2b2x1bWU6IHRoaXMudm9sdW1lIH0pO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24ge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NlbmUsIHRleHR1cmUsIHRleHQsIGNhbGxiYWNrLCBzdHlsZSA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgICAgICB0aGlzLnN0eWxlID0ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLCBcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOXB4JywgICAgICAgICAgICBcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgLi4uc3R5bGVcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHNjZW5lLmFkZC5pbWFnZSgwLCAwLCB0ZXh0dXJlKTtcclxuICAgICAgICB0aGlzLnRleHQgPSBzY2VuZS5hZGQudGV4dCgwLCAwLCB0ZXh0LCB0aGlzLnN0eWxlKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBzY2VuZS5hZGQuY29udGFpbmVyKHgsIHksIFt0aGlzLmltYWdlLCB0aGlzLnRleHRdKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRTaXplKHRoaXMuaW1hZ2Uud2lkdGgsIHRoaXMuaW1hZ2UuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRTY2FsZSgxLjUpOyAvLyBlc2NhbGFyIGZvbmRvIHkgdGV4dG9cclxuXHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zZXRUaW50KDB4ZmZmZjAwKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0Q29sb3IoJyNmZmZmZGQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRTY2FsZSgxLjIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLmNsZWFyVGludCgpOyBcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRDb2xvcignI2ZmZmZmZmZmJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIuUGxheSgnU0ZYX0J1dHRvblByZXNzJywgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQobmV3VGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dC5zZXRUZXh0KG5ld1RleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBvc2l0aW9uKHgsIHkpe1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFBvc2l0aW9uKHgsIHkpXHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0JhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvTWFpbk1lbnVCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTRlhfQnV0dG9uUHJlc3MgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zZngvQnV0dG9uUHJlc3MubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgTVVTSUNfTWFpbk1lbnUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9NYWluTWVudS5tcDMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJTUdfQmFja2dyb3VuZCcsIElNR19CYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1NGWF9CdXR0b25QcmVzcycsIFNGWF9CdXR0b25QcmVzcyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNVVNJQ19NYWluTWVudScsIE1VU0lDX01haW5NZW51KTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZSgnQnV0dG9uc0ZvbnQnLCd1cmwoZm9udHMvYWxhZ2FyZF9mb250LnR0ZiknKTtcclxuXHJcbiAgICAgICAgZm9udC5sb2FkKCkudGhlbigobG9hZGVkRm9udCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUgKCkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnTE9HSU4gU0NFTkUgQ1JFQVRFJyk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19CYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIC8vVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTsgLy9wYXJhIHF1ZSBubyBzZSBzdXBlcnBvbmdhbiBsYXMgY2FuY2lvbmVzXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdNVVNJQ19NYWluTWVudScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgLy8gSW50cm9kdWNpciB1c3VhcmlvXHJcbiAgICAgICAgY29uc3QgSU5QVVRfV0lEVEggPSA0MjA7XHJcbiAgICAgICAgY29uc3QgSU5QVVRfSEVJR0hUID0gNTA7XHJcbiAgICAgICAgY29uc3QgTUFYX0xFTkdUSCA9IDEyO1xyXG5cclxuICAgICAgICBsZXQgdXNlcm5hbWUgPSAnJztcclxuICAgICAgICBsZXQgZm9jdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBGb25kbyBkZWwgdGV4dG9cclxuICAgICAgICBjb25zdCB0aXRsZUJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgNDUwLCA1MDAsIDM1MCwgMHgwMDAwMDAsIDAuNikuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0QmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNjAwLCA0MjAsIElOUFVUX1dJRFRILCBJTlBVVF9IRUlHSFQsIDB4ZmZmZmZmKVxyXG4gICAgICAgIC5zZXRTdHJva2VTdHlsZSgyLCAweDAwMDAwMClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmFkZC50ZXh0KDYwMCAtIElOUFVUX1dJRFRIIC8gMiArIDEyLCA0MjAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdCdXR0b25zRm9udCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gTMOtbmVhIHZlcnRpY2FsIGRlIGVzY3JpdHVyYVxyXG4gICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoIGlucHV0VGV4dC54ICsgMiwgNDIwLCAyLCAzMCwgMHgwMDAwMDApO1xyXG5cclxuICAgICAgICAvLyBQYXJwYWRlb1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA1MDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7bGluZS52aXNpYmxlID0gZm9jdXNlZDt9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlucHV0Qmcub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5tYW5hZ2VyLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAndGV4dCc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIsIG9iamVjdHMpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFvYmplY3RzLmluY2x1ZGVzKGlucHV0QmcpKSB7XHJcbiAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5tYW5hZ2VyLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGVjbGFkb1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFmb2N1c2VkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZS5zbGljZSgwLCAtMSk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleS5sZW5ndGggPT09IDEgJiYgdXNlcm5hbWUubGVuZ3RoIDwgTUFYX0xFTkdUSCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZSArPSBldmVudC5rZXk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlucHV0VGV4dC5zZXRUZXh0KHVzZXJuYW1lKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1vdmVyIGxhIGzDrW5lYSBjb24gdGV4dG9cclxuICAgICAgICAgICAgbGluZS54ID0gaW5wdXRUZXh0LnggKyBpbnB1dFRleHQud2lkdGggKyA0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGluaWNpbyBkZSBzZXNpw7NuXHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCA1NDAsIHRoaXMsICdTUFJfQnV0dG9uJywgJ0xvZ2luJywoKSA9PiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VybmFtZS50cmltKCkpIHJldHVybjsgLy8gU2kgbm8gaGF5IG5vbWJyZSwgZGV2b2x2ZXJcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhciB1c3VhcmlvXHJcbiAgICAgICAgICAgICAgICBmZXRjaCgnL2FwaS91c2VycycsIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdXNlci5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TdGFydE1lbnUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQXV0byBsb2dpblxyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTtcclxuXHJcbiAgICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgICAgICBmZXRjaChgL2FwaS91c2Vycy8ke3VzZXJJZH1gKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TdGFydE1lbnUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJJZCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCAzMzAsICdJbnRyb2R1Y2UgdHUgbm9tYnJlJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQnV0dG9uc0ZvbnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIFN0YXJ0TWVudSgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IElNR19CYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL01haW5NZW51QmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU0ZYX0J1dHRvblByZXNzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc2Z4L0J1dHRvblByZXNzLm1wMyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IE1VU0lDX01haW5NZW51IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvTWFpbk1lbnUubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWFpbk1lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0JhY2tncm91bmQnLCBJTUdfQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTVVTSUNfTWFpbk1lbnUnLCBNVVNJQ19NYWluTWVudSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ0J1dHRvbnNGb250JywndXJsKGZvbnRzL2FsYWdhcmRfZm9udC50dGYpJyk7XHJcblxyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oKGxvYWRlZEZvbnQpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRm9udCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgMzUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiT25saW5lXCIsICgpID0+IHRoaXMuU3RhcnRQbGF5KCkpO1xyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwIC0gMzAwLCA3MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJUdXRvcmlhbFwiLCAoKSA9PiB0aGlzLlN0YXJ0VHV0b3JpYWwoKSwgeyBmb250U2l6ZTogJzI1cHgnIH0pO1xyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCA3MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJBanVzdGVzXCIsICgpID0+IHRoaXMuU3RhcnRTZXR0aW5ncygpKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCArIDMwMCwgNzAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiQ3LDqWRpdG9zXCIsICgpID0+IHRoaXMuU3RhcnRDcmVkaXRzKCksIHsgZm9udFNpemU6ICcyNXB4JyB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gc29sbyBsb2NhbFxyXG4gICAgICAgIG5ldyBCdXR0b24oNjAwLCA1MDAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJMb2NhbFwiLCAoKSA9PiB0aGlzLlN0YXJ0TG9jYWxHYW1lKCksKTtcclxuXHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX01haW5NZW51Jywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dDdXJyZW50VXNlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93Q3VycmVudFVzZXIoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG4gICAgICAgIGlmICghdXNlcklkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZldGNoKGAvYXBpL3VzZXJzLyR7dXNlcklkfWApXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDExNzAsIDMwLCBgJHt1c2VyLnVzZXJuYW1lfWAsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdCdXR0b25zRm9udCcsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMSwgMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHNlIHB1ZG8gY2FyZ2FyIGVsIHVzdWFyaW8nKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgU3RhcnRQbGF5KCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5JykpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBTdGFydFR1dG9yaWFsKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ1R1dG9yaWFsTWVudScpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgU3RhcnRTZXR0aW5ncygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZXR0aW5nc01lbnUnKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFN0YXJ0Q3JlZGl0cygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzTWVudScpKTtcclxuICAgIH1cclxuXHJcbiAgICBTdGFydExvY2FsR2FtZSgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9NYWluTWVudUJhY2tncm91bmQuanBnJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX0J1dHRvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheU1vZGVNZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQbGF5TW9kZU1lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0JhY2tncm91bmQnLCBJTUdfQmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTUFJfQnV0dG9uJywgU1BSX0J1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfQmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCAtIDE4MCwgNDAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiQ3JlYXIgUGFydGlkYVwiLCBudWxsKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCArIDE4MCwgNDAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiVW5pcnNlIGEgUGFydGlkYVwiLCBudWxsKTtcclxuICAgICAgICBuZXcgQnV0dG9uKDYwMCwgNTUwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiTG9jYWxcIiwgbnVsbCk7XHJcbiAgICAgICAgbmV3IEJ1dHRvbigxMDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlZvbHZlclwiLCAoKSA9PiB0aGlzLkdvQmFjaygpKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlSW4oMTAwLCAwLCAwLCAwKVxyXG4gICAgfVxyXG5cclxuICAgIEdvQmFjaygpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTAwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5vbmNlKFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuRXZlbnRzLkZBREVfT1VUX0NPTVBMRVRFLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBkYXRhLnNvY2tldDtcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0RlZmF1bHRCYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0RlZmF1bHRCYWNrZ3JvdW5kLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3pvbWJpZV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sV0FTRCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc1dBU0QucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbElKTEsgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNJSktMLnBuZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxNZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdUdXRvcmlhbE1lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0RlZmF1bHRCYWNrZ3JvdW5kJywgSU1HX0RlZmF1bHRCYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9WYW1waXJlJywgdmFtcGlyZXNhRnJvbnRFc3QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX1pvbWJpZScsIHpvbWJpRnJvbnRFc3QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbFdBU0QnLCBjb250cm9sV0FTRCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sSUpMSycsIGNvbnRyb2xJSkxLKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ0lNR19EZWZhdWx0QmFja2dyb3VuZCcpXHJcbiAgICAgICAgYmcuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcjFJY29uID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA0NTAsICdTUFJfWm9tYmllJyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIySWNvbiA9IHRoaXMuYWRkLmltYWdlKDEyMDAgLSAzNTAsIDQ1MCwgJ1NQUl9WYW1waXJlJyk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNVSTE9IHRoaXMuYWRkLmltYWdlKDE5MCwgMTAwLCAnY29udHJvbFdBU0QnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNVSTI9IHRoaXMuYWRkLmltYWdlKDcwMCwgMTAwLCAnY29udHJvbElKTEsnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMzUpO1xyXG5cclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbigxMDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlZvbHZlclwiLCAoKSA9PiB0aGlzLkdvQmFjaygpKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZUluKDEwMCwgMCwgMCwgMClcclxuICAgIH1cclxuXHJcblxyXG4gICAgR29CYWNrKCl7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0F1ZGlvTWFuYWdlci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfU2V0dGluZ3NCYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL1NldHRpbmdzQmFja2dyb3VuZC5qcGcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgTVVTSUNfU2V0dGluZ3MgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9tdXNpYy9TZXR0aW5ncy5tcDMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWVudSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2V0dGluZ3NNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19TZXR0aW5nc0JhY2tncm91bmQnLCBJTUdfU2V0dGluZ3NCYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ01VU0lDX1NldHRpbmdzJywgTVVTSUNfU2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7IC8vcGFyYSBxdWUgbm8gc2Ugc3VwZXJwb25nYW4gbGFzIGNhbmNpb25lc1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTVVTSUNfU2V0dGluZ3MnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdJTUdfU2V0dGluZ3NCYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApO1xyXG5cclxuICAgICAgICAvL1RleHRvIGRlIFwiVm9sdW1lblwiXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIDM2NSwgJ1ZvbHVtZW4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzJjMmEyYWZmJyxcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQmFycmEgZGUgdm9sdW1lblxyXG4gICAgICAgIGNvbnN0IGJhclggPSA2MDA7XHJcbiAgICAgICAgY29uc3QgYmFyWSA9IDQwMDtcclxuICAgICAgICBjb25zdCBiYXJXaWR0aCA9IDMwMDtcclxuICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSAyMDtcclxuICAgICAgICAvL0JhcnJhIGJhc2VcclxuICAgICAgICBjb25zdCB2b2x1bWVCYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoYmFyWCwgYmFyWSwgYmFyV2lkdGgsIGJhckhlaWdodCwgMHg4ODg4ODgpO1xyXG4gICAgICAgIC8vVm9sdW1lbiBpbmljaWFsXHJcbiAgICAgICAgbGV0IGN1cnJlbnRWb2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBjdXJyZW50Vm9sdW1lO1xyXG4gICAgICAgIC8vQmFycmEgZGUgcmVsbGVub1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZUluZGljYXRvciA9IHRoaXMuYWRkLnJlY3RhbmdsZShiYXJYIC0gYmFyV2lkdGggLyAyICsgKGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aCkgLyAyLCBiYXJZLCBjdXJyZW50Vm9sdW1lICogYmFyV2lkdGgsIGJhckhlaWdodCwweDIyMjIyMik7XHJcbiAgICAgICAgLy9IYWNlciBiYXJyYSBpbnRlcmFjdGl2YVxyXG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMuYWRkLmNpcmNsZShcclxuICAgICAgICAgICAgYmFyWCAtIGJhcldpZHRoIC8gMiArIGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aCwgYmFyWSwgMTIsIDB4ZmZmZmZmXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgLy9Qb2RlciBhcnJhc3RyYXIgZWwgaGFuZGxlXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoaGFuZGxlKTtcclxuICAgICAgICBoYW5kbGUub24oJ2RyYWcnLCAocG9pbnRlciwgZHJhZ1gsIGRyYWdZKSA9PiB7XHJcbiAgICAgICAgICAgIC8vTGltaXRhciBlbCBtb3ZpbWllbnRvIGRlbCBoYW5kbGUgZGVudHJvIGRlIGxhIGJhcnJhXHJcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSBiYXJYIC0gYmFyV2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBtYXhYID0gYmFyWCArIGJhcldpZHRoIC8gMjtcclxuICAgICAgICAgICAgaWYgKGRyYWdYIDwgbWluWCkgZHJhZ1ggPSBtaW5YO1xyXG4gICAgICAgICAgICBpZiAoZHJhZ1ggPiBtYXhYKSBkcmFnWCA9IG1heFg7XHJcbiAgICAgICAgICAgIGhhbmRsZS54ID0gZHJhZ1g7XHJcbiAgICAgICAgICAgIC8vQWN0dWFsaXphciB2b2x1bWVuIGJhc2FkbyBlbiBsYSBwb3NpY2nDs24gZGVsIGhhbmRsZVxyXG4gICAgICAgICAgICBjdXJyZW50Vm9sdW1lID0gKGhhbmRsZS54IC0gbWluWCkgLyBiYXJXaWR0aDtcclxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLlNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUoY3VycmVudFZvbHVtZSk7XHJcbiAgICAgICAgICAgIC8vQWN0dWFsaXphciBsYSBiYXJyYSBkZSB2b2x1bWVuXHJcbiAgICAgICAgICAgIHZvbHVtZUluZGljYXRvci53aWR0aCA9IGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9DbGljayBlbiBsYSBiYXJyYSBwYXJhIG1vdmVyIGVsIGhhbmRsZVxyXG4gICAgICAgIHZvbHVtZUJhci5zZXRJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgIHZvbHVtZUJhci5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbFggPSBwb2ludGVyLnggLSAoYmFyWCAtIGJhcldpZHRoIC8gMik7XHJcbiAgICAgICAgICAgIC8vQWN0dWFsaXphciB2b2x1bWVuIGJhc2FkbyBlbiBsYSBwb3NpY2nDs24gZGVsIGNsaWNrXHJcbiAgICAgICAgICAgIGN1cnJlbnRWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcChsb2NhbFggLyBiYXJXaWR0aCwgMCwgMSk7XHJcbiAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5TZXRWb2x1bWUoY3VycmVudFZvbHVtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpO1xyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgbGEgcG9zaWNpw7NuIGRlbCBoYW5kbGUgeSBsYSBiYXJyYSBkZSB2b2x1bWVuXHJcbiAgICAgICAgICAgIGhhbmRsZS54ID0gYmFyWCAtIGJhcldpZHRoIC8gMiArIGN1cnJlbnRWb2x1bWUgKiBiYXJXaWR0aDtcclxuICAgICAgICAgICAgdm9sdW1lSW5kaWNhdG9yLndpZHRoID0gY3VycmVudFZvbHVtZSAqIGJhcldpZHRoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHb0JhY2soKXtcclxuICAgICAgICAvL0JvdMOzbiBkZSBcIlZvbHZlclwiIHNlZ8O6biBkZXNkZSBkw7NuZGUgc2UgYWJyacOzIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmKHRoaXMub3BlbmVkRnJvbSA9PT0gJ01haW5NZW51Jyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZSBjb25maWd1cmFjacOzblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ1BhdXNlU2NlbmUnKTsgLy8gQXNlZ3VyYXJzZSBkZSBkZXRlbmVyIGxhIGVzY2VuYSBkZSBwYXVzYSBzaSBlc3RhYmEgYWJpZXJ0YVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpOyAvLyBJciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLm9wZW5lZEZyb20gPT09ICdQYXVzZVNjZW5lJyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZSBjb25maWd1cmFjacOzblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoJ1BhdXNlU2NlbmUnKTsgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGRlIHBhdXNhXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX0dhbWUnLCB7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxMDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLm9uY2UoUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5FdmVudHMuRkFERV9PVVRfQ09NUExFVEUsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51JykpXHJcbiAgICB9XHJcblxyXG4gICAgSW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLm9wZW5lZEZyb20gPSBkYXRhPy5mcm9tIHx8ICdNYWluTWVudSc7IC8vIE1haW5NZW51IG8gUGF1c2VTY2VuZVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgSU1HX0NyZWRpdHNCYWNrZ3JvdW5kIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NyZWRpdHNCYWNrZ3JvdW5kLmpwZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IFNQUl9CdXR0b24gZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL0J1dHRvbi5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBNVVNJQ19DcmVkaXRzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvQ3JlZGl0cy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfTG9nbyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Mb2dvLnBuZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c01lbnUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNNZW51Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0lNR19Mb2dvJywgSU1HX0xvZ28pO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0NyZWRpdHNCYWNrZ3JvdW5kJywgSU1HX0NyZWRpdHNCYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ01VU0lDX0NyZWRpdHMnLCBNVVNJQ19DcmVkaXRzKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ01VU0lDX0NyZWRpdHMnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJhY2tncm91bmRDb2xvcignIzAwMDAwMCcpO1xyXG4gICAgICAgIC8vTG9nbyBpbmljaWFsXHJcbiAgICAgICAgY29uc3QgbG9nb0ltZyA9IHRoaXMuYWRkLmltYWdlKCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAvIDIsXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0IC8gMiwnSU1HX0xvZ28nKS5zZXRPcmlnaW4oMC41KS5zZXRBbHBoYSgwKS5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IGxvZ29JbWcsXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgZWFzZTogJ1Bvd2VyMicsXHJcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogbG9nb0ltZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiAnUG93ZXIyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nb0ltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNob3dDcmVkaXRzTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHb0JhY2soKXtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcbiAgICBTaG93Q3JlZGl0c01lbnUoKXtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0NyZWRpdHNCYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIC8vIEFycmF5IGNvbiBsb3Mgbm9tYnJlc1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNHcnVwbyA9IFtcclxuICAgICAgICAgICAgJ0dydXBvIDEzIC0gSnVlZ29zIGVuIFJlZCcsIFxyXG4gICAgICAgICAgICAnTWFydGEgZGUgTWlndWVsIFRhcGlhJyxcclxuICAgICAgICAgICAgJ8OBbmdlbCBZb3VuZXMgS2FyaW0gTcOpcmlkYScsXHJcbiAgICAgICAgICAgICdTYXJhIE1lc2EgUGFjaGVjbycsXHJcbiAgICAgICAgICAgICdDbGF1ZGlhIE1vcmFnbyBBbWlnbycsXHJcbiAgICAgICAgICAgICdJcmlzIE11w7FveiBNb250ZXJvJyxcclxuICAgICAgICAgICAgJycsXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c090aGVycz1bXHJcbiAgICAgICAgICAgICdwdWJsaWMvYXNzZXRzIGRlIHNwcml0ZXMgR2FtZVNjZW5lOiAxM3RoIENhbmR5V2ViJyxcclxuICAgICAgICAgICAgJ3B1YmxpYy9hc3NldHMgcGFudGFsbGFzOiBDYW52YScsXHJcbiAgICAgICAgICAgICdNw7pzaWNhIHkgZWZlY3RvcyBkZSBzb25pZG86IEZyZWVTb3VuZCcsXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gQWx0dXJhIGluaWNpYWwgcGFyYSBlbCBwcmltZXIgbm9tYnJlIFxyXG4gICAgICAgIGxldCBzdGFydFkgPSAyNTA7XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDUwOyAvLyBlc3BhY2lvIHZlcnRpY2FsIGVudHJlIG5vbWJyZXNcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY2FkYSBub21icmUgY2VudHJhZG9cclxuICAgICAgICBjcmVkaXRzR3J1cG8uZm9yRWFjaCgobmFtZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIHN0YXJ0WSArIGluZGV4ICogc3BhY2luZywgbmFtZSwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3JlZGl0c090aGVycy5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgc3RhcnRZICsgKGNyZWRpdHNHcnVwby5sZW5ndGggKyBpbmRleCkgKiBzcGFjaW5nICs4NSwgbmFtZSwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigzMDAsIDAsIDAsIDApXHJcblxyXG4gICAgICAgIG5ldyBCdXR0b24oMTAwLCA3NTAsIHRoaXMsICdTUFJfQnV0dG9uJywgXCJWb2x2ZXJcIiwgKCkgPT4gdGhpcy5Hb0JhY2soKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbi5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBJTUdfRGVmYXVsdEJhY2tncm91bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvRGVmYXVsdEJhY2tncm91bmQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU1BSX1ZhbXBpcmUgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3ZhbXBpcmVzYV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfWm9tYmllIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy96b21iaWVfZnJvbnQucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2JieSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9iYnknKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSU1HX0RlZmF1bHRCYWNrZ3JvdW5kJywgSU1HX0RlZmF1bHRCYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9WYW1waXJlJywgU1BSX1ZhbXBpcmUpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU1BSX1pvbWJpZScsIFNQUl9ab21iaWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnSU1HX0RlZmF1bHRCYWNrZ3JvdW5kJylcclxuICAgICAgICBiZy5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiZy5kaXNwbGF5V2lkdGggPSAxMjAwO1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRCdXR0b24gPSBuZXcgQnV0dG9uKDYwMCwgNjAwLCB0aGlzLCAnU1BSX0J1dHRvbicsIFwiQ29tZW56YXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnUExBWUVSX1JFQURZJyB9KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpOyAvLyBvY3VsdGFyIGJvdMOzbiB0cmFzIHB1bHNhclxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0VGV4dCgnRXNwZXJhbmRvIHF1ZSBlbCByaXZhbCBlc3TDqSBsaXN0by4uLicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOCk7IC8vIG9jdWx0byBhbCBpbmljaW9cclxuXHJcbiAgICAgICAgbmV3IEJ1dHRvbig2MDAsIDc1MCwgdGhpcywgJ1NQUl9CdXR0b24nLCBcIlNhbGlyXCIsICgpID0+IHRoaXMuTGVhdmUoKSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMUljb24gPSB0aGlzLmFkZC5pbWFnZSgxMjAwIC0gMzAwLCAzMDAsICdTUFJfVmFtcGlyZScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMU5hbWUgPSB0aGlzLmFkZC50ZXh0KDMwMCwgMTIwLCBcIi4uLlwiLCB7IGZvbnRTaXplOiBcIjMycHhcIiB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIySWNvbiA9IHRoaXMuYWRkLmltYWdlKDMwMCwgMzAwLCAnU1BSX1pvbWJpZScpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMk5hbWUgPSB0aGlzLmFkZC50ZXh0KDEyMDAgLSAzMDAsIDEyMCwgXCIuLi5cIiwgeyBmb250U2l6ZTogXCIzMnB4XCIgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0ID0gdGhpcy5hZGQudGV4dCg2MDAsIDUwMCwgXCIuLi5cIiwgeyBmb250U2l6ZTogXCIzMnB4XCIgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVJbigxMDAsIDAsIDAsIDApO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KGBFc3BlcmFuZG8gcml2YWwuLi5gKTtcclxuICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuXHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBMZWF2ZSgpIHtcclxuICAgICAgICB0aGlzLkxlYXZlUXVldWUoKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5mYWRlT3V0KDEwMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ub25jZShQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkV2ZW50cy5GQURFX09VVF9DT01QTEVURSwgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgICAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG4gICAgICAgICAgICB0aGlzLndzLmluTG9iYnkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICAgICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdKT0lOX1FVRVVFJywgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykgfSkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbigtMTI4LCAtMTI4KVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldFRleHQoJyMgRXJyb3IgZGUgY29uZXhpw7NuICMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCcjIENvbmV4acOzbiBwZXJkaWRhICMnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b24uc2V0UG9zaXRpb24oLTEyOCwgLTEyOClcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KCcjIEZhbGxvIGFsIGNvbmVjdGFyICMnKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllck5vdENvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KGBFc3BlcmFuZG8gcml2YWwuLi5gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uLnNldFBvc2l0aW9uKC0xMjgsIC0xMjgpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIxTmFtZS5zZXRUZXh0KFwiLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIyTmFtZS5zZXRUZXh0KFwiLi4uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRUZXh0KGDCoVJpdmFsIGVuY29udHJhZG8hYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbi5zZXRQb3NpdGlvbig2MDAsIDYwMCk7IC8vIEFob3JhIHPDrSBlcyBjbGljYWJsZVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXIxVXNlcm5hbWUgPSBcIlTDmlwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllcjJVc2VybmFtZSA9IFwiVMOaXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgZmV0Y2goYC9hcGkvdXNlcnMvJHtkYXRhLmVuZW15SWR9YClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvbGUgPT0gXCJwbGF5ZXIxXCIpIHBsYXllcjJVc2VybmFtZSA9IHVzZXIudXNlcm5hbWU7IGVsc2UgcGxheWVyMVVzZXJuYW1lID0gdXNlci51c2VybmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyMU5hbWUuc2V0VGV4dChwbGF5ZXIxVXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcjJOYW1lLnNldFRleHQocGxheWVyMlVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gc2UgcHVkbyBjYXJnYXIgZWwgdXN1YXJpbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnU1RBUlRfR0FNRSc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyBpbiByb29tOicsIGRhdGEucm9vbUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJTVBPUlRBTlRFOiBkZXNhY3RpdmFyIGVsIGhhbmRsZXIgZGVsIExvYmJ5XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGVzYWN0aXZhciBoYW5kbGVyIGRlbCBMb2JieVxyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBhcmFyIGxhIGVzY2VuYSBMb2JieVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdMb2JieScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEluaWNpYXIgbGEgZXNjZW5hIGRlbCBqdWVnb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3M6IHRoaXMud3MsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gc2VydmVyIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBMZWF2ZVF1ZXVlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi8uLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGltZXJDb250cm9sbGVye1xyXG4gICAgY29uc3RydWN0b3IgKHNjZW5lLCB0ZXh0KXtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdUaW1lID0gMTAwO1xyXG4gICAgICAgIHRoaXMuY2FuQ291bnREb3duID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy9DdWVudGEgZGUgcm9uZGFzXHJcbiAgICAgICAgdGhpcy5jeWNsZXMgPSAwOyAgICAgICAgLy8gY3XDoW50YXMgdmVjZXMgaGEgdGVybWluYWRvXHJcbiAgICAgICAgdGhpcy5tYXhDeWNsZXMgPSAzOyAgICAgLy8gbcOheGltbyBkZSByZXBldGljaW9uZXNcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlQ291bnRkb3duKCl7XHJcbiAgICAgICAgdGhpcy5jYW5Db3VudERvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQodGltZSl7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdUaW1lID0gdGltZTtcclxuICAgIH1cclxuICAgIHNldE5vdENvb2xkb3duRXZlbnQoY2FsbGJhY2spe1xyXG4gICAgICAgIHRoaXMubm90Q29vbGRvd25FdmVudCA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KGR1cmF0aW9uLCBjYWxsYmFjayl7XHJcbiAgICAgICAgLy9TaSB5YSBleGlzdGUsIGRlc3RydWlyIGVsIGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5jYW5Db3VudERvd24pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuYWxlcnRQbGF5ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoXHJcbiAgICAgICAge2RlbGF5OmR1cmF0aW9uLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKXtcclxuICAgICAgICBpZih0aGlzLnRpbWVyRXZlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIC8vU2kgbm8gZXhpc3RlLCB2b2x2ZXJcclxuICAgICAgICBpZiAodGhpcy5jYW5Db3VudERvd24gJiYgKCF0aGlzLnRpbWVyRXZlbnQgfHwgdGhpcy5kdXJhdGlvbiA8PSAwKSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY2FuQ291bnREb3duKXtcclxuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRoaXMudGltZXJFdmVudC5nZXRFbGFwc2VkKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nVGltZSA9IHRoaXMuZHVyYXRpb24gLSBlbGFwc2VkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXZpdGFyIG5lZ2F0aXZvXHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGgubWF4KDAsIHRoaXMucmVtYWluaW5nVGltZSAvIDEwMDApO1xyXG5cclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9IGAke3NlY29uZHMudG9GaXhlZCgyKX1gO1xyXG5cclxuICAgICAgICAvL1NvbmlkbyBkZSBhbGVydGEgY3VhbmRvIHF1ZWRhbiAxMCBzZWd1bmRvcyBvIG1lbm9zXHJcbiAgICAgICAgaWYgKHNlY29uZHMgPD0gNSAmJiAhdGhpcy5hbGVydFBsYXllZCkge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lckFsZXJ0ID0gdGhpcy5zY2VuZS5zb3VuZC5hZGQoJ3RpbWVyX2FsZXJ0Jyk7XHJcbiAgICAgICAgICAgIHRpbWVyQWxlcnQucGxheSh7IHZvbHVtZTogQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpICogNCB9KTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFBsYXllZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihzZWNvbmRzIDw9IDAgJiYgdGhpcy5ub3RDb29sZG93bkV2ZW50KXtcclxuICAgICAgICAgICAgdGhpcy5ub3RDb29sZG93bkV2ZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMubm90Q29vbGRvd25FdmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEVudGl0aWVzQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBBZGRFbnRpdHkoZW50aXR5KXtcclxuICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuVXBkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBzcHJpdGUsIHNjZW5lLCB1c2VTcHJpdGUgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNwcml0ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgICAgICBpZiAodXNlU3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBzcHJpdGUpXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IHNjZW5lLnBoeXNpY3MuYWRkLmltYWdlKHgsIHksIHNwcml0ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRTY2FsZShzY2FsZSk7XHJcblxyXG4gICAgICAgIC8vIEJvZHkgYsOhc2ljbyBwYXJhIG92ZXJsYXBcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7IC8vIG9wY2lvbmFsLCBldml0YSBxdWUgc2FsZ2EgZGVsIG1hcGFcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRTaXplKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3Qud2lkdGggKiAwLjgsICAvLyBhbmNobyBkZWwgY3VlcnBvXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC5oZWlnaHQgKiAwLjggIC8vIGFsdG8gZGVsIGN1ZXJwb1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuc2V0T2Zmc2V0KFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3Qud2lkdGggKiAwLjEsICAvLyBvcGNpb25hbCwgY2VudHJhciBib2R5XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdC5oZWlnaHQgKiAwLjFcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICBNdWV2ZSBsYSBlbnRpZGFkIGEgdW5hIHBvc2ljaW9uXHJcbiAgICBNb3ZlVG8oeCwgeSkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLlVwZGF0ZUJvZHlDb29yZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgTXVldmUgYSBsYSBlbnRpZGFkICd4JyBlICd5JyB1bmlkYWRlc1xyXG4gICAgTW92ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ICs9IHg7XHJcbiAgICAgICAgdGhpcy55ICs9IHk7XHJcbiAgICAgICAgdGhpcy5VcGRhdGVCb2R5Q29vcmRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlQm9keUNvb3JkcygpIHtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QueCA9IHRoaXMueDtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QueSA9IHRoaXMueTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgQWN0dWFsaXphIGxhIGVudGlkYWRcclxuICAgIFVwZGF0ZSgpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL0VudGl0eS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBFbnRpdHl7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSl7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nSWQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwT3ZlcmxhcChwbGF5ZXIsIHNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuZ2FtZU9iamVjdCwgdGhpcy5nYW1lT2JqZWN0LCAoKSA9PiB7IHBsYXllci5HcmFiSXRlbSh0aGlzKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBHcmFiSXRlbShwbGF5ZXIpe1xyXG4gICAgICAgIGlmKHBsYXllciA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHRoaXMucGxheWVyR3JhYmJpbmcgIT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIGlmKHBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nID0gcGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIENsZWFyUGxheWVyKCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJHcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJHcmFiYmluZ0lkID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLnBsYXllckdyYWJiaW5nICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSAtIDYwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FuZHkgZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC02NCwgLTY0LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVzZXQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgVXBkYXRlKCl7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmhhc1NwYXduZWQpe1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduVGltZS0tO1xyXG4gICAgICAgICAgICBpZih0aGlzLnNwYXduVGltZSA8IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFJlc2V0KCl7XHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oLTY0LCAtNjQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3Bhd25UaW1lID0gUGhhc2VyLk1hdGguQmV0d2Vlbig2MCwgMjQwKTtcclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRocm93YWJsZUl0ZW0gZXh0ZW5kcyBJdGVte1xyXG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHNwcml0ZSwgc2NlbmUpe1xyXG4gICAgICAgIHN1cGVyKC0xMjgsIC0xMjgsIHNjYWxlLCBzcHJpdGUsIHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5Nb3ZlVG8oUGhhc2VyLk1hdGguQmV0d2VlbigyNTYsIDEyMDAgLSAyNTYpLCBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEyOCwgODAwIC0gMTI4KSk7XHJcblxyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFggPSAwO1xyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFkgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aHJvd093bmVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpIHtcclxuICAgICAgICBzdXBlci5zZXR1cE92ZXJsYXAocGxheWVyMSwgcGxheWVyMiwgc2NlbmUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjEuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjEuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHBsYXllcjIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJvd093bmVyICYmIHRoaXMudGhyb3dPd25lciAhPT0gcGxheWVyMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjIuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFRocm93KHhEaXIsIHlEaXIpe1xyXG4gICAgICAgIGlmKHRoaXMucGxheWVyR3JhYmJpbmcgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJvd0ZvcmNlID0gMzA7XHJcbiAgICAgICAgdGhpcy50aHJvd1NwZWVkWCA9IHRocm93Rm9yY2UgKiAoeERpciA+IDAgPyAxIDogeERpciA9PSAwID8gMCA6IC0xKTtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRZID0gdGhyb3dGb3JjZSAqICh5RGlyID4gMCA/IDEgOiB5RGlyID09IDAgPyAwIDogLTEpO1xyXG5cclxuICAgICAgICB0aGlzLk1vdmVUbyh0aGlzLnBsYXllckdyYWJiaW5nLngsIHRoaXMucGxheWVyR3JhYmJpbmcueSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRocm93T3duZXIgPSB0aGlzLnBsYXllckdyYWJiaW5nO1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKXtcclxuICAgICAgICBzdXBlci5VcGRhdGUoKTtcclxuICAgICAgICB0aGlzLlRocm93TW92ZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBUaHJvd01vdmVtZW50KCl7XHJcbiAgICAgICAgaWYoTWF0aC5hYnModGhpcy50aHJvd1NwZWVkWCkgPCAxICYmIE1hdGguYWJzKHRoaXMudGhyb3dTcGVlZFkpIDwgMSl7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dPd25lciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUaHJvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzaXN0YW5jZSA9IDAuOTtcclxuICAgICAgICB0aGlzLk1vdmUodGhpcy50aHJvd1NwZWVkWCAqPSByZXNpc3RhbmNlLCB0aGlzLnRocm93U3BlZWRZICo9IHJlc2lzdGFuY2UpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnggPCA1MCB8fCB0aGlzLnggPiAxMjAwIC0gNTApIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd1NwZWVkWCAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlKDUgKiBNYXRoLnNpZ24odGhpcy50aHJvd1NwZWVkWCksIDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMueSA8IDUwIHx8IHRoaXMueSA+IDgwMCAtIDUwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dTcGVlZFkgKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuTW92ZSgwLCA1ICogTWF0aC5zaWduKHRoaXMudGhyb3dTcGVlZFkpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lQ2FuZHkgZXh0ZW5kcyBJdGVtIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpY2nDs24gWCBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWSBlbnZpYWRhIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZSBcclxuICAgICAqIEBwYXJhbSB7UGhhc2VyLlNjZW5lfSBzY2VuZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIMO6bmljbyBkZWwgY2FyYW1lbG8gZW52aWFkbyBwb3IgZWwgc2Vydmlkb3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUsIGlkKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIHNwcml0ZSwgc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5oYXNTcGF3bmVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKCk7XHJcbiAgICAgICAgLy8gTm8gc3Bhd24sIG5vIHNwYXduVGltZSwgbmFkYSBkZSByYW5kb21cclxuICAgIH1cclxuXHJcblxyXG4gICAgT25Db2xsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgcXVlIGVzdGUgY2FyYW1lbG8gZnVlIFJFQ09HSURPXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0NBTkRZX0NPTExFQ1RFRCcsXHJcbiAgICAgICAgICAgICAgICBjYW5keUlkOiB0aGlzLmlkXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBSZXNldCgpIHtcclxuICAgICAgICB0aGlzLkNsZWFyUGxheWVyKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9JdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25saW5lVGhyb3dhYmxlSXRlbSBleHRlbmRzIEl0ZW0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2ljacOzbiBYIGVudmlhZGEgcG9yIGVsIHNlcnZpZG9yXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2ljacOzbiBZIGVudmlhZGEgcG9yIGVsIHNlcnZpZG9yXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ByaXRlIFxyXG4gICAgICogQHBhcmFtIHtQaGFzZXIuU2NlbmV9IHNjZW5lIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gSUQgw7puaWNvIGRlbCBjYXJhbWVsbyBlbnZpYWRvIHBvciBlbCBzZXJ2aWRvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSwgaWQpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgc3ByaXRlLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmhhc1NwYXduZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnRocm93U3BlZWRYID0gMDtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRZID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGhyb3dPd25lciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLlVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuVGhyb3dNb3ZlbWVudCgpO1xyXG4gICAgICAgIC8vIE5vIHNwYXduLCBubyBzcGF3blRpbWUsIG5hZGEgZGUgcmFuZG9tXHJcbiAgICB9XHJcblxyXG4gICAgT25Db2xsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKC02NCwgLTY0KTsgLy8gb2N1bHRhcmxvIG1pZW50cmFzIGxsZWdhIGxhIG51ZXZhIHBvc2ljacOzblxyXG4gICAgICAgIHRoaXMuaGFzU3Bhd25lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY2VuZS53cyAmJiB0aGlzLnNjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUkVRVUVTVF9DQU5EWV9SRVNQQVdOJyxcclxuICAgICAgICAgICAgICAgIGNhbmR5SWQ6IHRoaXMuaWRcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAocGxheWVyLCBwbGF5ZXJSb2xlLCBzY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMub25QbGF5ZXJPdmVybGFwKHBsYXllciwgcGxheWVyUm9sZSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgcGxheWVyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGhyb3dPd25lciAmJiB0aGlzLnRocm93T3duZXIgIT09IHBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuS25vY2tPdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBvblBsYXllck92ZXJsYXAocGxheWVyLCBwaWNrZXIpIHtcclxuICAgICAgICBpZighcGxheWVyLmdyYWJLZXkgfHwgIXBsYXllci5ncmFiS2V5LmlzRG93bikgcmV0dXJuO1xyXG4gICAgICAgIGlmKHBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwgfHwgcGxheWVyLmhhc1Rocm93YWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3JcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS53cyAmJiB0aGlzLnNjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlRIUk9XQUJMRV9QSUNLVVBcIixcclxuICAgICAgICAgICAgICAgIGl0ZW1JZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgICAgIHBpY2tlclxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJSRVFVRVNUX1RIUk9XQUJMRV9QSUNLVVBcIixcclxuICAgICAgICAgICAgICAgIGl0ZW1JZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgICAgIHBpY2tlclxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsYXllckdyYWJiaW5nSWQgPSBwaWNrZXJcclxuICAgIH1cclxuICAgIFJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuQ2xlYXJQbGF5ZXIoKTtcclxuICAgICAgICAvLyBubyBtb3ZlciBhIC02NCwgLTY0XHJcbiAgICAgICAgLy8gbm8gc3Bhd25UaW1lXHJcbiAgICB9XHJcblxyXG4gICAgQ2hlY2tUaHJvdygpe1xyXG4gICAgICAgIGlmKCF0aGlzLnBsYXllckdyYWJiaW5nLmdyYWJLZXkuaXNEb3duKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJUSFJPV19JVEVNXCIsXHJcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICBvd25lcjogdGhpcy5wbGF5ZXJHcmFiYmluZ0lkXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJHcmFiYmluZy5oYXNUaHJvd2FibGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGxheWVyR3JhYmJpbmcuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJHcmFiYmluZ0lkID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBUaHJvd0l0ZW0oZGF0YSl7XHJcbiAgICAgICAgdGhpcy5UaHJvdyhkYXRhLm93bmVyLmZhY2luZ1gsIGRhdGEub3duZXIuZmFjaW5nWSlcclxuICAgICAgICB0aGlzLlJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgVGhyb3coeERpciwgeURpcil7XHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXJHcmFiYmluZyA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRocm93Rm9yY2UgPSAzMDtcclxuICAgICAgICB0aGlzLnRocm93U3BlZWRYID0gdGhyb3dGb3JjZSAqICh4RGlyID4gMCA/IDEgOiB4RGlyID09IDAgPyAwIDogLTEpO1xyXG4gICAgICAgIHRoaXMudGhyb3dTcGVlZFkgPSB0aHJvd0ZvcmNlICogKHlEaXIgPiAwID8gMSA6IHlEaXIgPT0gMCA/IDAgOiAtMSk7XHJcblxyXG4gICAgICAgIHRoaXMuTW92ZVRvKHRoaXMucGxheWVyR3JhYmJpbmcueCwgdGhpcy5wbGF5ZXJHcmFiYmluZy55KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNUaHJvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGhyb3dPd25lciA9IHRoaXMucGxheWVyR3JhYmJpbmc7XHJcbiAgICAgICAgdGhpcy5DbGVhclBsYXllcigpO1xyXG4gICAgfVxyXG5cclxuICAgIFRocm93TW92ZW1lbnQoKXtcclxuICAgICAgICBpZihNYXRoLmFicyh0aGlzLnRocm93U3BlZWRYKSA8IDEgJiYgTWF0aC5hYnModGhpcy50aHJvd1NwZWVkWSkgPCAxKXtcclxuICAgICAgICAgICAgdGhpcy50aHJvd093bmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5pc1Rocm93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNpc3RhbmNlID0gMC45O1xyXG4gICAgICAgIHRoaXMuTW92ZSh0aGlzLnRocm93U3BlZWRYICo9IHJlc2lzdGFuY2UsIHRoaXMudGhyb3dTcGVlZFkgKj0gcmVzaXN0YW5jZSk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMueCA8IDUwIHx8IHRoaXMueCA+IDEyMDAgLSA1MCkge1xyXG4gICAgICAgICAgICB0aGlzLnRocm93U3BlZWRYICo9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLk1vdmUoNSAqIE1hdGguc2lnbih0aGlzLnRocm93U3BlZWRYKSwgMClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy55IDwgNTAgfHwgdGhpcy55ID4gODAwIC0gNTApIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd1NwZWVkWSAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlKDAsIDUgKiBNYXRoLnNpZ24odGhpcy50aHJvd1NwZWVkWSkpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRocm93YWJsZUl0ZW0gfSBmcm9tIFwiLi4vaXRlbXMvVGhyb3dhYmxlSXRlbS5qc1wiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuaW1wb3J0IHsgQ2FuZHkgfSBmcm9tIFwiLi4vaXRlbXMvQ2FuZHkuanNcIjtcclxuaW1wb3J0IHsgT25saW5lQ2FuZHkgfSBmcm9tIFwiLi4vaXRlbXMvT25saW5lQ2FuZHkuanNcIjtcclxuaW1wb3J0IHsgT25saW5lVGhyb3dhYmxlSXRlbSB9IGZyb20gXCIuLi9pdGVtcy9PbmxpbmVUaHJvd2FibGVJdGVtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHNjYWxlLCBjaGFyYWN0ZXJOYW1lLCBzY2VuZSwgY3Vyc29ycywgZ3JhYkl0ZW1LZXksIGlzTG9jYWwgPSB0cnVlKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsIGAke2NoYXJhY3Rlck5hbWV9X2Zyb250RXN0YCwgc2NlbmUsIHRydWUpOyAvL0RlZmF1bHQgcGxheWVyIGFsIGluaWNpYXJcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJOYW1lID0gY2hhcmFjdGVyTmFtZTtcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSBjdXJzb3JzO1xyXG5cclxuICAgICAgICB0aGlzLmdyYWJJdGVtS2V5ID0gZ3JhYkl0ZW1LZXk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzTG9jYWwgPSBpc0xvY2FsO1xyXG4gICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXNJbnRlcmFjdGVkV2l0aEl0ZW1zID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ncmFiSXRlbUlucHV0T24gPSBmYWxzZTtcclxuICAgICAgICAvKnRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleWRvd24tJHt0aGlzLmdyYWJJdGVtS2V5fWAsICgpID0+IHRoaXMuZ3JhYkl0ZW1JbnB1dE9uID0gdHJ1ZSApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQub24oYGtleXVwLSR7dGhpcy5ncmFiSXRlbUtleX1gLCAoKSA9PiB0aGlzLmdyYWJJdGVtSW5wdXRPbiA9IGZhbHNlICk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5mYWNpbmdYID0gMDtcclxuICAgICAgICB0aGlzLmZhY2luZ1kgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmtub2NrT3V0VGltZXIgPSAwO1xyXG5cclxuICAgICAgICAvLyBFc2N1Y2hhciB0ZWNsYSBkZSByZWNvZ2VyXHJcbiAgICAgICAgaWYgKHRoaXMuZ3JhYkl0ZW1LZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmFiS2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2dyYWJJdGVtS2V5XVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb3ZlbWVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLkl0ZW1JbnB1dHMoKTtcclxuICAgICAgICAgICAgdGhpcy5DaGVja1BpY2t1cCgpO1xyXG4gICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgaW5zdGFuY2VvZiBPbmxpbmVUaHJvd2FibGVJdGVtKSB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcuQ2hlY2tUaHJvdygpO1xyXG4gICAgICAgICAgICAvL2lmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcpIHRoaXMuR3JhYkl0ZW0odGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBNb3ZlbWVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29ycykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnZ4ID0gMDtcclxuICAgICAgICB0aGlzLnZ5ID0gMDtcclxuICAgICAgICBsZXQgbW92aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nWCA9IDA7XHJcbiAgICAgICAgdGhpcy5mYWNpbmdZID0gMDtcclxuXHJcbiAgICAgICAgLy9QYXJhIHF1ZSBzb3BvcnRlIGxhcyBkaWFnb25hbGVzLCBwcmltZXJvIHNlIGRldGVjdGEgbGEgZGlyZWNjacOzblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMubGVmdD8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnggPSAtdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdYID0gLTE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMucmlnaHQ/LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnZ4ID0gdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdYID0gMTsgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cD8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnkgPSAtdGhpcy5zcGVlZDsgdGhpcy5mYWNpbmdZID0gLTE7IG1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMuZG93bj8uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudnkgPSB0aGlzLnNwZWVkOyB0aGlzLmZhY2luZ1kgPSAxOyBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3kgbHVlZ28gc2UgZWxpZ2UgbGEgYW5pbWFjacOzbiBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKG1vdmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52eCAhPT0gMCAmJiB0aGlzLnZ5ICE9PSAwKSB7IC8vY29uZGljacOzbiBkZSBsYSBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy52eCA+IDAgPyBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X3JpZ2h0X2FuaW1gIDogYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9sZWZ0X2FuaW1gO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudnggIT09IDApIHsgLy9tdnRvIG5vcm1hbCBpenEvZGNoYVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy52eCA+IDAgPyBgJHt0aGlzLmNoYXJhY3Rlck5hbWV9X3JpZ2h0X2FuaW1gIDogYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9sZWZ0X2FuaW1gO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudnkgIT09IDApIHsgLy9tdnRvIG5vcm1hbCBhcnJpYmEvYWJham9cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMudnkgPiAwID8gYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9mcm9udF9hbmltYCA6IGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fYmFja19hbmltYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5pbWF0aW9uKSB0aGlzLmdhbWVPYmplY3QuYW5pbXMucGxheShhbmltYXRpb24sIHRydWUpOyAvL1NlIGVqZWN1dGEgbGEgYW5pbWFjacOzbiBzaSBlbCBwZXJzb25hamUgc2UgZXN0w6EgbW92aWVuZG9cclxuICAgICAgICBlbHNlIHRoaXMuZ2FtZU9iamVjdC5zZXRUZXh0dXJlKGAke3RoaXMuY2hhcmFjdGVyTmFtZX1fZnJvbnRFc3RgKTsgLy9zaSBubywgaWRsZVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24gPSBhbmltYXRpb24gfHwgYCR7dGhpcy5jaGFyYWN0ZXJOYW1lfV9mcm9udEVzdGA7XHJcblxyXG4gICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBtb3Zpbmc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMua25vY2tPdXRUaW1lciA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5rbm9ja091dFRpbWVyLS1cclxuICAgICAgICAgICAgdGhpcy52eCA9IDBcclxuICAgICAgICAgICAgdGhpcy52eSA9IDBcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmdYID0gMFxyXG4gICAgICAgICAgICB0aGlzLmZhY2luZ1kgPSAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLk1vdmUoXHJcbiAgICAgICAgICAgIHRoaXMudnggKiB0aGlzLnNjZW5lLmdhbWUubG9vcC5kZWx0YSAvIDEwMDAsXHJcbiAgICAgICAgICAgIHRoaXMudnkgKiB0aGlzLnNjZW5lLmdhbWUubG9vcC5kZWx0YSAvIDEwMDBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvL1BhcmEgcXVlIG5vIHNlIHNhbGdhIGRlbCBtYXBhXHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy5nYW1lT2JqZWN0LmRpc3BsYXlXaWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IHRoaXMuZ2FtZU9iamVjdC5kaXNwbGF5SGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMueCA8IGhhbGZXaWR0aCkgdGhpcy5Nb3ZlVG8oaGFsZldpZHRoLCB0aGlzLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnggPiB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCAtIGhhbGZXaWR0aCkgdGhpcy5Nb3ZlVG8odGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcud2lkdGggLSBoYWxmV2lkdGgsIHRoaXMueSk7XHJcbiAgICAgICAgaWYgKHRoaXMueSA8IGhhbGZIZWlnaHQpIHRoaXMuTW92ZVRvKHRoaXMueCwgaGFsZkhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMueSA+IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCAtIGhhbGZIZWlnaHQpIHRoaXMuTW92ZVRvKHRoaXMueCwgdGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcuaGVpZ2h0IC0gaGFsZkhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgSXRlbUlucHV0cygpIHtcclxuICAgICAgICBpZiAodGhpcy5rbm9ja091dFRpbWVyID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ncmFiSXRlbUlucHV0T24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWRJdGVtSW50ZXJhY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHRoaXMuaGFzSW50ZXJhY3RlZFdpdGhJdGVtcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZ3JhYkl0ZW1JbnB1dE9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzVXBkYXRlZEl0ZW1JbnRlcmFjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID4gMCkgdGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93bi0tO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdyYWJJdGVtKGl0ZW0pIHtcclxuICAgIC8vICAgICBpZiAodGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA+IDApIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgaWYgKCF0aGlzLmhhc0ludGVyYWN0ZWRXaXRoSXRlbXMpIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyAhPSBudWxsKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgaW5zdGFuY2VvZiBUaHJvd2FibGVJdGVtKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcuVGhyb3codGhpcy5mYWNpbmdYLCB0aGlzLmZhY2luZ1kpO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPSAzO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGlmIChpdGVtLnBsYXllckdyYWJiaW5nICE9IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgaXRlbS5HcmFiSXRlbSh0aGlzKTtcclxuICAgIC8vICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBpdGVtO1xyXG5cclxuICAgIC8vICAgICB0aGlzLml0ZW1JbnRlcmFjdGlvbkNvb2xkb3duID0gMztcclxuXHJcbiAgICAvLyAgICAgIGlmICh0aGlzLmlzTG9jYWwgJiYgaXRlbSBpbnN0YW5jZW9mIE9ubGluZUNhbmR5KSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaGFzQ2FuZHkgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICBpZiAodGhpcy5zY2VuZS5zZW5kKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnNjZW5lLnNlbmQoe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICdDQU5EWV9QSUNLVVAnLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNhbmR5SWQ6IGl0ZW0uaWQsXHJcbiAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgdGhpcy5oYXNDYW5keSA9IHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyBpbnN0YW5jZW9mIENhbmR5IHx8IHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyBpbnN0YW5jZW9mIE9ubGluZUNhbmR5O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIEdyYWJJdGVtKGl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5pdGVtSW50ZXJhY3Rpb25Db29sZG93biA+IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBPbmxpbmVDYW5keSB8fCBpdGVtIGluc3RhbmNlb2YgQ2FuZHkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbUludGVyYWN0aW9uQ29vbGRvd24gPSAxMDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDaGVja1BpY2t1cCgpIHtcclxuXHJcbiAgICAgICAgLy8gU29sbyByZWNvZ2VyIHNpIGxhIHRlY2xhIGVzdMOhIHByZXNpb25hZGFcclxuICAgICAgICBpZiAoIXRoaXMuZ3JhYktleSB8fCAhdGhpcy5ncmFiS2V5LmlzRG93bikgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBTaSB5YSB0aWVuZXMgdW4gb2JqZXRvLCBubyBwdWVkZXMgcmVjb2dlciBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuc2NlbmUuZW50aXRpZXNDb250cm9sbGVyLmVudGl0aWVzO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghKGVudGl0eSBpbnN0YW5jZW9mIENhbmR5IHx8IGVudGl0eSBpbnN0YW5jZW9mIE9ubGluZUNhbmR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICghZW50aXR5Lmhhc1NwYXduZWQpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZHggPSBNYXRoLmFicyh0aGlzLnggLSBlbnRpdHkueCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gTWF0aC5hYnModGhpcy55IC0gZW50aXR5LnkpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRocmVzaG9sZCA9IDUwO1xyXG5cclxuICAgICAgICAgICAgLy8gU09MTyByZWNvZ2VyIHNpIGVzdMOhcyBjZXJjYSBZIHByZXNpb25hcyBsYSB0ZWNsYVxyXG4gICAgICAgICAgICBpZiAoZHggPCBkaXN0YW5jZVRocmVzaG9sZCAmJiBkeSA8IGRpc3RhbmNlVGhyZXNob2xkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNDYW5keSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIE9ubGluZUNhbmR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Lk9uQ29sbGVjdGVkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLndzICYmIHRoaXMuc2NlbmUud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdDQU5EWV9DT0xMRUNURUQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZHlJZDogZW50aXR5LmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIExsYW1hciBjdWFuZG8gZWwganVnYWRvciBzdWpldGEgdW4gY2FyYW1lbG9cclxuICAgIERlbGl2ZXJDYW5keSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzQ2FuZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZHkgPSB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmc7XHJcbiAgICAgICAgaWYgKCFjYW5keSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmhhc0NhbmR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgY2FuZHkuUmVzZXQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNMb2NhbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgICAgICdDQU5EWV9ERUxJVkVSRUQgZW52aWFkbyBhbCBzZXJ2ZXIsIGNhbmR5SWQ6JyxcclxuICAgICAgICAgICAgICAgIGNhbmR5LmlkXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0NBTkRZX0RFTElWRVJFRCcsXHJcbiAgICAgICAgICAgICAgICBjYW5keUlkOiBjYW5keS5pZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBpY2tUaHJvd2FibGUoaXRlbSkge1xyXG4gICAgICAgIHRoaXMuaGFzVGhyb3dhYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRocm93YWJsZUl0ZW0gPSBpdGVtO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgS25vY2tPdXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMua25vY2tPdXRUaW1lciA+IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5rbm9ja091dFRpbWVyID0gMTAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nLk1vdmVUbyh0aGlzLngsIHRoaXMueSlcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUdyYWJiaW5nLkNsZWFyUGxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vY29yZS9FbnRpdHkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5keUJhc2tldCBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB0ZXh0WCwgdGV4dFksIHBsYXllck93bmVyLCBzY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHksIDAuMTUsIG51bGwsIHNjZW5lKVxyXG5cclxuICAgICAgICB0aGlzLm93bmVyID0gcGxheWVyT3duZXI7XHJcbiAgICAgICAgdGhpcy5jYW5kaWVzID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc2NlbmUuYWRkLnRleHQodGV4dFgsIHRleHRZLCAwLCB7IGZvbnRTaXplOiBcIjMycHhcIiwgY29sb3I6IFwiI2ZmZmZmZlwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMGE3XCIgfSlcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBwbGF5ZXJPd25lci5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJPd25lci5oYXNDYW5keSkgcGxheWVyT3duZXIuRGVsaXZlckNhbmR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBTZXRDYW5kaWVzKGNvdW50KSB7IHRoaXMuY2FuZGllcyA9IGNvdW50OyB0aGlzLnRleHQudGV4dCA9IGNvdW50OyB9XHJcblxyXG4gICAgQ2hlY2tGb3JDYW5keSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3duZXIuaGFzQ2FuZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0LnRleHQgPSArK3RoaXMuY2FuZGllcztcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXNldCBkZWwganVnYWRvclxyXG4gICAgICAgIHRoaXMub3duZXIuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5vd25lci5jdXJyZW50SXRlbUdyYWJiaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuY3VycmVudEl0ZW1HcmFiYmluZy5nYW1lT2JqZWN0LmRlc3Ryb3koKTsgLy8gZGVzdHJ1aXIgc3ByaXRlXHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuY3VycmVudEl0ZW1HcmFiYmluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYWwgc2Vydmlkb3IgcXVlIHNlIGVudHJlZ8OzIHVuIGNhcmFtZWxvXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUud3MgJiYgdGhpcy5zY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0NBTkRZX0RFTElWRVJFRCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6IHRoaXMub3duZXIgPT09IHRoaXMuc2NlbmUubG9jYWxQbGF5ZXIgPyAncGxheWVyMScgOiAncGxheWVyMidcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgUmVzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmNhbmRpZXMgPSAwO1xyXG4gICAgICAgIHRoaXMudGV4dC50ZXh0ID0gMDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL0VudGl0eS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNwZWVkUG93ZXJVcCBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc2NlbmUpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCBzY2FsZSwgJ3NwZWVkX3Bvd2VydXAnLCBzY2VuZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwT3ZlcmxhcChwbGF5ZXIxLCBwbGF5ZXIyLCBzY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdCxcclxuICAgICAgICAgICAgcGxheWVyMS5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB0aGlzLmFwcGx5KHBsYXllcjEpLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICBwbGF5ZXIyLmdhbWVPYmplY3QsXHJcbiAgICAgICAgICAgICgpID0+IHRoaXMuYXBwbHkocGxheWVyMiksXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5KHBsYXllcikge1xyXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3Quc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEF1bWVudG8gdmVsb2NpZGFkXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTcGVlZCA9IHBsYXllci5zcGVlZDtcclxuICAgICAgICBwbGF5ZXIuc3BlZWQgKj0gMS41O1xyXG5cclxuICAgICAgICAvLyBEdXJhY2nDs24gZGVsIGVmZWN0byA1IHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgcGxheWVyLnNwZWVkID0gb3JpZ2luYWxTcGVlZDtcclxuICAgICAgICAgICAgdGhpcy5yZXNwYXduKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzcGF3bigpIHtcclxuICAgICAgICB0aGlzLk1vdmVUbyhcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguQmV0d2VlbigyMDAsIDEwMDApLFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5CZXR3ZWVuKDIwMCwgNjAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuLy9pbXBvcnRhciBpbWFnZW5lc1xyXG4vL0pVRUdPXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGZsb29yIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9zdG9uZV90aWxlLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGdhbWVfYm91bmRhcnkgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2dhbWVfYm91bmRhcnkucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgbGVhdmVzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9sZWF2ZXNfb3ZlcmxheS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBibHVlQmFzZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvYmx1ZUJhc2UucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcmVkQmFzZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvcmVkQmFzZS5wbmcnO1xyXG5cclxuLy9USU1FUlxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB0aW1lckltZyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvVGltZXIxLnBuZyc7XHJcblxyXG5cclxuLy9JVEVNU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjYW5keVNwcml0ZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvY2FyYW1lbG8ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjEgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphIDIucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAzLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHJvY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBwaWVkcmEucG5nJztcclxuXHJcbi8vQ09OVFJPTEVTXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xXQVNEIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzV0FTRC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjb250cm9sSUpMSyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9Db250cm9sc0lKS0wucG5nJztcclxuXHJcbi8vUE9XRVIgVVBTXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHNwZWVkUG93ZXJVcFNwcml0ZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqX2ZvY29fZGVmLnBuZyc7XHJcblxyXG4vL1BFUlNPTkFKRVNcclxuLy9QYXJhIGVsIGlkbGUgKHRlbXBvcmFsKVxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3pvbWJpZV9mcm9udC5wbmcnO1xyXG4vL0FuaW1hY2lvbmVzXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUZyb250IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYWJhY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfYmFjay5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhUmlnaHQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfcmlnaHQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUJhY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfYmFjay5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUxlZnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfbGVmdC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX3JpZ2h0LnBuZyc7XHJcblxyXG4vL1NPTklET1NcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZ2FtZU11c2ljIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvZ2FtZV9tdXNpYy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB0aW1lckFsZXJ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvdGltZXJfYWxlcnQubXAzJztcclxuXHJcbi8vQ0xBU0VTXHJcbmltcG9ydCB7IFRpbWVyQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL1RpbWVyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IEVudGl0aWVzQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2NvbnRyb2xsZXJzL0VudGl0aWVzQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IENhbmR5IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvQ2FuZHkuanMnO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9wbGF5ZXIvcGxheWVyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IFRocm93YWJsZUl0ZW0gfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9UaHJvd2FibGVJdGVtLmpzJztcclxuaW1wb3J0IHsgQ2FuZHlCYXNrZXQgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9DYW5keUJhc2tldC5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uLy4uL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBTcGVlZFBvd2VyVXAgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9TcGVlZFBvd2VyVXAuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICAvL0dhbWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zsb29yJywgZmxvb3IpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ2FtZV9ib3VuZGFyeScsIGdhbWVfYm91bmRhcnkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGVhdmVzJywgbGVhdmVzKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JsdWVCYXNlJyxibHVlQmFzZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWRCYXNlJyxyZWRCYXNlKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2dhbWVfbXVzaWMnLCBnYW1lTXVzaWMpO1xyXG4gICAgICAgIC8vVGltZXJcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpbWVySW1nJywgdGltZXJJbWcpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndGltZXJfYWxlcnQnLCB0aW1lckFsZXJ0KTtcclxuICAgICAgICAvL0l0ZW1zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5keScsIGNhbmR5U3ByaXRlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4xJywgcHVtcGtpbjEpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjInLCBwdW1wa2luMik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMycsIHB1bXBraW4zKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JvY2snLCByb2NrKTtcclxuICAgICAgICAvL0NvbnRyb2xzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sV0FTRCcsIGNvbnRyb2xXQVNEKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xJSkxLJywgY29udHJvbElKTEspO1xyXG4gICAgICAgIC8vUG93ZXIgVXBzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzcGVlZF9wb3dlcnVwJywgc3BlZWRQb3dlclVwU3ByaXRlKTtcclxuICAgICAgICAvL1BsYXllcnNcclxuICAgICAgICAvL3BhcmEgZWwgaWRsZSAodGVtcG9yYWwpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2YW1waXJlc2FfZnJvbnRFc3QnLCB2YW1waXJlc2FGcm9udEVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd6b21iaV9mcm9udEVzdCcsIHpvbWJpRnJvbnRFc3QpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfZnJvbnQnLCB2YW1waXJlc2FGcm9udCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfYmFjaycsIHZhbXBpcmVzYWJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2xlZnQnLCAgdmFtcGlyZXNhTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfcmlnaHQnLCB2YW1waXJlc2FSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9mcm9udCcsICB6b21iaUZyb250LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX2JhY2snLCB6b21iaUJhY2ssIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfbGVmdCcsICB6b21iaUxlZnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfcmlnaHQnLCB6b21iaVJpZ2h0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvL0VzY2VuYXJpb1xyXG4gICAgICAgIGNvbnN0IGZsb29yID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCAxMjAwLCA4MDAsICdmbG9vcicpIFxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKSBcclxuICAgICAgICAuc2V0U2NhbGUoMykgXHJcbiAgICAgICAgLnNldERlcHRoKDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2dhbWVfYm91bmRhcnknKSAvLyAxMjAwLzIgeSA4MDAvMiBwYXJhIHF1ZSBlc3TDqSBlbiBlbCBjZW50cm9cclxuICAgICAgICAuc2V0U2NhbGUoMylcclxuICAgICAgICAuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2xlYXZlcycpXHJcbiAgICAgICAgLnNldFNjYWxlKDMpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNzUpO1xyXG5cclxuICAgICAgICAvL1ZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpOyAvL3BhcmEgcXVlIG5vIHNlIHN1cGVycG9uZ2FuIGxhcyBjYW5jaW9uZXNcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnZ2FtZV9tdXNpYycsIHtcclxuICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICAvL0Jhc2VzIGRlIGp1Z2Fkb3Jlcy4gQ3VhbmRvIHNlIGNvbGlzaW9uZSBjb24gZWxsYXMgKyB0ZW5nYW4gY2FyYW1lbG8sIHNlIGhhcsOhIGNhbGxiYWNrIVxyXG4gICAgICAgICAgICAvLyBCYXNlIGF6dWwgaXpxdWllcmRhIC0gUExBWUVSIDFcclxuICAgICAgICAgICAgLy8gQmFzZSByb2phIGRlcmVjaGEgLSBQTEFZRVIgMlxyXG4gICAgICAgIGNvbnN0IGJhc2VfU0laRSA9IDk2O1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IDMzOyAvL29mZnNldCBwb3IgZWwgZ2FtZWJvdW5kYXJ5LCBwYXJhIHF1ZSBzYWxnYSBsYSBiYXNlIGVudGVyYVxyXG5cclxuICAgICAgICBjb25zdCBibHVlQmFzZSA9IHRoaXMuYWRkLmltYWdlKChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgJ2JsdWVCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcbiAgICAgICAgY29uc3QgcmVkQmFzZSA9IHRoaXMuYWRkLmltYWdlKCgxMjAwLWJhc2VfU0laRSkrIG9mZnNldC8yLCA0MDAsICdyZWRCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcblxyXG5cclxuICAgICAgICAvL1RlbXBvcml6YWRvclxyXG4gICAgICAgIGNvbnN0IHRpbWVySW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDk1LCAndGltZXJJbWcnKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OSlcclxuICAgICAgICAuc2V0U2NhbGUoNilcclxuICAgICAgICAuc2V0QWxwaGEoMC43NSk7XHJcbiAgICAgICAgbGV0IHRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsIFwiNDVcIiwge2ZvbnRTaXplOiBcIjQ4cHhcIixjb2xvcjogXCIjZmZmZmZmXCJ9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24gPSBuZXcgVGltZXJDb250cm9sbGVyKHRoaXMsIHRpbWVyVGV4dCk7XHJcbiAgICAgICAgdGhpcy5yb3VuZCA9IDE7XHJcbiAgICAgICAgdGhpcy5zdGFydFJvdW5kKDQ1MDAwKTtcclxuXHJcbiAgICAgICAgLy9BY2NlZGVyIGEgZXNjZW5hIGRlIFBhdXNhIGFsIHB1bHNhciBFU0NcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAgQ29udHJvbGFkb3IgZGUgZW50aWRhZGVzLCBsaXN0YSBkZSBlbnRpZGFkZXMgcXVlIGFjdHVhbGl6YSBlbiAndXBkYXRlJ1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyID0gbmV3IEVudGl0aWVzQ29udHJvbGxlcigpO1xyXG5cclxuICAgICAgICAvL1BsYXllcnNcclxuICAgICAgICAvL0FuaW1hY2lvbmVzXHJcbiAgICAgICAgLy9WYW1waXJlc2FcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3ZhbXBpcmVzYV9mcm9udF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfZnJvbnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNiwgLy9WZWxvY2lkYWQgYW5pbWFjacOzblxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xIC8vU2UgcmVwaXRlIGVuIGJ1Y2xlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfYmFja19hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfYmFjaycsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfbGVmdF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCd2YW1waXJlc2FfbGVmdCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd2YW1waXJlc2FfcmlnaHRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygndmFtcGlyZXNhX3JpZ2h0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9ab21iaWVcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2Zyb250X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3pvbWJpX2Zyb250JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDYsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3pvbWJpX2JhY2tfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfYmFjaycsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICd6b21iaV9sZWZ0X2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3pvbWJpX2xlZnQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnem9tYmlfcmlnaHRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnem9tYmlfcmlnaHQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMua2V5czEgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyAvL1AxXHJcbiAgICAgICAgICAgIHVwOiAnVycsXHJcbiAgICAgICAgICAgIGRvd246ICdTJyxcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5czIgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoeyAvL1AyXHJcbiAgICAgICAgICAgIHVwOiAnSScsXHJcbiAgICAgICAgICAgIGRvd246ICdLJyxcclxuICAgICAgICAgICAgbGVmdDogJ0onLFxyXG4gICAgICAgICAgICByaWdodDogJ0wnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBjb250cm9sZXMgYWwgaW5pY2lvXHJcbiAgICAgICAgdGhpcy5jb250cm9sc1VJMT0gdGhpcy5hZGQuaW1hZ2UoMTgwLCAyMCwgJ2NvbnRyb2xXQVNEJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAsMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjI1KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY29udHJvbHNVSTEsXHJcbiAgICAgICAgICAgICAgICBhbHBoYTogMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sc1VJMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzVUkyPSB0aGlzLmFkZC5pbWFnZSg4MzAsIDIwLCAnY29udHJvbElKTEsnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMCwwKVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jb250cm9sc1VJMixcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzVUkyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuXHJcbiAgICAgICAgLy9JbnN0YW5jaWFyIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IG5ldyBQbGF5ZXIoMTAwLCA0MDAsIDAuNCwgJ3pvbWJpJywgdGhpcywgdGhpcy5rZXlzMSwgJ0UnKTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBuZXcgUGxheWVyKDExMDAsIDQwMCwgMC40LCAndmFtcGlyZXNhJywgdGhpcywgdGhpcy5rZXlzMiwgJ08nKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMucGxheWVyMSk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMucGxheWVyMik7XHJcblxyXG4gICAgICAgIC8vICBDYW5keVxyXG4gICAgICAgIHRoaXMuY2FuZHkgPSBuZXcgQ2FuZHkoMC4yLCAnY2FuZHknLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNhbmR5LnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuY2FuZHkpO1xyXG5cclxuICAgICAgICAvLyAgVGhyb3dhYmxlIEl0ZW1zXHJcbiAgICAgICAgdGhpcy5pdGVtMSA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3B1bXBraW4xJywgdGhpcylcclxuICAgICAgICB0aGlzLml0ZW0xLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuaXRlbTEpO1xyXG4gICAgICAgIHRoaXMuaXRlbTIgPSBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdwdW1wa2luMicsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pdGVtMi5zZXR1cE92ZXJsYXAodGhpcy5wbGF5ZXIxLCB0aGlzLnBsYXllcjIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLml0ZW0yKTtcclxuICAgICAgICB0aGlzLml0ZW0zID0gbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjMnLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTMuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtMyk7XHJcbiAgICAgICAgdGhpcy5pdGVtNCA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTQuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtNCk7XHJcbiAgICAgICAgdGhpcy5pdGVtNSA9IG5ldyBUaHJvd2FibGVJdGVtKDAuMywgJ3JvY2snLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaXRlbTUuc2V0dXBPdmVybGFwKHRoaXMucGxheWVyMSwgdGhpcy5wbGF5ZXIyLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5pdGVtNSk7XHJcblxyXG4gICAgICAgIC8vICBCYXNrZXRzXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxID0gbmV3IENhbmR5QmFza2V0KChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgNzAsIDMxMCwgdGhpcy5wbGF5ZXIxLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIgPSBuZXcgQ2FuZHlCYXNrZXQoKDEyMDAtYmFzZV9TSVpFKSsgb2Zmc2V0LzIsIDQwMCwgMTIwMCAtIDkwLCAzMTAsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMVNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDQ0NywgODAsIFwiMFwiLCB7Zm9udFNpemU6IFwiNDhweFwiLGNvbG9yOiBcIiNmZmZmZmZcIn0pXHJcbiAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoNzIzLCA4MCwgXCIwXCIsIHtmb250U2l6ZTogXCI0OHB4XCIsY29sb3I6IFwiI2ZmZmZmZlwifSlcclxuICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFBvd2VyIFVwXHJcbiAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAgPSBuZXcgU3BlZWRQb3dlclVwKDYwMCwgNDAwLCAwLjMsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLnBsYXllcjEsIHRoaXMucGxheWVyMiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllc0NvbnRyb2xsZXIuQWRkRW50aXR5KHRoaXMuc3BlZWRQb3dlclVwKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB0aGlzLmNvdW50ZG93bi51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5VcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFJvdW5kKHNlY29uZHMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24uc3RhcnQoc2Vjb25kcywgKCkgPT4gdGhpcy5lbmRSb3VuZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRSb3VuZCgpe1xyXG4gICAgICAgIHRoaXMucm91bmQrKztcclxuXHJcbiAgICAgICAgaWYodGhpcy5iYXNrZXQxLmNhbmRpZXMgPiB0aGlzLmJhc2tldDIuY2FuZGllcykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQudGV4dCA9IGAkeysrdGhpcy5wbGF5ZXIxU2NvcmV9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLmJhc2tldDEuY2FuZGllcyA8IHRoaXMuYmFza2V0Mi5jYW5kaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dC50ZXh0ID0gYCR7Kyt0aGlzLnBsYXllcjJTY29yZX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iYXNrZXQxLlJlc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmJhc2tldDIuUmVzdGFydCgpO1xyXG5cclxuICAgICAgICAvLyBTaSBlcyBsYSDDumx0aW1hIHJvbmRhLCBtb3N0cmFyIEdhbWVPdmVyXHJcbiAgICAgICAgaWYgKHRoaXMucm91bmQgPiA0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ0dhbWVPdmVyID0gdGhpcy5hZGQudGV4dCg2MDAsIDM1MCwgYEZJTiBERSBMQSBQQVJUSURBYCwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZjAwMDBmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3aW5uZXJUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyMVNjb3JlID4gdGhpcy5wbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhR2FuYSBKdWdhZG9yIDEhXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXIyU2NvcmUgPiB0aGlzLnBsYXllcjFTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMiFcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhRW1wYXRlIVwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtc2dXaW5uZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzNnB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtc2dHYW1lT3Zlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtc2dXaW5uZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIk1haW5NZW51XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1zZ1JvdW5kID0gdGhpcy5hZGQudGV4dCg2MDAsIDQwMCwgYFJvbmRhICR7dGhpcy5yb3VuZCAtIDF9IHRlcm1pbmFkYWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwYTdcIixcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgbXNnUm91bmQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEdXJhdGlvbiA9IE1hdGgubWF4KDAsIDQ1MDAwIC0gKDE1MDAwICogKHRoaXMucm91bmQgLSAxKSkpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Um91bmQobmV3RHVyYXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG4vL2ltcG9ydGFyIGltYWdlbmVzXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IG1lbnVQYXVzZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9QYXVzZUJhY2tncm91bmQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYnV0dG9uQmFja2dyb3VuZCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvQnV0dG9uLnBuZyc7XHJcbi8vaW1wb3J0YXIgY2xhc2VzIEJ1dHRvblxyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvbWFuYWdlcnMvQXVkaW9NYW5hZ2VyLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgYnV0dG9uU291bmQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zZngvQnV0dG9uUHJlc3MubXAzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21lbnVQYXVzZScsIG1lbnVQYXVzZSk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnV0dG9uQmFja2dyb3VuZCcsIGJ1dHRvbkJhY2tncm91bmQpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYnV0dG9uX3NvdW5kJywgYnV0dG9uU291bmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIEZvbmRvIGdyaXNcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgNDAwLCAxMjAwLCA4MDAsIDB4MDAwMDAwLCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBGb25kbyBjZW50cmFkb1xyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdtZW51UGF1c2UnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAvLyBBanVzdGFyIGxhIGltYWdlblxyXG4gICAgICAgIGJnLmRpc3BsYXlXaWR0aCA9IDEyMDA7ICAgLy8gYW5jaG8gZGVsIGNhbnZhc1xyXG4gICAgICAgIGJnLmRpc3BsYXlIZWlnaHQgPSA4MDA7ICAvLyBhbHRvIGRlbCBjYW52YXMgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9Wb2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gQXVkaW9NYW5hZ2VyLkdldFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgXCJSZWFudWRhclwiXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDMwMCwgdGhpcywgJ2J1dHRvbkJhY2tncm91bmQnLCAnUmVhbnVkYXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSgnR2FtZVNjZW5lJyk7IC8vIFJlYW51ZGFyIGxhIGVzY2VuYSBkZWwganVlZ29cclxuICAgICAgICB9LCB7IGZvbnRTaXplOiAnMjNweCcgfSk7XHJcbiAgICAgICAgIFxyXG5cclxuICAgICAgICAvL0JvdMOzbiB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IG5ldyBCdXR0b24oNjAwLCA0MjUsIHRoaXMsICdidXR0b25CYWNrZ3JvdW5kJywgJ01lbsO6JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL0F1ZGlvTWFuYWdlci5QbGF5KHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0dhbWVTY2VuZScpOyAvLyBEZXRlbmVyIGxhIGVzY2VuYSBkZWwganVlZ29cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTsgLy8gSXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIC8vQm90w7NuIGRlIFwiQWp1c3Rlc1wiXHJcbiAgICAgICAgY29uc3QgY29uZmlnQnV0dG9uID0gbmV3IEJ1dHRvbig2MDAsIDU1MCwgdGhpcywgJ2J1dHRvbkJhY2tncm91bmQnLCAnQWp1c3RlcycsICgpID0+IHtcclxuICAgICAgICAgICAgLy9BdWRpb01hbmFnZXIuUGxheSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzTWVudScsIHsgZnJvbTogJ1BhdXNlU2NlbmUnIH0pOyAvLyBBYnJpciBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5icmluZ1RvVG9wKCdTZXR0aW5nc01lbnUnKTtcclxuICAgICAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7IC8vIFBhdXNhciBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL0VudGl0eS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZVNwZWVkUG93ZXJVcCBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSwgc2NlbmUsIGlkKSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgc2NhbGUsICdzcGVlZF9wb3dlcnVwJywgc2NlbmUsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRTaXplKFxyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3Qud2lkdGggKiBzY2FsZSxcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmhlaWdodCAqIHNjYWxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS5zZXRPZmZzZXQoXHJcbiAgICAgICAgICAgICh0aGlzLmdhbWVPYmplY3Qud2lkdGggLSB0aGlzLmdhbWVPYmplY3QuYm9keS53aWR0aCkgLyAyLFxyXG4gICAgICAgICAgICAodGhpcy5nYW1lT2JqZWN0LmhlaWdodCAtIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmhlaWdodCkgLyAyXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuc2V0RW5hYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE92ZXJsYXAobG9jYWxQbGF5ZXIsIHNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICBsb2NhbFBsYXllci5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAoKSA9PiB0aGlzLm9uQ29sbGVjdGVkKCksXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGVjdGVkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yLiBOTyBhcGxpY2FyIGVmZWN0byBhcXXDrVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc2VuZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1dFUlVQX0NPTExFQ1RFRCcsXHJcbiAgICAgICAgICAgIHBvd2VyVXBJZDogdGhpcy5pZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3Quc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZhdGUoeCwgeSkge1xyXG4gICAgICAgIHRoaXMuTW92ZVRvKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmplY3QuYm9keS51cGRhdGVGcm9tR2FtZU9iamVjdCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG4vL2ltcG9ydGFyIGltYWdlbmVzXHJcbi8vSlVFR09cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZmxvb3IgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3N0b25lX3RpbGUucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZ2FtZV9ib3VuZGFyeSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvZ2FtZV9ib3VuZGFyeS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBsZWF2ZXMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL2xlYXZlc19vdmVybGF5LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGJsdWVCYXNlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9ibHVlQmFzZS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCByZWRCYXNlIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9yZWRCYXNlLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGRlc2NvbmVjdGlvblNjcmVlbkltZyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL2ltYWdlcy9EaXNjb25lY3Rpb24uanBnJztcclxuXHJcbi8vVElNRVJcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdGltZXJJbWcgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1RpbWVyMS5wbmcnO1xyXG5cclxuLy9JVEVNU1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBjYW5keVNwcml0ZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvY2FyYW1lbG8ucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjEgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YS5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBwdW1wa2luMiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqIGNhbGFiYXphIDIucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgcHVtcGtpbjMgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBjYWxhYmF6YSAzLnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHJvY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL29iaiBwaWVkcmEucG5nJztcclxuXHJcbi8vQ09OVFJPTEVTL0JPVE9ORVNcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgY29udHJvbFdBU0QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9pbWFnZXMvQ29udHJvbHNXQVNELnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IGNvbnRyb2xJSkxLIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvaW1hZ2VzL0NvbnRyb2xzSUpLTC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCBTUFJfQnV0dG9uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9CdXR0b24ucG5nJztcclxuXHJcbi8vUE9XRVIgVVBTXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHNwZWVkUG93ZXJVcFNwcml0ZSBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvb2JqX2ZvY29fZGVmLnBuZyc7XHJcblxyXG4vL1BFUlNPTkFKRVNcclxuLy9QYXJhIGVsIGlkbGUgKHRlbXBvcmFsKVxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FGcm9udEVzdCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHpvbWJpRnJvbnRFc3QgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL3pvbWJpZV9mcm9udC5wbmcnO1xyXG4vL0FuaW1hY2lvbmVzXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYUZyb250IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2Zyb250LnBuZyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHZhbXBpcmVzYWJhY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfYmFjay5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB2YW1waXJlc2FMZWZ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1NfdmFtcGlyZXNhX2xlZnQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgdmFtcGlyZXNhUmlnaHQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU192YW1waXJlc2FfcmlnaHQucG5nJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgem9tYmlGcm9udCBmcm9tICcuLi8uLi8uLi9wdWJsaWMvYXNzZXRzL3Nwcml0ZXMvU3ByaXRlc2hlZXRzL1NTX3pvbWJpZV9mcm9udC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUJhY2sgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfYmFjay5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaUxlZnQgZnJvbSAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9zcHJpdGVzL1Nwcml0ZXNoZWV0cy9TU196b21iaWVfbGVmdC5wbmcnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB6b21iaVJpZ2h0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc3ByaXRlcy9TcHJpdGVzaGVldHMvU1Nfem9tYmllX3JpZ2h0LnBuZyc7XHJcblxyXG4vL1NPTklET1NcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgZ2FtZU11c2ljIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvZ2FtZV9tdXNpYy5tcDMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB0aW1lckFsZXJ0IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvbXVzaWMvdGltZXJfYWxlcnQubXAzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgU0ZYX0J1dHRvblByZXNzIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9hc3NldHMvc2Z4L0J1dHRvblByZXNzLm1wMyc7XHJcblxyXG4vL0NMQVNFU1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9wbGF5ZXIvcGxheWVyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gJy4uLy4uL2NsaWVudC9tYW5hZ2Vycy9BdWRpb01hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBFbnRpdGllc0NvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9jb250cm9sbGVycy9FbnRpdGllc0NvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBUaHJvd2FibGVJdGVtIH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvaXRlbXMvVGhyb3dhYmxlSXRlbS5qcyc7XHJcbmltcG9ydCB7IENhbmR5QmFza2V0IH0gZnJvbSAnLi4vLi4vY2xpZW50L2dhbWUvY29udHJvbGxlcnMvQ2FuZHlCYXNrZXQuanMnO1xyXG5pbXBvcnQgeyBTcGVlZFBvd2VyVXAgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9TcGVlZFBvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBPbmxpbmVDYW5keSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL09ubGluZUNhbmR5LmpzJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgT25saW5lVGhyb3dhYmxlSXRlbSB9IGZyb20gJy4uLy4uL2NsaWVudC9nYW1lL2l0ZW1zL09ubGluZVRocm93YWJsZUl0ZW0uanMnO1xyXG5pbXBvcnQgeyBPbmxpbmVTcGVlZFBvd2VyVXAgfSBmcm9tICcuLi8uLi9jbGllbnQvZ2FtZS9pdGVtcy9PbmxpbmVTcGVlZFBvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBUaW1lckNvbnRyb2xsZXIgfSBmcm9tICcuLi9nYW1lL2NvbnRyb2xsZXJzL1RpbWVyQ29udHJvbGxlci5qcyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE11bHRpcGxheWVyR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RTZW50U3RhdGUgPSB7IHg6IG51bGwsIHk6IG51bGwsIGFuaW06IG51bGwsIGlzTW92aW5nOiBudWxsIH07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7ICAgICAgICAgICAgICAgICAvLyBXZWJTb2NrZXRcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyB8ICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMuaGFzQ2FuZHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtR3JhYmJpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmNhbmR5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLml0ZW0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL0dhbWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zsb29yJywgZmxvb3IpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ2FtZV9ib3VuZGFyeScsIGdhbWVfYm91bmRhcnkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGVhdmVzJywgbGVhdmVzKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JsdWVCYXNlJyxibHVlQmFzZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWRCYXNlJyxyZWRCYXNlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpbWVySW1nJywgdGltZXJJbWcpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZ2FtZV9tdXNpYycsIGdhbWVNdXNpYyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTRlhfQnV0dG9uUHJlc3MnLCBTRlhfQnV0dG9uUHJlc3MpO1xyXG4gICAgICAgIC8vVGltZXJcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RpbWVyX2FsZXJ0JywgdGltZXJBbGVydCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aW1lckltZycsIHRpbWVySW1nKTtcclxuICAgICAgICAvL0l0ZW1zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5keScsIGNhbmR5U3ByaXRlKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1bXBraW4xJywgcHVtcGtpbjEpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVtcGtpbjInLCBwdW1wa2luMik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdW1wa2luMycsIHB1bXBraW4zKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JvY2snLCByb2NrKTtcclxuICAgICAgICAvL0NvbnRyb2xzIHkgQm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29udHJvbFdBU0QnLCBjb250cm9sV0FTRCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9sSUpMSycsIGNvbnRyb2xJSkxLKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NQUl9CdXR0b24nLCBTUFJfQnV0dG9uKTtcclxuICAgICAgICAvL1Bvd2VyIFVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3BlZWRfcG93ZXJ1cCcsIHNwZWVkUG93ZXJVcFNwcml0ZSk7XHJcbiAgICAgICAgLy9QbGF5ZXJzXHJcbiAgICAgICAgLy9wYXJhIGVsIGlkbGUgKHRlbXBvcmFsKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmFtcGlyZXNhX2Zyb250RXN0JywgdmFtcGlyZXNhRnJvbnRFc3QpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnem9tYmlfZnJvbnRFc3QnLCB6b21iaUZyb250RXN0KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2Zyb250JywgdmFtcGlyZXNhRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgndmFtcGlyZXNhX2JhY2snLCB2YW1waXJlc2FiYWNrLCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3ZhbXBpcmVzYV9sZWZ0JywgdmFtcGlyZXNhTGVmdCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd2YW1waXJlc2FfcmlnaHQnLCB2YW1waXJlc2FSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9mcm9udCcsIHpvbWJpRnJvbnQsIHsgZnJhbWVXaWR0aDogMjU2LCBmcmFtZUhlaWdodDogMjU2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnem9tYmlfYmFjaycsIHpvbWJpQmFjaywgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCd6b21iaV9sZWZ0Jywgem9tYmlMZWZ0LCB7IGZyYW1lV2lkdGg6IDI1NiwgZnJhbWVIZWlnaHQ6IDI1NiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3pvbWJpX3JpZ2h0Jywgem9tYmlSaWdodCwgeyBmcmFtZVdpZHRoOiAyNTYsIGZyYW1lSGVpZ2h0OiAyNTYgfSk7XHJcblxyXG4gICAgICAgIC8vRGVzY29uZWN0aW9uIGltYWdlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkaXNjb25lY3Rpb25TY3JlZW4nLCBkZXNjb25lY3Rpb25TY3JlZW5JbWcpO1xyXG5cclxuICAgICAgICAvL0NhcmdhciBmdWVudGVcclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdCdXR0b25zRm9udCcsICd1cmwoZm9udHMvYWxhZ2FyZF9mb250LnR0ZiknKTtcclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKChsb2FkZWRGb250KSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBJRCBkZWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGxvY2FsVXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDEyMDAsIDgwMCwgJ2Zsb29yJykuc2V0T3JpZ2luKDAsIDApLnNldFNjYWxlKDMpO1xyXG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg2MDAsIDQwMCwgJ2dhbWVfYm91bmRhcnknKS5zZXRTY2FsZSgzKS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNjAwLCA0MDAsICdsZWF2ZXMnKS5zZXRTY2FsZSgzKS5zZXRBbHBoYSgwLjc1KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEJhc2VzIGRlIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIGNvbnN0IGJhc2VfU0laRSA9IDk2O1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IDMzOyAvL29mZnNldCBwb3IgZWwgZ2FtZWJvdW5kYXJ5LCBwYXJhIHF1ZSBzYWxnYSBsYSBiYXNlIGVudGVyYVxyXG5cclxuICAgICAgICBjb25zdCBibHVlQmFzZSA9IHRoaXMuYWRkLmltYWdlKChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgJ2JsdWVCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcbiAgICAgICAgY29uc3QgcmVkQmFzZSA9IHRoaXMuYWRkLmltYWdlKCgxMjAwLWJhc2VfU0laRSkrIG9mZnNldC8yLCA0MDAsICdyZWRCYXNlJylcclxuICAgICAgICAuc2V0U2NhbGUoMyk7XHJcblxyXG4gICAgICAgIC8vIEF1ZGlvXHJcbiAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSBBdWRpb01hbmFnZXIuR2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdnYW1lX211c2ljJywgeyB2b2x1bWU6IEF1ZGlvTWFuYWdlci5HZXRWb2x1bWUoKSwgbG9vcDogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGFkb3Jlc1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyID0gbmV3IEVudGl0aWVzQ29udHJvbGxlcigpO1xyXG5cclxuICAgICAgICAvLyBJbnN0YW5jaWFyIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygpO1xyXG5cclxuICAgICAgICB0aGlzLmtleXMxID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHsgdXA6ICdXJywgZG93bjogJ1MnLCBsZWZ0OiAnQScsIHJpZ2h0OiAnRCcgfSk7XHJcbiAgICAgICAgdGhpcy5rZXlzMiA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7IHVwOiAnSScsIGRvd246ICdLJywgbGVmdDogJ0onLCByaWdodDogJ0wnIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBuZXcgUGxheWVyKDEwMCwgNDAwLCAwLjQsICd6b21iaScsIHRoaXMsIHRoaXMua2V5czEsICdFJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbmV3IFBsYXllcigxMTAwLCA0MDAsIDAuNCwgJ3ZhbXBpcmVzYScsIHRoaXMsIG51bGwsIG51bGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIyJykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG5ldyBQbGF5ZXIoMTEwMCwgNDAwLCAwLjQsICd2YW1waXJlc2EnLCB0aGlzLCB0aGlzLmtleXMyLCAnTycsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG5ldyBQbGF5ZXIoMTAwLCA0MDAsIDAuNCwgJ3pvbWJpJywgdGhpcywgbnVsbCwgbnVsbCwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmxvY2FsUGxheWVyKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5yZW1vdGVQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBJdGVtcywgY2FuZHkgYmFza2V0cywgcG93ZXItdXBzXHJcbiAgICAgICAgLyogdGhpcy5jYW5keSA9IG5ldyBDYW5keSgwLjIsICdjYW5keScsIHRoaXMpO1xyXG4gICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5jYW5keSk7Ki9cclxuXHJcbiAgICAgICAgLy8gIEJhc2tldHNcclxuICAgICAgICB0aGlzLmJhc2tldDEgPSBuZXcgQ2FuZHlCYXNrZXQoKDEyMDAtYmFzZV9TSVpFKSsgb2Zmc2V0LzIsIDQwMCwgNzAsIDMxMCwgdGhpcy5sb2NhbFBsYXllciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5iYXNrZXQyID0gbmV3IENhbmR5QmFza2V0KChiYXNlX1NJWkUvMikgKyBvZmZzZXQsIDQwMCwgMTIwMCAtIDkwLCAzMTAsIHRoaXMucmVtb3RlUGxheWVyLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyMVNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoNDQ3LCA4MCwgXCIwXCIsIHsgZm9udFNpemU6IFwiNDhweFwiLCBjb2xvcjogXCIjZmZmZmZmXCIgfSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyMlNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoNzIzLCA4MCwgXCIwXCIsIHsgZm9udFNpemU6IFwiNDhweFwiLCBjb2xvcjogXCIjZmZmZmZmXCIgfSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgdGhyb3dhYmxlIGl0ZW1zXHJcbiAgICAgICAgLyogdGhpcy5pdGVtcyA9IFtcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjEnLCB0aGlzKSxcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjInLCB0aGlzKSxcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncHVtcGtpbjMnLCB0aGlzKSxcclxuICAgICAgICAgICAgbmV3IFRocm93YWJsZUl0ZW0oMC4zLCAncm9jaycsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgVGhyb3dhYmxlSXRlbSgwLjMsICdyb2NrJywgdGhpcylcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eShpdGVtKSk7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5zZXR1cE92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpKTsqL1xyXG5cclxuICAgICAgICB0aGlzLmJhc2tldDEgPSBuZXcgQ2FuZHlCYXNrZXQoNjAsIDQwMCwgNzAsIDMxMCwgdGhpcy5sb2NhbFBsYXllciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5iYXNrZXQyID0gbmV3IENhbmR5QmFza2V0KDEyMDAgLSA2MCwgNDAwLCAxMjAwIC0gOTAsIDMxMCwgdGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMpO1xyXG5cclxuICAgICAgICAvKnRoaXMuc3BlZWRQb3dlclVwID0gbmV3IFNwZWVkUG93ZXJVcCg2MDAsIDQwMCwgMC4zLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkodGhpcy5zcGVlZFBvd2VyVXApO1xyXG4gICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzLnJlbW90ZVBsYXllciwgdGhpcyk7Ki9cclxuXHJcbiAgICAgICAgLy8gIFRlbXBvcml6YWRvclxyXG4gICAgICAgIHRoaXMudGltZXJJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDYwMCwgOTUsICd0aW1lckltZycpXHJcbiAgICAgICAgLnNldERlcHRoKDk5KVxyXG4gICAgICAgIC5zZXRTY2FsZSg2KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjc1KTtcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsIFwiNDVcIiwgeyBmb250U2l6ZTogXCI0OHB4XCIsIGNvbG9yOiBcIiNmZmZmZmZcIiB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuICAgICAgICB0aGlzLmNvdW50ZG93biA9IG5ldyBUaW1lckNvbnRyb2xsZXIodGhpcywgdGhpcy50aW1lclRleHQpO1xyXG4gICAgICAgIC8vaWYgKHRoaXMucGxheWVyUm9sZSAhPT0gXCJwbGF5ZXIxXCIpIHRoaXMuY291bnRkb3duLmRpc2FibGVDb3VudGRvd24oKTtcclxuICAgICAgICB0aGlzLnJvdW5kID0gMTtcclxuICAgICAgICB0aGlzLnN0YXJ0Um91bmQoNDUwMDApO1xyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gSU5QVVQgTE9DQUxcclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBXRUJTT0NLRVRcclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldCgpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgcXVlIGVzdGFtb3MgbGlzdG9zXHJcbiAgICAgICAgdGhpcy5zZW5kKHsgdHlwZTogJ1BMQVlFUl9SRUFEWScgfSk7XHJcbiAgICAgICAgdGhpcy53cy5pbkxvYmJ5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJHQU1FX1NDRU5FX1JFQURZXCIgfSkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk11bHRpcGxheWVyR2FtZVNjZW5lOiBoYW5kbGVyIGFjdGl2YWRvXCIpO1xyXG5cclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTVEFSVF9HQU1FJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1RBUlRfR0FNRSByZWNpYmlkbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1VQREFURV9USU1FUic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEub3duZXIgIT09IHRoaXMucGxheWVyUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZG93bi5zZXQoZGF0YS50aW1lTGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BMQVlFUl9NT1ZFRCc6XHJcbiAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciAhPT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuTW92ZVRvKGRhdGEueCwgZGF0YS55KTsgXHJcbiAgICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5yZW1vdGVQbGF5ZXIuZ2FtZU9iamVjdDsgXHJcbiAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmlzTW92aW5nKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICBzcHJpdGUuYW5pbXMuc3RvcCgpOyBcclxuICAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZS50ZXh0dXJlLmtleSAhPT0gZGF0YS5hbmltKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2V0VGV4dHVyZShkYXRhLmFuaW0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSByZXR1cm47ICBcclxuICAgICAgICAgICAgICAgICAgICB9IGlmIChkYXRhLmFuaW0uaW5jbHVkZXMoXCJfYW5pbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBkYXRhLmFuaW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuYW5pbXMucGxheShkYXRhLmFuaW0sIHRydWUpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qICBcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbG8gbW92ZXIgYWwganVnYWRvciBSRU1PVE9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wbGF5ZXIgIT09IHRoaXMucGxheWVyUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5Nb3ZlVG8oZGF0YS54LCBkYXRhLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5hbmltLmluY2x1ZGVzKFwiX2FuaW1cIikpIHsgdGhpcy5yZW1vdGVQbGF5ZXIuZ2FtZU9iamVjdC5hbmltcy5wbGF5KGRhdGEuYW5pbSwgdHJ1ZSk7IFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5nYW1lT2JqZWN0LnNldFRleHR1cmUoZGF0YS5hbmltKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdDQU5EWV9TUEFXTic6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbmR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5nYW1lT2JqZWN0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuZHkgPSBuZXcgT25saW5lQ2FuZHkoZGF0YS5jYW5keS54LCBkYXRhLmNhbmR5LnksIDAuMiwgJ2NhbmR5JywgdGhpcywgZGF0YS5jYW5keS5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLmNhbmR5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmR5LnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzLnJlbW90ZVBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkNBTkRZX1BJQ0tFRFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5keSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBc2lnbmFyIGFsIGp1Z2Fkb3IgY29ycmVjdG9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5waWNrZXIgPT09IHRoaXMucGxheWVyUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmhhc0NhbmR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nID0gdGhpcy5jYW5keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5HcmFiSXRlbSh0aGlzLmxvY2FsUGxheWVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuaGFzQ2FuZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5jdXJyZW50SXRlbUdyYWJiaW5nID0gdGhpcy5jYW5keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5keS5HcmFiSXRlbSh0aGlzLnJlbW90ZVBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NBTkRZX1NDT1JFX1VQREFURSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0LnNldFRleHQoZGF0YS5zY29yZXMucGxheWVyMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIyU2NvcmVUZXh0LnNldFRleHQoZGF0YS5zY29yZXMucGxheWVyMik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnSVRFTV9TUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYElURU1fU1BBV04gcmVjaWJpZG8g4oaSIElEOiAke2RhdGEuaXRlbS5pZH0sIHg6ICR7ZGF0YS5pdGVtLnh9LCB5OiAke2RhdGEuaXRlbS55fWApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5pY2lhbGl6YXIgYXJyYXkgc2kgbm8gZXhpc3RlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLml0ZW1zKSB0aGlzLml0ZW1zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1c2NhciBzaSB5YSBleGlzdGUgdW4gaXRlbSBjb24gZXN0ZSBpZFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ0l0ZW0gPSB0aGlzLml0ZW1zLmZpbmQoaXQgPT4gaXQuaWQgPT09IGRhdGEuaXRlbS5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWFyIG51ZXZvIE9ubGluZVRocm93YWJsZUl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IG5ldyBPbmxpbmVUaHJvd2FibGVJdGVtKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW0ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbS5zcHJpdGUsICAvLyBhcXXDrSB1c2FyIHNwcml0ZSBxdWUgdmllbmUgZGVsIHNlcnZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbS5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzQ29udHJvbGxlci5BZGRFbnRpdHkobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0uc2V0dXBPdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMucGxheWVyUm9sZSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHdWFyZGFyIGVuIGVsIGFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChuZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBY3R1YWxpemFyIHBvc2ljacOzbiBkZWwgaXRlbSBleGlzdGVudGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJdGVtLk1vdmVUbyhkYXRhLml0ZW0ueCwgZGF0YS5pdGVtLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0l0ZW0uaGFzU3Bhd25lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJUSFJPV0FCTEVfUElDS0VEXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXMuZmluZChpID0+IGkuaWQgPT09IGRhdGEuaXRlbUlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHRhciBkZWwgbWFwYVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uTW92ZVRvKC05OTk5LCAtOTk5OSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzaWduYXIgYWwganVnYWRvciBjb3JyZWN0b1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBpY2tlciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuaGFzVGhyb3dhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci50aHJvd2FibGVJdGVtID0gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5HcmFiSXRlbSh0aGlzLmxvY2FsUGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5oYXNUaHJvd2FibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci50aHJvd2FibGVJdGVtID0gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5HcmFiSXRlbSh0aGlzLnJlbW90ZVBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0lURU1fVEhST1dOJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHJvd25JdGVtID0gdGhpcy5pdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gZGF0YS5pdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhyb3duSXRlbSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93bkl0ZW0uVGhyb3dJdGVtKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX1NQQVdOOicsIGRhdGEucG93ZXJVcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zcGVlZFBvd2VyVXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXIgcG9yIHByaW1lcmEgdmV6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwID0gbmV3IE9ubGluZVNwZWVkUG93ZXJVcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wb3dlclVwLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLkFkZEVudGl0eSh0aGlzLnNwZWVkUG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLnNldHVwT3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBZYSBleGlzdGUg4oaSIGFjdHVhbGl6YXIgSUQsIHBvc2ljacOzbiB5IHJlYWN0aXZhcmxvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmlkID0gZGF0YS5wb3dlclVwLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkUG93ZXJVcC5hY3RpdmF0ZShkYXRhLnBvd2VyVXAueCwgZGF0YS5wb3dlclVwLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdQT1dFUlVQX0RFU1BBV04nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyBQT1dFUlVQX0RFU1BBV046JywgZGF0YS5wb3dlclVwSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkUG93ZXJVcD8uaWQgPT09IGRhdGEucG93ZXJVcElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWRQb3dlclVwLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwbGljYXIgZWZlY3RvIFNPTE8gYWwganVnYWRvciBjb3JyZWN0b1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3BlZWQgPSB0aGlzLmxvY2FsUGxheWVyLnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkICo9IDEuNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwZWVkID0gb3JpZ2luYWxTcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BPV0VSVVBfUkVTUEFXTic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZFBvd2VyVXAuYWN0aXZhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucG93ZXJVcC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBvd2VyVXAueVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRUpFQ1VUQU5ETyBIQU5ETEUgRElTQ09OTkVDVCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0VsIG90cm8ganVnYWRvciBzZSBoYSBkZXNjb25lY3RhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCAnVm9sdmVyIGFsIG1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01haW5NZW51Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgLy9QYXJhIHRvZGFzIGxhcyBlbnRpZGFkZXNcclxuXHJcbiAgICAgICAgdGhpcy5zaG93RGlzY29ubmVjdFNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dEaXNjb25uZWN0U2NyZWVuKCkge1xyXG4gICAgICAgIC8vIEJvcnJhciB0aW1lciB5IHB1bnR1YWNpb25lcy4gQW1iYXMgZXN0w6FuIGRlbGFudGUgZGUgbGEgcGFudGFsbGEsIGFzw60gcSBlcyBuZWNlc2FyaW8gYm9ycmFyXHJcbiAgICAgICAgdGhpcy50aW1lckltYWdlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxU2NvcmVUZXh0LmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAvLyBNb3N0cmFyIGltYWdlbiBkZSBkZXNjb25leGnDs25cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNDAwLCAnZGlzY29uZWN0aW9uU2NyZWVuJylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmcuZGlzcGxheVdpZHRoID0gMTIwMDtcclxuICAgICAgICBiZy5kaXNwbGF5SGVpZ2h0ID0gODAwO1xyXG5cclxuICAgICAgICBuZXcgQnV0dG9uKDg4MCwgNjAwLCB0aGlzLCAnU1BSX0J1dHRvbicsICdNZW7DuicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWFpbk1lbnUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kKG1zZykge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVTdGFydGVkIHx8IHRoaXMuZ2FtZUVuZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgbG9jYWxcclxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyLlVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBFbnZpYXIgcG9zaWNpw7NuIGFsIHNlcnZlclxyXG4gICAgICAgY29uc3Qgc3RhdGVDaGFuZ2VkID0gdGhpcy5sb2NhbFBsYXllci54ICE9PSB0aGlzLmxhc3RTZW50U3RhdGUueCB8fCB0aGlzLmxvY2FsUGxheWVyLnkgIT09IHRoaXMubGFzdFNlbnRTdGF0ZS55IHx8IHRoaXMubG9jYWxQbGF5ZXIuY3VycmVudEFuaW1hdGlvbiAhPT0gdGhpcy5sYXN0U2VudFN0YXRlLmFuaW0gfHwgdGhpcy5sb2NhbFBsYXllci5pc01vdmluZyAhPT0gdGhpcy5sYXN0U2VudFN0YXRlLmlzTW92aW5nOyBcclxuICAgICAgIGlmIChzdGF0ZUNoYW5nZWQpIHsgXHJcbiAgICAgICAgdGhpcy5zZW5kKHsgXHJcbiAgICAgICAgICAgIHR5cGU6ICdQTEFZRVJfTU9WRScsXHJcbiAgICAgICAgICAgICBwbGF5ZXI6IHRoaXMucGxheWVyUm9sZSwgXHJcbiAgICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGxheWVyLngsIFxyXG4gICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBsYXllci55LCBcclxuICAgICAgICAgICAgIGFuaW06IHRoaXMubG9jYWxQbGF5ZXIuY3VycmVudEFuaW1hdGlvbiwgXHJcbiAgICAgICAgICAgICBpc01vdmluZzogdGhpcy5sb2NhbFBsYXllci5pc01vdmluZyB9KTsgXHJcbiAgICAgICAgICAgICB0aGlzLmxhc3RTZW50U3RhdGUueCA9IHRoaXMubG9jYWxQbGF5ZXIueDsgXHJcbiAgICAgICAgICAgICB0aGlzLmxhc3RTZW50U3RhdGUueSA9IHRoaXMubG9jYWxQbGF5ZXIueTsgXHJcbiAgICAgICAgICAgICB0aGlzLmxhc3RTZW50U3RhdGUuYW5pbSA9IHRoaXMubG9jYWxQbGF5ZXIuY3VycmVudEFuaW1hdGlvbjsgXHJcbiAgICAgICAgICAgICB0aGlzLmxhc3RTZW50U3RhdGUuaXNNb3ZpbmcgPSB0aGlzLmxvY2FsUGxheWVyLmlzTW92aW5nOyBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZlciBjYXJhbWVsbyBjb24gZWwganVnYWRvciBxdWUgbG8gdGllbmVcclxuICAgICAgICBpZiAodGhpcy5sb2NhbFBsYXllci5oYXNDYW5keSAmJiB0aGlzLmxvY2FsUGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FuZHkgPSB0aGlzLmxvY2FsUGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmc7XHJcbiAgICAgICAgICAgIGNhbmR5Lk1vdmVUbyh0aGlzLmxvY2FsUGxheWVyLngsIHRoaXMubG9jYWxQbGF5ZXIueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVQbGF5ZXIuaGFzQ2FuZHkgJiYgdGhpcy5yZW1vdGVQbGF5ZXIuY3VycmVudEl0ZW1HcmFiYmluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjYW5keSA9IHRoaXMucmVtb3RlUGxheWVyLmN1cnJlbnRJdGVtR3JhYmJpbmc7XHJcbiAgICAgICAgICAgIGNhbmR5Lk1vdmVUbyh0aGlzLnJlbW90ZVBsYXllci54LCB0aGlzLnJlbW90ZVBsYXllci55KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmVyIHRocm93YWJsZSBzaSBsbyBsbGV2YSBlbCBqdWdhZG9yIGxvY2FsXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxQbGF5ZXIuaGFzVGhyb3dhYmxlICYmIHRoaXMubG9jYWxQbGF5ZXIudGhyb3dhYmxlSXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnRocm93YWJsZUl0ZW0uTW92ZVRvKHRoaXMubG9jYWxQbGF5ZXIueCwgdGhpcy5sb2NhbFBsYXllci55KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmVyIHRocm93YWJsZSBzaSBsbyBsbGV2YSBlbCBqdWdhZG9yIHJlbW90b1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZVBsYXllci5oYXNUaHJvd2FibGUgJiYgdGhpcy5yZW1vdGVQbGF5ZXIudGhyb3dhYmxlSXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci50aHJvd2FibGVJdGVtLk1vdmVUbyh0aGlzLnJlbW90ZVBsYXllci54LCB0aGlzLnJlbW90ZVBsYXllci55KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSBcInBsYXllcjFcIikge1xyXG4gICAgICAgICAgICAvLyBFbnZpYXIgdGllbXBvIGFjdHVhbGl6YWRvXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnVVBEQVRFX1RJTUUnLFxyXG4gICAgICAgICAgICAgICAgb3duZXI6IHRoaXMucGxheWVyUm9sZSxcclxuICAgICAgICAgICAgICAgIHRpbWVMZWZ0OiB0aGlzLmNvdW50ZG93bi5yZW1haW5pbmdUaW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciB0b2RvIGxvIGRlbcOhc1xyXG4gICAgICAgIHRoaXMuY291bnRkb3duLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNDb250cm9sbGVyLlVwZGF0ZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cykgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0Um91bmQoc2Vjb25kcykge1xyXG4gICAgICAgIGlmICh0aGlzLmNvdW50ZG93bi5jYW5Db3VudERvd24pIHRoaXMuY291bnRkb3duLnN0YXJ0KHNlY29uZHMsICgpID0+IHRoaXMuZW5kUm91bmQoKSk7XHJcbiAgICAgICAgZWxzZSB0aGlzLmNvdW50ZG93bi5zZXROb3RDb29sZG93bkV2ZW50KCgpID0+IHRoaXMuZW5kUm91bmQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZShyZWFzb24pIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gcmVhc29uID09PSAnZGlzY29ubmVjdCcgPyAnSnVnYWRvciBkZXNjb25lY3RhZG8nIDogJ0ZpbiBkZSBsYSBwYXJ0aWRhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCB0ZXh0LCB7IGZvbnRTaXplOiAnNDhweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kUm91bmQoKSB7XHJcbiAgICAgICAgdGhpcy5yb3VuZCsrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5iYXNrZXQxLmNhbmRpZXMgPiB0aGlzLmJhc2tldDIuY2FuZGllcykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcjFTY29yZVRleHQudGV4dCA9IGAkeysrdGhpcy5wbGF5ZXIxU2NvcmV9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNrZXQxLmNhbmRpZXMgPCB0aGlzLmJhc2tldDIuY2FuZGllcykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcjJTY29yZVRleHQudGV4dCA9IGAkeysrdGhpcy5wbGF5ZXIyU2NvcmV9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYmFza2V0MS5SZXN0YXJ0KCk7XHJcbiAgICAgICAgdGhpcy5iYXNrZXQyLlJlc3RhcnQoKTtcclxuXHJcbiAgICAgICAgLy8gU2kgZXMgbGEgw7psdGltYSByb25kYSwgbW9zdHJhciBHYW1lT3ZlclxyXG4gICAgICAgIGlmICh0aGlzLnJvdW5kID4gNCkge1xyXG4gICAgICAgICAgICBsZXQgd2lubmVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZ0dhbWVPdmVyID0gdGhpcy5hZGQudGV4dCg2MDAsIDM1MCwgYEZJTiBERSBMQSBQQVJUSURBYCwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNDhweFwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZjAwMDBmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3aW5uZXJUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyMVNjb3JlID4gdGhpcy5wbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhR2FuYSBKdWdhZG9yIDEhXCI7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXIgPSAncGxheWVyMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXIyU2NvcmUgPiB0aGlzLnBsYXllcjFTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dCA9IFwiwqFHYW5hIEp1Z2Fkb3IgMiFcIjtcclxuICAgICAgICAgICAgICAgIHdpbm5lciA9ICdwbGF5ZXIyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lclRleHQgPSBcIsKhRW1wYXRlIVwiO1xyXG4gICAgICAgICAgICAgICAgIHdpbm5lciA9ICdlbXBhdGUnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtc2dXaW5uZXIgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzNnB4XCIsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtc2dHYW1lT3Zlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtc2dXaW5uZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIk1haW5NZW51XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vU2kgZW1wYXRhIG8gZ2FuYSwgYcOxYWRpciB3aW5cclxuICAgICAgICAgICAgaWYgKCB3aW5uZXIgPT09ICdlbXBhdGUnIHx8IHdpbm5lciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFdpblRvQ3VycmVudFVzZXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbXNnUm91bmQgPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCBgUm9uZGEgJHt0aGlzLnJvdW5kIC0gMX0gdGVybWluYWRhYCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCI0OHB4XCIsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogXCJib2xkXCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBhN1wiLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBtc2dSb3VuZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0R1cmF0aW9uID0gTWF0aC5tYXgoMCwgNDUwMDAgLSAoMTUwMDAgKiAodGhpcy5yb3VuZCAtIDEpKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSb3VuZChuZXdEdXJhdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkV2luVG9DdXJyZW50VXNlcigpIHtcclxuICAgICAgICAvLyBPYnRlbmVyIGlkIGRlIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTtcclxuXHJcbiAgICAgICAgaWYgKCF1c2VySWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGZldGNoKGAvYXBpL3VzZXJzLyR7dXNlcklkfS93aW5gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gICAgICAgICAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXaW4gYcOxYWRpZG86JywgdXNlci53aW5zKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBhbmltcyA9IHRoaXMuYW5pbXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSBbJ3pvbWJpJywgJ3ZhbXBpcmVzYSddO1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ2Zyb250Jywgc2hlZXQ6ICdmcm9udCcgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnYmFjaycsIHNoZWV0OiAnYmFjaycgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnbGVmdCcsIHNoZWV0OiAnbGVmdCcgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAncmlnaHQnLCBzaGVldDogJ3JpZ2h0JyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNoYXJhY3RlcnMuZm9yRWFjaChjaGFyID0+IHtcclxuICAgICAgICAgICAgZGlyZWN0aW9ucy5mb3JFYWNoKGRpciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBgJHtjaGFyfV8ke2Rpci5uYW1lfV9hbmltYDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbXMuZXhpc3RzKGtleSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtjaGFyfV8ke2Rpci5zaGVldH1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXJ0OiAwLCBlbmQ6IDMgfVxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciwgeyBHYW1lIH0gZnJvbSAncGhhc2VyJztcclxuXHJcbmltcG9ydCB7IExvZ2luU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Mb2dpblNjZW5lLmpzJztcclxuaW1wb3J0IHsgTWFpbk1lbnUgfSBmcm9tICcuL3NjZW5lcy9NYWluTWVudS5qcyc7XHJcbmltcG9ydCB7IFBsYXlNb2RlTWVudSB9IGZyb20gJy4vc2NlbmVzL1BsYXlNb2RlTWVudS5qcyc7XHJcbmltcG9ydCB7IFR1dG9yaWFsTWVudSB9IGZyb20gJy4vc2NlbmVzL1R1dG9yaWFsTWVudS5qcyc7XHJcbmltcG9ydCB7IFNldHRpbmdzTWVudSB9IGZyb20gJy4vc2NlbmVzL1NldHRpbmdzTWVudS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNNZW51IH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0c01lbnUuanMnO1xyXG5pbXBvcnQgeyBMb2JieSB9IGZyb20gJy4vc2NlbmVzL0xvYmJ5LmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuXHJcbmNvbnN0IF9DT05GSUcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMjAwLFxyXG4gICAgaGVpZ2h0OiA4MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNjZW5lOiBbTG9naW5TY2VuZSwgTWFpbk1lbnUsIFBsYXlNb2RlTWVudSwgVHV0b3JpYWxNZW51LCBTZXR0aW5nc01lbnUsIENyZWRpdHNNZW51LCBMb2JieSwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBcclxuICAgIE11bHRpcGxheWVyR2FtZVNjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGl4ZWxBcnQ6IHRydWUsXHJcbiAgICBkb206IHtcclxuICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgX0dBTUUgPSBuZXcgUGhhc2VyLkdhbWUoX0NPTkZJRyk7XHJcbi8vIEFzZWd1cmFyIHF1ZSBjb21pZW56YSBlbiBsb2dpblxyXG5fR0FNRS5zY2VuZS5zdGFydCgnTG9naW5TY2VuZScpOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0IiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsInRlc3QiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiUGhhc2VyIiwiQXVkaW9NYW5hZ2VyIiwidm9sdW1lIiwiU2V0Vm9sdW1lIiwidiIsIkdldFZvbHVtZSIsIlBsYXkiLCJhdWRpbyIsInNjZW5lIiwic291bmQiLCJwbGF5IiwiQnV0dG9uIiwiY29uc3RydWN0b3IiLCJ4IiwieSIsInRleHR1cmUiLCJ0ZXh0IiwiY2FsbGJhY2siLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwiaW1hZ2UiLCJhZGQiLCJzZXRPcmlnaW4iLCJjb250YWluZXIiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRTY2FsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2V0VGludCIsInNldENvbG9yIiwiY2xlYXJUaW50Iiwic2V0VGV4dCIsIm5ld1RleHQiLCJzZXRQb3NpdGlvbiIsImRlc3Ryb3kiLCJMb2dpblNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsIkZvbnRGYWNlIiwidGhlbiIsImxvYWRlZEZvbnQiLCJmb250cyIsImNyZWF0ZSIsImNvbnNvbGUiLCJsb2ciLCJiZyIsImRpc3BsYXlXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJzdG9wQWxsIiwibXVzaWMiLCJsb29wIiwidXNlcm5hbWUiLCJmb2N1c2VkIiwicmVjdGFuZ2xlIiwiaW5wdXRCZyIsInNldFN0cm9rZVN0eWxlIiwiaW5wdXRUZXh0IiwibGluZSIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwidmlzaWJsZSIsImlucHV0IiwibWFuYWdlciIsImNhbnZhcyIsImN1cnNvciIsInBvaW50ZXIiLCJvYmplY3RzIiwiaW5jbHVkZXMiLCJrZXlib2FyZCIsImV2ZW50Iiwia2V5Iiwic2xpY2UiLCJ0cmltIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJqc29uIiwidXNlciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJpZCIsIlN0YXJ0TWVudSIsInVzZXJJZCIsImdldEl0ZW0iLCJvayIsImNhdGNoIiwicmVtb3ZlSXRlbSIsImNhbWVyYXMiLCJtYWluIiwiZmFkZU91dCIsIm9uY2UiLCJTY2VuZTJEIiwiRXZlbnRzIiwiRkFERV9PVVRfQ09NUExFVEUiLCJzdGFydCIsIk1haW5NZW51IiwiU3RhcnRQbGF5IiwiU3RhcnRUdXRvcmlhbCIsIlN0YXJ0U2V0dGluZ3MiLCJTdGFydENyZWRpdHMiLCJTdGFydExvY2FsR2FtZSIsInNob3dDdXJyZW50VXNlciIsImZhZGVJbiIsIndhcm4iLCJQbGF5TW9kZU1lbnUiLCJHb0JhY2siLCJpbml0IiwiZGF0YSIsInNvY2tldCIsInJvb21JZCIsIlR1dG9yaWFsTWVudSIsInBsYXllcjFJY29uIiwicGxheWVyMkljb24iLCJjb250cm9sc1VJMSIsInNldERlcHRoIiwiY29udHJvbHNVSTIiLCJTZXR0aW5nc01lbnUiLCJiYXJXaWR0aCIsInZvbHVtZUJhciIsImN1cnJlbnRWb2x1bWUiLCJ2b2x1bWVJbmRpY2F0b3IiLCJiYXJYIiwiaGFuZGxlIiwiY2lyY2xlIiwiZHJhZ2dhYmxlIiwic2V0RHJhZ2dhYmxlIiwiZHJhZ1giLCJkcmFnWSIsInNldFZvbHVtZSIsImxvY2FsWCIsIkNsYW1wIiwib3BlbmVkRnJvbSIsInN0b3AiLCJyZXN1bWUiLCJJbml0IiwiZnJvbSIsIkNyZWRpdHNNZW51Iiwic2V0QmFja2dyb3VuZENvbG9yIiwibG9nb0ltZyIsInNldEFscGhhIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJlYXNlIiwib25Db21wbGV0ZSIsImRlbGF5ZWRDYWxsIiwiU2hvd0NyZWRpdHNNZW51IiwiY3JlZGl0c0dydXBvIiwiZm9yRWFjaCIsIm5hbWUiLCJpbmRleCIsImFsaWduIiwiTG9iYnkiLCJzdGFydEJ1dHRvbiIsIndzIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJzZW5kIiwidHlwZSIsInN0YXRlVGV4dCIsIkxlYXZlIiwicGxheWVyMU5hbWUiLCJwbGF5ZXIyTmFtZSIsImNvbm5lY3RUb1NlcnZlciIsIkxlYXZlUXVldWUiLCJ3c1VybCIsImhvc3QiLCJpbkxvYmJ5Iiwib25vcGVuIiwib25tZXNzYWdlIiwicGFyc2UiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwiZXJyb3IiLCJvbmVycm9yIiwib25jbG9zZSIsImlzQWN0aXZlIiwicGxheWVyMVVzZXJuYW1lIiwicGxheWVyMlVzZXJuYW1lIiwiZW5lbXlJZCIsInJvbGUiLCJwbGF5ZXJSb2xlIiwiY2xvc2UiLCJUaW1lckNvbnRyb2xsZXIiLCJyZW1haW5pbmdUaW1lIiwiY2FuQ291bnREb3duIiwiY3ljbGVzIiwibWF4Q3ljbGVzIiwiZGlzYWJsZUNvdW50ZG93biIsInNldCIsInNldE5vdENvb2xkb3duRXZlbnQiLCJub3RDb29sZG93bkV2ZW50IiwiYWxlcnRQbGF5ZWQiLCJ0aW1lckV2ZW50IiwidW5kZWZpbmVkIiwidXBkYXRlIiwiZWxhcHNlZCIsImdldEVsYXBzZWQiLCJzZWNvbmRzIiwiTWF0aCIsIm1heCIsInRvRml4ZWQiLCJFbnRpdGllc0NvbnRyb2xsZXIiLCJlbnRpdGllcyIsIkFkZEVudGl0eSIsImVudGl0eSIsInB1c2giLCJVcGRhdGUiLCJlbGVtZW50IiwiRW50aXR5Iiwic2NhbGUiLCJzcHJpdGUiLCJ1c2VTcHJpdGUiLCJnYW1lT2JqZWN0IiwicGh5c2ljcyIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsInNldE9mZnNldCIsIk1vdmVUbyIsIlVwZGF0ZUJvZHlDb29yZHMiLCJNb3ZlIiwiSXRlbSIsInBsYXllckdyYWJiaW5nIiwicGxheWVyR3JhYmJpbmdJZCIsInNldHVwT3ZlcmxhcCIsInBsYXllciIsIm92ZXJsYXAiLCJHcmFiSXRlbSIsImN1cnJlbnRJdGVtR3JhYmJpbmciLCJDbGVhclBsYXllciIsIkNhbmR5IiwiUmVzZXQiLCJoYXNTcGF3bmVkIiwic3Bhd25UaW1lIiwiQmV0d2VlbiIsIlRocm93YWJsZUl0ZW0iLCJ0aHJvd1NwZWVkWCIsInRocm93U3BlZWRZIiwiaXNUaHJvd24iLCJ0aHJvd093bmVyIiwicGxheWVyMSIsInBsYXllcjIiLCJLbm9ja091dCIsIlRocm93IiwieERpciIsInlEaXIiLCJUaHJvd01vdmVtZW50IiwiYWJzIiwic2lnbiIsIk9ubGluZUNhbmR5IiwiT25Db2xsZWN0ZWQiLCJjYW5keUlkIiwiT25saW5lVGhyb3dhYmxlSXRlbSIsIm9uUGxheWVyT3ZlcmxhcCIsInBpY2tlciIsImdyYWJLZXkiLCJpc0Rvd24iLCJoYXNUaHJvd2FibGUiLCJpdGVtSWQiLCJDaGVja1Rocm93Iiwib3duZXIiLCJUaHJvd0l0ZW0iLCJmYWNpbmdYIiwiZmFjaW5nWSIsIlBsYXllciIsImNoYXJhY3Rlck5hbWUiLCJjdXJzb3JzIiwiZ3JhYkl0ZW1LZXkiLCJpc0xvY2FsIiwic3BlZWQiLCJoYXNDYW5keSIsImhhc0ludGVyYWN0ZWRXaXRoSXRlbXMiLCJoYXNVcGRhdGVkSXRlbUludGVyYWN0aW9uIiwiZ3JhYkl0ZW1JbnB1dE9uIiwiaXRlbUludGVyYWN0aW9uQ29vbGRvd24iLCJrbm9ja091dFRpbWVyIiwiYWRkS2V5IiwiSW5wdXQiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiTW92ZW1lbnQiLCJJdGVtSW5wdXRzIiwiQ2hlY2tQaWNrdXAiLCJ2eCIsInZ5IiwibW92aW5nIiwibGVmdCIsInJpZ2h0IiwidXAiLCJkb3duIiwiYW5pbWF0aW9uIiwiYW5pbXMiLCJzZXRUZXh0dXJlIiwiY3VycmVudEFuaW1hdGlvbiIsImlzTW92aW5nIiwiZ2FtZSIsImRlbHRhIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInN5cyIsImNvbmZpZyIsIml0ZW0iLCJlbnRpdGllc0NvbnRyb2xsZXIiLCJkeCIsImR5IiwiZGlzdGFuY2VUaHJlc2hvbGQiLCJEZWxpdmVyQ2FuZHkiLCJjYW5keSIsInBpY2tUaHJvd2FibGUiLCJ0aHJvd2FibGVJdGVtIiwiQ2FuZHlCYXNrZXQiLCJ0ZXh0WCIsInRleHRZIiwicGxheWVyT3duZXIiLCJjYW5kaWVzIiwiYmFja2dyb3VuZENvbG9yIiwiU2V0Q2FuZGllcyIsImNvdW50IiwiQ2hlY2tGb3JDYW5keSIsImxvY2FsUGxheWVyIiwiUmVzdGFydCIsIlNwZWVkUG93ZXJVcCIsImFjdGl2ZSIsImFwcGx5Iiwic2V0VmlzaWJsZSIsImVuYWJsZSIsIm9yaWdpbmFsU3BlZWQiLCJyZXNwYXduIiwiR2FtZVNjZW5lIiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ0aWxlU3ByaXRlIiwic2V0SW1tb3ZhYmxlIiwidGltZXJUZXh0IiwiY291bnRkb3duIiwicm91bmQiLCJzdGFydFJvdW5kIiwicGF1c2UiLCJsYXVuY2giLCJmcmFtZXMiLCJnZW5lcmF0ZUZyYW1lTnVtYmVycyIsImVuZCIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImtleXMxIiwiYWRkS2V5cyIsImtleXMyIiwiaXRlbTEiLCJpdGVtMiIsIml0ZW0zIiwiaXRlbTQiLCJpdGVtNSIsImJhc2tldDEiLCJiYXNrZXQyIiwicGxheWVyMVNjb3JlIiwicGxheWVyMVNjb3JlVGV4dCIsInBsYXllcjJTY29yZSIsInBsYXllcjJTY29yZVRleHQiLCJzcGVlZFBvd2VyVXAiLCJlbmRSb3VuZCIsIm1zZ0dhbWVPdmVyIiwiZm9udFN0eWxlIiwid2lubmVyVGV4dCIsIm1zZ1dpbm5lciIsIm1zZ1JvdW5kIiwibmV3RHVyYXRpb24iLCJQYXVzZVNjZW5lIiwiYnJpbmdUb1RvcCIsIk9ubGluZVNwZWVkUG93ZXJVcCIsInNldEFsbG93R3Jhdml0eSIsInNldEVuYWJsZSIsIm9uQ29sbGVjdGVkIiwicG93ZXJVcElkIiwiZGVhY3RpdmF0ZSIsImFjdGl2YXRlIiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJNdWx0aXBsYXllckdhbWVTY2VuZSIsImxhc3RTZW50U3RhdGUiLCJhbmltIiwiZ2FtZVN0YXJ0ZWQiLCJnYW1lRW5kZWQiLCJjcmVhdGVBbmltYXRpb25zIiwicmVtb3RlUGxheWVyIiwidGltZXJJbWFnZSIsInNldHVwV2ViU29ja2V0IiwidGltZUxlZnQiLCJjdXJyZW50QW5pbSIsInNjb3JlcyIsIml0ZW1zIiwiZXhpc3RpbmdJdGVtIiwiZmluZCIsIml0IiwibmV3SXRlbSIsInRocm93bkl0ZW0iLCJwb3dlclVwIiwiZW5kR2FtZSIsIndpbm5lciIsImhhbmRsZURpc2Nvbm5lY3QiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImNyZWF0ZU1lbnVCdXR0b24iLCJzaG93RGlzY29ubmVjdFNjcmVlbiIsIm1zZyIsInNodXRkb3duIiwicmVhc29uIiwiYWRkV2luVG9DdXJyZW50VXNlciIsIndpbnMiLCJkaXJlY3Rpb25zIiwic2hlZXQiLCJjaGFyIiwiZGlyIiwiZXhpc3RzIiwiX0NPTkZJRyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJwaXhlbEFydCIsImRvbSIsImNyZWF0ZUNvbnRhaW5lciJdLCJzb3VyY2VSb290IjoiIn0=